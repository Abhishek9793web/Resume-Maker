/*! For license information please see main.806e67fc.js.LICENSE.txt */
!function(){var e={392:function(e,t,n){"use strict";var r=n(780);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},188:function(e,t,n){e.exports=n(392)()},780:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},470:function(e,t,n){"use strict";var r=n(390),i=n(124);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){je=!1}function Re(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,Re.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,St=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Ot=new Map,jt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),jn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Rn,Mn=l&&(!Pn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var jr=0;jr<Dr.length;jr++){var Pr=Dr[jr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Cr:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ei(Ni),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Si(Ci,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Ki=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=ja(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=ja(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=ja(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),Ra(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(R(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),$a={},Za=Ii($a),eo=Ii($a),to=Ii($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||jo(n,t,i)}return i}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Ro(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||jo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Au.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=ja(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=ja(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ja(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||jc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pu,ju),ju|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pu,ju),ju|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Pu,ju),ju|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Pu,ju),ju|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Oi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Gs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,js,Ps,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&ji(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),js(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),js(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ju)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Js=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Iu,Eu=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Nu=0,Au=null,Du=null,Ou=0,ju=0,Pu=Ii(0),Ru=0,Lu=null,Mu=0,Fu=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Wu=null,Gu=!1,Hu=null,Ku=null,Qu=!1,Yu=null,Ju=0,Xu=0,$u=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,$u=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Ru&&uc(e,Ou)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Ou===t||(Wu=null,qu=Xe()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Su.current=o,Nu=i,null!==Du?t=0:(Au=null,Ou=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),t);break}xc(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),r);break}xc(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Xe()+500,Ui&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&_c();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&Bi()}}function hc(){ju=Pu.current,Ei(Pu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Du=e=Pc(e.current,null),Ou=ju=t,Ru=0,Lu=null,Uu=Fu=Mu=0,zu=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Du;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Ru=1,Lu=t,Du=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,Ou)}function yc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Ou===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Su.current=r,null!==Du)throw Error(a(261));return Au=null,Ou=0,Ru}function gc(){for(;null!==Du;)bc(Du)}function kc(){for(;null!==Du&&!Ye();)bc(Du)}function bc(e){var t=Iu(e.alternate,e,ju);e.memoizedProps=e.pendingProps,null===t?wc(e):Du=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,ju)))return void(Du=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Ru=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Ru&&(Ru=5)}function xc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Du=Au=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Je(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$u?Xu++:(Xu=0,$u=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function _c(){if(null!==Yu){var e=bt(Ju),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ju=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Ic(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ou&n)===n&&(4===Ru||3===Ru&&(130023424&Ou)===Ou&&500>Xe()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Dc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case j:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case C:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=ja(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ja(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),Ra(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Iu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ja(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Nu)&&(qu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},599:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(470)},735:function(e,t,n){var r,i;"undefined"!=typeof self&&self,e.exports=(r=n(390),i=n(599),function(){"use strict";var e={156:function(e){e.exports=r},111:function(e){e.exports=i},582:function(e,t,n){n.r(t),n.d(t,{__addDisposableResource:function(){return P},__assign:function(){return a},__asyncDelegator:function(){return E},__asyncGenerator:function(){return I},__asyncValues:function(){return S},__await:function(){return _},__awaiter:function(){return p},__classPrivateFieldGet:function(){return D},__classPrivateFieldIn:function(){return j},__classPrivateFieldSet:function(){return O},__createBinding:function(){return m},__decorate:function(){return s},__disposeResources:function(){return L},__esDecorate:function(){return c},__exportStar:function(){return y},__extends:function(){return i},__generator:function(){return v},__importDefault:function(){return A},__importStar:function(){return N},__makeTemplateObject:function(){return T},__metadata:function(){return d},__param:function(){return u},__propKey:function(){return f},__read:function(){return k},__rest:function(){return o},__runInitializers:function(){return l},__setFunctionName:function(){return h},__spread:function(){return b},__spreadArray:function(){return x},__spreadArrays:function(){return w},__values:function(){return g}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,a){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var v in r)p[v]="access"===v?{}:r[v];for(var v in r.access)p.access[v]=r.access[v];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(e||null))};var m=(0,n[d])("accessor"===u?{get:f.get,set:f.set}:f[c],p);if("accessor"===u){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=o(m.get))&&(f.get=s),(s=o(m.set))&&(f.set=s),(s=o(m.init))&&i.unshift(s)}else(s=o(m))&&("field"===u?i.unshift(s):f[c]=s)}l&&Object.defineProperty(l,r.name,f),h=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function v(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function x(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function I(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:!1}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return C(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function j(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function P(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var R="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function L(e){function t(t){e.error=e.hasError?new R(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}t.default={__extends:i,__assign:a,__rest:o,__decorate:s,__param:u,__metadata:d,__awaiter:p,__generator:v,__createBinding:m,__exportStar:y,__values:g,__read:k,__spread:b,__spreadArrays:w,__spreadArray:x,__await:_,__asyncGenerator:I,__asyncDelegator:E,__asyncValues:S,__makeTemplateObject:T,__importStar:N,__importDefault:A,__classPrivateFieldGet:D,__classPrivateFieldSet:O,__classPrivateFieldIn:j,__addDisposableResource:P,__disposeResources:L}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.useReactToPrint=e.PrintContextConsumer=void 0;var t=n(582),r=n(156),i=n(111),o=Object.prototype.hasOwnProperty.call(r,"createContext"),s=Object.prototype.hasOwnProperty.call(r,"useMemo")&&Object.prototype.hasOwnProperty.call(r,"useCallback"),u=o?r.createContext({}):null;e.PrintContextConsumer=u?u.Consumer:function(){return null};var c={copyStyles:!0,pageStyle:"\n        @page {\n            /* Remove browser default header (title) and footer (url) */\n            margin: 0;\n        }\n        @media print {\n            body {\n                /* Tell browsers to print background colors */\n                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n                color-adjust: exact; /* Firefox */\n            }\n        }\n    ",removeAfterPrint:!1,suppressErrors:!1},l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.startPrint=function(e){var t=n.props,r=t.onAfterPrint,i=t.onPrintError,a=t.print,o=t.documentTitle;setTimeout((function(){var t,s;if(e.contentWindow)if(e.contentWindow.focus(),a)a(e).then((function(){return null==r?void 0:r()})).then((function(){return n.handleRemoveIframe()})).catch((function(e){i?i("print",e):n.logMessages(["An error was thrown by the specified `print` function"])}));else{if(e.contentWindow.print){var u=null!==(s=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==s?s:"",c=e.ownerDocument.title;o&&(e.ownerDocument.title=o,e.contentDocument&&(e.contentDocument.title=o)),e.contentWindow.print(),o&&(e.ownerDocument.title=c,e.contentDocument&&(e.contentDocument.title=u))}else n.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);null==r||r(),n.handleRemoveIframe()}else n.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])}),500)},n.triggerPrint=function(e){var t=n.props,r=t.onBeforePrint,i=t.onPrintError;if(r){var a=r();a&&"function"==typeof a.then?a.then((function(){n.startPrint(e)})).catch((function(e){i&&i("onBeforePrint",e)})):n.startPrint(e)}else n.startPrint(e)},n.handleClick=function(){var e=n.props,t=e.onBeforeGetContent,r=e.onPrintError;if(t){var i=t();i&&"function"==typeof i.then?i.then(n.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):n.handlePrint()}else n.handlePrint()},n.handlePrint=function(){var e=n.props,r=e.bodyClass,a=e.content,o=e.copyStyles,s=e.fonts,u=e.pageStyle,c=e.nonce,l=a();if(void 0!==l)if(null!==l){var f=document.createElement("iframe");f.width="".concat(document.documentElement.clientWidth,"px"),f.height="".concat(document.documentElement.clientHeight,"px"),f.style.position="absolute",f.style.top="-".concat(document.documentElement.clientHeight+100,"px"),f.style.left="-".concat(document.documentElement.clientWidth+100,"px"),f.id="printWindow",f.srcdoc="<!DOCTYPE html>";var h=(0,i.findDOMNode)(l);if(h){var d=h.cloneNode(!0),p=d instanceof Text,v=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),m=p?[]:d.querySelectorAll("img"),y=p?[]:d.querySelectorAll("video"),g=s?s.length:0;n.numResourcesToLoad=v.length+m.length+y.length+g,n.resourcesLoaded=[],n.resourcesErrored=[];var k=function(e,r){n.resourcesLoaded.includes(e)?n.logMessages(["Tried to mark a resource that has already been handled",e],"debug"):(r?(n.logMessages(t.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],t.__read(r),!1)),n.resourcesErrored.push(e)):n.resourcesLoaded.push(e),n.resourcesLoaded.length+n.resourcesErrored.length===n.numResourcesToLoad&&n.triggerPrint(f))};f.onload=function(){var e,i,a,l;f.onload=null;var v=f.contentDocument||(null===(i=f.contentWindow)||void 0===i?void 0:i.document);if(v){v.body.appendChild(d),s&&((null===(a=f.contentDocument)||void 0===a?void 0:a.fonts)&&(null===(l=f.contentWindow)||void 0===l?void 0:l.FontFace)?s.forEach((function(e){var t=new FontFace(e.family,e.source,{weight:e.weight,style:e.style});f.contentDocument.fonts.add(t),t.loaded.then((function(){k(t)})).catch((function(e){k(t,["Failed loading the font:",t,"Load error:",e])}))})):(s.forEach((function(e){return k(e)})),n.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var g="function"==typeof u?u():u;if("string"!=typeof g)n.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof g,'". Styles from `pageStyle` will not be applied.')]);else{var b=v.createElement("style");c&&(b.setAttribute("nonce",c),v.head.setAttribute("nonce",c)),b.appendChild(v.createTextNode(g)),v.head.appendChild(b)}if(r&&(e=v.body.classList).add.apply(e,t.__spreadArray([],t.__read(r.split(" ")),!1)),!p){for(var w=p?[]:h.querySelectorAll("canvas"),x=v.querySelectorAll("canvas"),_=0;_<w.length;++_){var I=w[_],E=x[_].getContext("2d");E&&E.drawImage(I,0,0)}var S=function(e){var t=m[e],n=t.getAttribute("src");if(n){var r=new Image;r.onload=function(){return k(t)},r.onerror=function(e,n,r,i,a){return k(t,["Error loading <img>",t,"Error",a])},r.src=n}else k(t,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',t])};for(_=0;_<m.length;_++)S(_);var T=function(e){var t=y[e];t.preload="auto";var n=t.getAttribute("poster");if(n){var r=new Image;r.onload=function(){return k(t)},r.onerror=function(e,r,i,a,o){return k(t,["Error loading video poster",n,"for video",t,"Error:",o])},r.src=n}else t.readyState>=2?k(t):(t.onloadeddata=function(){return k(t)},t.onerror=function(e,n,r,i,a){return k(t,["Error loading video",t,"Error",a])},t.onstalled=function(){return k(t,["Loading video stalled, skipping",t])})};for(_=0;_<y.length;_++)T(_);var C="input",N=h.querySelectorAll(C),A=v.querySelectorAll(C);for(_=0;_<N.length;_++)A[_].value=N[_].value;var D="input[type=checkbox],input[type=radio]",O=h.querySelectorAll(D),j=v.querySelectorAll(D);for(_=0;_<O.length;_++)j[_].checked=O[_].checked;var P="select",R=h.querySelectorAll(P),L=v.querySelectorAll(P);for(_=0;_<R.length;_++)L[_].value=R[_].value}if(o)for(var M=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),F=function(e,t){var r=M[e];if("style"===r.tagName.toLowerCase()){var i=v.createElement(r.tagName),a=r.sheet;if(a){var o="";try{for(var s=a.cssRules.length,u=0;u<s;++u)"string"==typeof a.cssRules[u].cssText&&(o+="".concat(a.cssRules[u].cssText,"\r\n"))}catch(e){n.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",r],"warning")}i.setAttribute("id","react-to-print-".concat(e)),c&&i.setAttribute("nonce",c),i.appendChild(v.createTextNode(o)),v.head.appendChild(i)}}else if(r.getAttribute("href"))if(r.hasAttribute("disabled"))n.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",r],"warning"),k(r);else{for(var l=v.createElement(r.tagName),f=(u=0,r.attributes.length);u<f;++u){var h=r.attributes[u];h&&l.setAttribute(h.nodeName,h.nodeValue||"")}l.onload=function(){return k(l)},l.onerror=function(e,t,n,r,i){return k(l,["Failed to load",l,"Error:",i])},c&&l.setAttribute("nonce",c),v.head.appendChild(l)}else n.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",r],"warning"),k(r)},U=(_=0,M.length);_<U;++_)F(_)}0!==n.numResourcesToLoad&&o||n.triggerPrint(f)},n.handleRemoveIframe(!0),document.body.appendChild(f)}else n.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else n.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else n.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},n.handleRemoveIframe=function(e){var t=n.props.removeAfterPrint;if(e||t){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},n.logMessages=function(e,t){void 0===t&&(t="error"),n.props.suppressErrors||("error"===t?console.error(e):"warning"===t?console.warn(e):"debug"===t&&console.debug(e))},n}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,t=e.children,n=e.trigger;if(n)return r.cloneElement(n(),{onClick:this.handleClick});if(!u)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var i={handlePrint:this.handleClick};return r.createElement(u.Provider,{value:i},t)},n.defaultProps=c,n}(r.Component);e.default=l,e.useReactToPrint=function(e){if(!s)return e.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var n=r.useMemo((function(){return new l(t.__assign(t.__assign({},c),e))}),[e]);return r.useCallback((function(){return n.handleClick()}),[n])}}(),a}())},511:function(e,t,n){"use strict";var r=n(390),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},23:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},j={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:j,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},390:function(e,t,n){"use strict";e.exports=n(23)},559:function(e,t,n){"use strict";e.exports=n(511)},17:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,j(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function j(e){E=e,I||(I=!0,_())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,j(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,j(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},124:function(e,t,n){"use strict";e.exports=n(17)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return qt},SDK_VERSION:function(){return er},_DEFAULT_ENTRY_NAME:function(){return zn},_addComponent:function(){return Gn},_addOrOverwriteComponent:function(){return Hn},_apps:function(){return qn},_clearComponents:function(){return Jn},_components:function(){return Wn},_getProvider:function(){return Qn},_registerComponent:function(){return Kn},_removeServiceInstance:function(){return Yn},deleteApp:function(){return ir},getApp:function(){return nr},getApps:function(){return rr},initializeApp:function(){return tr},onLog:function(){return sr},registerVersion:function(){return or},setLogLevel:function(){return ur}});var t,r=n(390),i=n.t(r,2),a=n(599);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function I(e,t,n){return I=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},E(e)}function S(e){return o(e)||f(e)||u(e)||c()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,A="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:R(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,v),h=e,function(){s.removeEventListener(A,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(y.location,e,n);r&&r(i,e);var a=j(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=P(y.location,e,n);r&&r(i,e);var a=j(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=V(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,B=3,q=2,W=1,G=10,H=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=H),t&&(r+=q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(z.test(t)?B:""===t?W:G)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o||"",r),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(D(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function ke(){return ge()||D(!1),r.useContext(ve).location}function be(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Ae(Ce.UseNavigateStable).router,t=Oe(Ne.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||D(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ke().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);return be((function(){u.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e])}()}function xe(e,n,i){ge()||D(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ke());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),a=d}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function _e(){var e=function(){var e,t=r.useContext(ye),n=De(Ne.UseRouteError),i=Oe(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie=r.createElement(_e,null),Ee=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Se(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Te(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||D(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Se,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ce||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Ae(e){var t=r.useContext(fe);return t||D(!1),t}function De(e){var t=r.useContext(he);return t||D(!1),t}function Oe(e){var t=function(e){var t=r.useContext(me);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}i.startTransition;function je(e){D(!1)}function Pe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ge()&&D(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,I=v.key,E=void 0===I?"default":I,S=r.useMemo((function(){var e=$(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:E},navigationType:c}}),[d,y,k,w,_,E,c]);return null==S?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:S}))}function Re(e){var t=e.children,n=e.location;return xe(Fe(t),n)}var Le=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Le||{}),Me=new Promise((function(){}));r.Component;function Fe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==je&&D(!1),e.props.index&&e.props.children&&D(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,a)),n.push(o)}else n.push.apply(n,Fe(e.props.children,a))}})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;var Ue=i.startTransition;function Ve(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),M((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&Ue?Ue((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return u.listen(p)}),[u,p]),r.createElement(Pe,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ze,Be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ze||(ze={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));var qe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},We=r.createContext&&r.createContext(qe),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ge.apply(this,arguments)},He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ke(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Ge({key:t},e.attr),Ke(e.child))}))}function Qe(e){return function(t){return r.createElement(Ye,Ge({attr:Ge({},e.attr)},t),Ke(e.child))}}function Ye(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=He(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Ge({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Ge(Ge({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==We?r.createElement(We.Consumer,null,(function(e){return t(e)})):t(qe)}function Je(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Xe(e){return Qe({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function $e(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(e)}function Ze(e){return Qe({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}}]})(e)}function et(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function tt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"}}]})(e)}function nt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function rt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(e)}function it(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"}}]})(e)}var at=n.p+"static/media/5052521.cb8d85ebf62182d25c93.jpg",ot=n.p+"static/media/6144672.47f272423d5dc8f6705b.png",st=n.p+"static/media/5913718.e8b7b214fae6b3d929db.jpg",ut=n.p+"static/media/resume img.0cff558c4ae49fc4a528.jpg",ct=n.p+"static/media/resmue img2.5d85d6b85a570d0b21f4.jpg";function lt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 378.7c-73.4 0-133.3 59.9-133.3 133.3S438.6 645.3 512 645.3 645.3 585.4 645.3 512 585.4 378.7 512 378.7zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zM512 717.1c-113.5 0-205.1-91.6-205.1-205.1S398.5 306.9 512 306.9 717.1 398.5 717.1 512 625.5 717.1 512 717.1zm213.5-370.7c-26.5 0-47.9-21.4-47.9-47.9s21.4-47.9 47.9-47.9 47.9 21.4 47.9 47.9a47.84 47.84 0 0 1-47.9 47.9z"}}]})(e)}function ft(e){return Qe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M883.7 578.6c4.1-22.5 6.3-45.5 6.3-68.5 0-51-10-100.5-29.7-147-19-45-46.3-85.4-81-120.1a375.79 375.79 0 0 0-120.1-80.9c-46.6-19.7-96-29.7-147-29.7-24 0-48.1 2.3-71.5 6.8A225.1 225.1 0 0 0 335.6 113c-59.7 0-115.9 23.3-158.1 65.5A222.25 222.25 0 0 0 112 336.6c0 38 9.8 75.4 28.1 108.4-3.7 21.4-5.7 43.3-5.7 65.1 0 51 10 100.5 29.7 147 19 45 46.2 85.4 80.9 120.1 34.7 34.7 75.1 61.9 120.1 80.9 46.6 19.7 96 29.7 147 29.7 22.2 0 44.4-2 66.2-5.9 33.5 18.9 71.3 29 110 29 59.7 0 115.9-23.2 158.1-65.5 42.3-42.2 65.5-98.4 65.5-158.1.1-38-9.7-75.5-28.2-108.7zm-370 162.9c-134.2 0-194.2-66-194.2-115.4 0-25.4 18.7-43.1 44.5-43.1 57.4 0 42.6 82.5 149.7 82.5 54.9 0 85.2-29.8 85.2-60.3 0-18.3-9-38.7-45.2-47.6l-119.4-29.8c-96.1-24.1-113.6-76.1-113.6-124.9 0-101.4 95.5-139.5 185.2-139.5 82.6 0 180 45.7 180 106.5 0 26.1-22.6 41.2-48.4 41.2-49 0-40-67.8-138.7-67.8-49 0-76.1 22.2-76.1 53.9s38.7 41.8 72.3 49.5l88.4 19.6c96.8 21.6 121.3 78.1 121.3 131.3 0 82.3-63.3 143.9-191 143.9z"}}]})(e)}function ht(e){return Qe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 0 1-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 0 1-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 0 0 229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"}}]})(e)}function dt(e){return Qe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function pt(e){return Qe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"}}]})(e)}var vt=n(559);var mt=function(){return(0,vt.jsxs)("div",{children:[(0,vt.jsx)("section",{className:"resume-options",children:(0,vt.jsxs)("div",{className:"option",children:[(0,vt.jsx)("img",{className:"home-image",src:at,alt:"logo"}),(0,vt.jsxs)("div",{className:"option1",children:[(0,vt.jsx)("h2",{children:(0,vt.jsx)("b",{children:"Create a New Resume"})}),(0,vt.jsx)("p",{children:(0,vt.jsx)("b",{children:"Build your new resume from scratch."})}),(0,vt.jsx)("b",{children:(0,vt.jsx)("a",{href:"./Templates",children:"Build Your Resume !"})})]}),(0,vt.jsxs)("div",{className:"option2",children:[(0,vt.jsx)("h2",{children:(0,vt.jsx)("b",{children:"Edit Existing Resume"})}),(0,vt.jsx)("p",{className:"p2",children:" Modify and update your existing resume."}),(0,vt.jsx)("b",{children:(0,vt.jsx)("a",{className:"a2",href:"edit.html",children:"Edit Resume"})})]})]})}),(0,vt.jsxs)("section",{className:"achievements",children:[(0,vt.jsx)("h2",{children:"Achievements"}),(0,vt.jsx)("img",{className:"mid-image",src:ot,alt:"mid"}),(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{children:[(0,vt.jsx)(rt,{})," Over 10,000 satisfied customers"]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(tt,{})," Featured in top job search platforms"]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(nt,{})," Customizable templates for all industries"]})]})]}),(0,vt.jsxs)("section",{className:"resume-images",children:[(0,vt.jsx)("h2",{children:"Sample Resumes"}),(0,vt.jsxs)("div",{className:"image-container",children:[(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:ut,alt:"details-1.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:ct,alt:"details-1.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://i.pinimg.com/736x/a0/27/b9/a027b9488c1c93975a3596fd43223b0a.jpg",alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://s3.resume.io/cdn-cgi/image/width=380,dpr=1,format=auto/uploads/local_template_image/image/370/persistent-resource/stockholm-resume-templates.jpg",alt:"details-2.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://cdn.enhancv.com/simple_double_column_resume_template_aecca5d139.png",alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://www.resumehelp.com/wp-content/uploads/2023/02/Empire-Resume-Template.webp",alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://www.resumehelp.com/wp-content/uploads/2023/02/Empire-Resume-Template.webp",alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://i.pinimg.com/736x/a0/27/b9/a027b9488c1c93975a3596fd43223b0a.jpg",alt:"details-3.png"})})]})]}),(0,vt.jsxs)("section",{className:"ads",children:[(0,vt.jsx)("h2",{children:"Advertisements"}),(0,vt.jsxs)("div",{className:"ad",children:[(0,vt.jsx)("img",{className:"img1",src:st,alt:"Resume Ad 1"}),(0,vt.jsx)("p",{children:"Get noticed by employers with a professionally crafted resume."}),(0,vt.jsx)("a",{href:"./About",children:"Learn More"})]}),(0,vt.jsxs)("div",{className:"ad",children:[(0,vt.jsx)("img",{src:"https://cdn.gotresumebuilder.com/Content/Images/v3/hero_resume_1.png",alt:"Resume Ad 2"}),(0,vt.jsx)("p",{children:(0,vt.jsx)("b",{children:"Unlock your career potential with our resume builder."})}),(0,vt.jsx)("a",{href:"./Templates",children:"Get Started"})]})]}),(0,vt.jsx)("section",{className:"footer",children:(0,vt.jsxs)("div",{class:"footer-top",children:[(0,vt.jsxs)("div",{class:"box",children:[(0,vt.jsxs)("div",{class:"row",children:[(0,vt.jsxs)("div",{class:"col-lg-3 col-md-6 footer-contact",children:[(0,vt.jsx)("h3",{children:"Resume Maker"}),(0,vt.jsxs)("p",{children:["GLA UNIVERSITY ",(0,vt.jsx)("br",{}),"mathura, UP 281406",(0,vt.jsx)("br",{}),"INDIA ",(0,vt.jsx)("br",{}),(0,vt.jsx)("br",{}),(0,vt.jsx)("strong",{children:"Phone:"})," +1 5589 55488 55",(0,vt.jsx)("br",{}),(0,vt.jsx)("strong",{children:"Email:"})," resumeMake@gmail.com",(0,vt.jsx)("br",{})]})]}),(0,vt.jsxs)("div",{class:"col-lg-3 col-md-6 footer-links",children:[(0,vt.jsx)("h4",{children:"Useful Links"}),(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Home"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"About us"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Services"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Terms of service"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Privacy policy"})]})]})]}),(0,vt.jsxs)("div",{class:"col-lg-3 col-md-6 footer-links",children:[(0,vt.jsx)("h4",{children:"Our Services"}),(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{}),(0,vt.jsx)("a",{href:"#",children:"Web Design"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Web Development"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Product Management"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{}),(0,vt.jsx)("a",{href:"#",children:"Marketing"})]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)(Ze,{})," ",(0,vt.jsx)("a",{href:"#",children:"Graphic Design"})]})]})]}),(0,vt.jsxs)("div",{class:"col-lg-3 col-md-6 footer-links",children:[(0,vt.jsx)("h4",{children:"Our Social Networks"}),(0,vt.jsx)("p",{children:"Fallow our social media handle for more update.make batter create batter in your life.(o!o)"}),(0,vt.jsxs)("div",{class:"social-links mt-3",children:[(0,vt.jsx)("a",{href:"/",class:"twitter",children:(0,vt.jsx)(ht,{})}),(0,vt.jsx)("a",{href:"/",class:"facebook",children:(0,vt.jsx)(dt,{})}),(0,vt.jsx)("a",{href:"/",class:"instagram",children:(0,vt.jsx)(lt,{})}),(0,vt.jsx)("a",{href:"/",class:"google-plus",children:(0,vt.jsx)(ft,{})}),(0,vt.jsx)("a",{href:"/",class:"linkedin",children:(0,vt.jsx)(pt,{})})]})]})]}),(0,vt.jsxs)("div",{className:"copyright",children:[(0,vt.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Resume Maker. All rights reserved."]}),(0,vt.jsxs)("p",{children:[" Designed by ",(0,vt.jsx)("a",{href:"https://github.com/Abhishek9793web",children:"Resume maker"})]})]})]}),(0,vt.jsx)("a",{href:"/",className:"back-to-top ",children:(0,vt.jsx)(et,{})})]})})]})};var yt=n.p+"static/media/resume.d264bcc18933614082a05ce14300ed59.svg",gt={container:"Header_container__m3lai",heading:"Header_heading__uYpTc",right:"Header_right__y9dYc"};function kt(){return(0,vt.jsxs)("div",{className:gt.container,children:[(0,vt.jsxs)("div",{className:gt.left,children:[(0,vt.jsxs)("p",{className:gt.heading,children:["A ",(0,vt.jsx)("span",{children:"Resume"})," that stands out!"]}),(0,vt.jsxs)("p",{className:gt.heading,children:["make your own resume. ",(0,vt.jsx)("span",{children:"It`s free"})]})]}),(0,vt.jsx)("div",{className:gt.right,children:(0,vt.jsx)("img",{src:yt,alt:"Resume"})})]})}var bt=function(){return(0,vt.jsxs)("div",{className:"App",children:[(0,vt.jsx)(kt,{}),(0,vt.jsxs)("section",{className:"resume-images",children:[(0,vt.jsx)("h2",{children:"Templates"}),(0,vt.jsxs)("div",{className:"img-Template",children:[(0,vt.jsx)("a",{href:"/Template1",children:(0,vt.jsx)("img",{src:ut,alt:"details-1.png"})}),(0,vt.jsx)("a",{href:"/Template2",children:(0,vt.jsx)("img",{src:ct,alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://cdn.enhancv.com/simple_double_column_resume_template_aecca5d139.png",alt:"details-3.png"})}),(0,vt.jsx)("a",{href:"/Templates",children:(0,vt.jsx)("img",{src:"https://www.resumehelp.com/wp-content/uploads/2023/02/Empire-Resume-Template.webp",alt:"details-3.png"})})]})]})]})};function wt(){wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new D(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",m="completed",y={};function g(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(O([])));_&&_!==n&&r.call(_,o)&&(w=_);var I=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return k.prototype=b,i(I,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(I),c(I,u,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function xt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function _t(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){xt(a,r,i,o,s,"next",e)}function s(e){xt(a,r,i,o,s,"throw",e)}o(void 0)}))}}var It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAAAUCAYAAADIiLCPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAZdSURBVFhH5Zh9TJVVHMfPeS6XFxFfCCIJZwUuI1PxBdzISrfMOY2EyJfWptaqrbZq5pbDZKQ5s1pWa6u1yulSy+wPUipfyCaRQhiZos1KojffUJEX4cJ9Tt/vc8+53gtcvNgyN77bh+c+5znPeZ7zO7+X8yBFN6qbODEmJtabq4TKE0JmKiGS0VEKpU7ib7VSojjKE71hUFnZWX1Ln1KQ0WAceXpKZo4t1BtSiqG6uVvBcA3SEosTsyvfk0XC1s19Qn6jqfx814n62lUw1iLHq8KUkmJJ0s7KVfq0T8jSR3H6TO0yS4pnOxsM3gfHEy2gWSnl1c0+KbXXanG/pc/6jByjnZw84Q5biaVOi5bPQGotEtl45W1Oam1xJVpK3IpLr4B2UNFoqWmJ5eWN7P8vFAvSwA0gig3/kx4CTwO/I4WSRG6SDU+mVXuODB6l2+hezULK2dfuqtimW4J04s4JY5rc9rHUnVUNuuly5Aa5YJxz5lMH2A12ADj5FdVTIAnQeXrM0dLzZUS2tGRZ67dJ4kLZdUJ4WSTFgqTSyrW6z38hpoAHARfqKPgOcIVvB9eDz8AecCUVvtHad7pX4riEJx11/UXT1qE/JHx6IAOzClrp/EIV2XjmaI8FIit+eHtRkQynkvLlFoG/wevA3NMPFIDzYDUw7xABWM3jQT34HQTnV1+YM8QjwR/gFAiUC/D6QMD7OReOeRi0gO6MxucOA4PAccD3taVnh3sbKuZ0nDhStnwucqrnJX3qqLBQWXvcTb8oKQfopm6FWF9eujRujT7tSdkgB3wOvmJDgFIAQ7cW0Gh85kKQDIz+BO8Dk0/TwVxgciInXQ7osRyD480HwwHF6ycBQkvwff8CnY3G5z4MhgCjGrAeBdPp6JcU3mr906+aGthDyMHoG98T2AxzJcPRYH08p4+BopccA5wshhWzAQ1WCl4DXwOGMDbejug58wAnuh6wmtOTGOoZgMoCNNiv4E2wAfC+UDLPpVGZ12nY/YCLk8k8Euzm0hWtf/Ve0gmBcGQqlAmDGPAIeFSzAHCsOMDKSiN+ARgeJYCeNgLwPlZ0huR28CP4DWwCHDsTUKMBi8yHgAY9AL4HocRwTAXMt1wkeuJWwDHSsYtQdfjh13E7epL+6Vd6urPqzCWnA8G9HhwvSll0+XDELQvFnEFxZbnyDIkbAV+YbdfoI41lxHfhO9PwvJ4AqMB50IP5brxOcVzmrWbnzCeOE0o0GsendzJVkecB33cAL1QAZ4SStqFiztnJ88a9M4MJ2S8m9/OJsSMaEmKTDZH9+6Xgc+Bn3cWRFLJLaIfQCX1k/qI4oVcB94BcHCOuLNXZg000MEpMH7MAFPsHRhG9judcgN6IefXjAD4C2y3bsopblcte3TRarGjMEG0iYogYGLUSVgx6QNVjsj0QT2PTdBQQxrhPSl2QVgyTbzj6CbQB7tES2aDFZ3JyRqyA9BiuOJM5RYMxZFsBPZs5kBqjj5SpogxFin1YXQO/p3keSnwuF4MedwhUaTjOYdeKdd762py7xpZ7kpgjHOHNs5IPpUdnPzByd83mmi5uPOnlI1Ms78CNMNrF/CdlSWlB1Af67FJieF4AtwEajlsJhuVUwKTPLcc3gP34jFsAF4j9WOl5ZK5hzjkDOM7NgJXuJjANUJsBKywNzOeMBAzVicBs5vcC9mFbf8CCwwWlUTkm+9F4LCb3gg7Hm8ZuvC/VElY1Js6bAqRQYq13pbD3C6/driwrDRbNE3a/mTGnFlruJl+exSdXm2WLCbuWxTER90acxBTAyTKk+K8mGoJfBOZrg+94N+DDOGHmq32AkzMLyvZZgB7JMGXi5naGYxnRKByHxYUeSMPQY1mRmTPnAC7G28CEM9+Nz6XRmA+Zfkr8ITh+U+5M5KjNeMUwv/+kiDx3j4iqz1NSuBeXFsQxJ12u/O8BhUrQvenT+TrbGZomXLlATwBut5YDen0odXluYAM8Lm8GNm7r8NPso3oUPrc6ItrSi/bNf+FFDBVqIleDGPqPA7Or5y6flZV5ism9VwoyGpW5ZVaK12OtkVIhfqVJvsHCXgN/DqJaPlM5d8su3Xo1i/NkmDEvsfAwh3Gzyq+Rzp9jl1QXoxllfJI7THrE/ZYlslBIU/CJ5MIRWwX7oEuK4orDoyqwFzGb0z4kIf4Barvh3j9knjEAAAAASUVORK5CYII=";function Et(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ct;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ct=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(E(Error)),Nt=function(e){return function(e){var t=St(e);return Tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return Tt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Dt(e[n],t[n]));return e}var Ot=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},jt=function(){try{return Ot()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&At(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Pt=function(e){var t=function(e){var t,n;return null===(n=null===(t=jt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Rt=function(){var e;return null===(e=jt())||void 0===e?void 0:e.config},Lt=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){var e,t=null===(e=jt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ut(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Vt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zt(){var e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Bt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var qt=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Wt.prototype.create),a}return y(n)}(E(Error)),Wt=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Gt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qt(n,a,t)}}]),e}();var Gt=/\{\$([^}]+)}/g;function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Yt(s)&&Yt(u)){if(!Qt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yt(e){return null!==e&&"object"===typeof e}function Jt(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $t(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Zt(e,t){var n=new en(e,t);return n.subscribe.bind(n)}var en=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=tn),void 0===r.error&&(r.error=tn),void 0===r.complete&&(r.complete=tn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function tn(){}function nn(e){return e&&e._delegate?e._delegate:e}var rn=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),an="[DEFAULT]",on=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Lt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(u){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===an?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var sn,un,cn=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new on(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ln=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(un||(un={}));var fn={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},hn=un.INFO,dn=(Et(sn={},un.DEBUG,"log"),Et(sn,un.VERBOSE,"log"),Et(sn,un.INFO,"info"),Et(sn,un.WARN,"warn"),Et(sn,un.ERROR,"error"),sn),pn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vn=function(){function e(t){d(this,e),this.name=t,this._logLevel=hn,this._logHandler=pn,this._userLogHandler=null,ln.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.DEBUG].concat(t)),this._logHandler.apply(this,[this,un.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.VERBOSE].concat(t)),this._logHandler.apply(this,[this,un.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.INFO].concat(t)),this._logHandler.apply(this,[this,un.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.WARN].concat(t)),this._logHandler.apply(this,[this,un.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.ERROR].concat(t)),this._logHandler.apply(this,[this,un.ERROR].concat(t))}}]),e}();function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gn,kn,bn=function(e,t){return t.some((function(t){return e instanceof t}))};var wn=new WeakMap,xn=new WeakMap,_n=new WeakMap,In=new WeakMap,En=new WeakMap;var Sn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_n.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Tn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kn||(kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(An(this),n),Nn(wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nn(e.apply(An(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[An(this),t].concat(r));return _n.set(a,t.sort?t.sort():[t]),Nn(a)}}function Cn(e){return"function"===typeof e?Tn(e):(e instanceof IDBTransaction&&function(e){if(!xn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));xn.set(e,t)}}(e),bn(e,gn||(gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sn):e)}function Nn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Nn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wn.set(t,e)})).catch((function(){})),En.set(t,e),t}(e);if(In.has(e))return In.get(e);var t=Cn(e);return t!==e&&(In.set(e,t),En.set(t,e)),t}var An=function(e){return En.get(e)};var Dn,On,jn=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],Rn=new Map;function Ln(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Rn.get(t))return Rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||jn.includes(n))){var a=function(){var e=_t(wt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Rn.set(t,a),a}}}Sn=function(e){return yn(yn({},e),{},{get:function(t,n,r){return Ln(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ln(t,n)||e.has(t,n)}})}(Sn);var Mn=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Fn="@firebase/app",Un="0.9.23",Vn=new vn("@firebase/app"),zn="[DEFAULT]",Bn=(Et(Dn={},Fn,"fire-core"),Et(Dn,"@firebase/app-compat","fire-core-compat"),Et(Dn,"@firebase/analytics","fire-analytics"),Et(Dn,"@firebase/analytics-compat","fire-analytics-compat"),Et(Dn,"@firebase/app-check","fire-app-check"),Et(Dn,"@firebase/app-check-compat","fire-app-check-compat"),Et(Dn,"@firebase/auth","fire-auth"),Et(Dn,"@firebase/auth-compat","fire-auth-compat"),Et(Dn,"@firebase/database","fire-rtdb"),Et(Dn,"@firebase/database-compat","fire-rtdb-compat"),Et(Dn,"@firebase/functions","fire-fn"),Et(Dn,"@firebase/functions-compat","fire-fn-compat"),Et(Dn,"@firebase/installations","fire-iid"),Et(Dn,"@firebase/installations-compat","fire-iid-compat"),Et(Dn,"@firebase/messaging","fire-fcm"),Et(Dn,"@firebase/messaging-compat","fire-fcm-compat"),Et(Dn,"@firebase/performance","fire-perf"),Et(Dn,"@firebase/performance-compat","fire-perf-compat"),Et(Dn,"@firebase/remote-config","fire-rc"),Et(Dn,"@firebase/remote-config-compat","fire-rc-compat"),Et(Dn,"@firebase/storage","fire-gcs"),Et(Dn,"@firebase/storage-compat","fire-gcs-compat"),Et(Dn,"@firebase/firestore","fire-fst"),Et(Dn,"@firebase/firestore-compat","fire-fst-compat"),Et(Dn,"fire-js","fire-js"),Et(Dn,"firebase","fire-js-all"),Dn),qn=new Map,Wn=new Map;function Gn(e,t){try{e.container.addComponent(t)}catch(n){Vn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Hn(e,t){e.container.addOrOverwriteComponent(t)}function Kn(e){var t=e.name;if(Wn.has(t))return Vn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wn.set(t,e);var n,r=T(qn.values());try{for(r.s();!(n=r.n()).done;){Gn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Qn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zn;Qn(e,t).clearInstance(n)}function Jn(){Wn.clear()}var Xn=(Et(On={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Et(On,"bad-app-name","Illegal App name: '{$appName}"),Et(On,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Et(On,"app-deleted","Firebase App named '{$appName}' already deleted"),Et(On,"no-options","Need to provide options, when not being deployed to hosting via source."),Et(On,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Et(On,"invalid-log-argument","First argument to `onLog` must be null or a function."),Et(On,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Et(On,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Et(On,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Et(On,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),On),$n=new Wt("app","Firebase",Xn),Zn=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}]),e}(),er="10.6.0";function tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:zn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw $n.create("no-options");var a=qn.get(i);if(a){if(Qt(n,a.options)&&Qt(r,a.config))return a;throw $n.create("duplicate-app",{appName:i})}var o,s=new cn(i),u=T(Wn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Zn(n,r,s);return qn.set(i,l),l}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=qn.get(e);if(!t&&e===zn&&Rt())return tr();if(!t)throw $n.create("no-app",{appName:e});return t}function rr(){return Array.from(qn.values())}function ir(e){return ar.apply(this,arguments)}function ar(){return ar=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qn.has(n)){e.next=6;break}return qn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function or(e,t,n){var r,i=null!==(r=Bn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vn.warn(s.join(" "))}Kn(new rn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function sr(e,t){if(null!==e&&"function"!==typeof e)throw $n.create("invalid-log-argument");!function(e,t){var n,r=T(ln);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:un[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ur(e){var t;t=e,ln.forEach((function(e){e.setLogLevel(t)}))}var cr="firebase-heartbeat-database",lr=1,fr="firebase-heartbeat-store",hr=null;function dr(){return hr||(hr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Nn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Nn(s.result),e.oldVersion,e.newVersion,Nn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(cr,lr,{upgrade:function(e,t){if(0===t)e.createObjectStore(fr)}}).catch((function(e){throw $n.create("idb-open",{originalErrorMessage:e.message})}))),hr}function pr(e){return vr.apply(this,arguments)}function vr(){return vr=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr();case 3:return n=e.sent,e.next=6,n.transaction(fr).objectStore(fr).get(gr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof qt?Vn.warn(e.t0.message):(i=$n.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),vr.apply(this,arguments)}function mr(e,t){return yr.apply(this,arguments)}function yr(){return yr=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr();case 3:return r=e.sent,i=r.transaction(fr,"readwrite"),a=i.objectStore(fr),e.next=8,a.put(n,gr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof qt?Vn.warn(e.t0.message):(o=$n.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),yr.apply(this,arguments)}function gr(e){return"".concat(e.name,"!").concat(e.options.appId)}var kr=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ir(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=br(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:r});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=br(),r=wr(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Nt(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function br(){return(new Date).toISOString().substring(0,10)}function wr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Er(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Er(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xr,_r,Ir=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,pr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Er(e){return Nt(JSON.stringify({version:2,heartbeats:e})).length}xr="",Kn(new rn("platform-logger",(function(e){return new Mn(e)}),"PRIVATE")),Kn(new rn("heartbeat",(function(e){return new kr(e)}),"PRIVATE")),or(Fn,Un,xr),or(Fn,Un,"esm2017"),or("fire-js","");var Sr=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Gn(t,new rn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ir(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Gn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Hn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Tr=(Et(_r={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Et(_r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_r),Cr=new Wt("app-compat","Firebase",Tr);var Nr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=tr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ht(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:or,setLogLevel:ur,onLog:sr,apps:null,SDK_VERSION:er,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Kn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Cr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Dt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ht(n,e=e||zn))throw Cr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Sr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Dt(n,e)},createSubscribe:Zt,ErrorFactory:Wt,deepExtend:Dt}),n}(),Ar=new vn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ar.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Dr=self.firebase.SDK_VERSION;Dr&&Dr.indexOf("LITE")>=0&&Ar.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Or=Nr;!function(e){or("@firebase/app-compat","0.2.23",e)}();function jr(){return jr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jr.apply(this,arguments)}Or.registerVersion("firebase","10.6.0","app-compat");function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Rr,Lr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Mr="EMAIL_SIGNIN",Fr="PASSWORD_RESET",Ur="RECOVER_EMAIL",Vr="REVERT_SECOND_FACTOR_ADDITION",zr="VERIFY_AND_CHANGE_EMAIL",Br="VERIFY_EMAIL";function qr(){return Et({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Wr=function(){var e;return Et(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Et(e,"argument-error",""),Et(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Et(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Et(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Et(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Et(e,"cordova-not-ready","Cordova framework is not ready."),Et(e,"cors-unsupported","This browser is not supported."),Et(e,"credential-already-in-use","This credential is already associated with a different user account."),Et(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Et(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Et(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Et(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Et(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Et(e,"email-already-in-use","The email address is already in use by another account."),Et(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Et(e,"expired-action-code","The action code has expired."),Et(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Et(e,"internal-error","An internal AuthError has occurred."),Et(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Et(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Et(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Et(e,"invalid-auth-event","An internal AuthError has occurred."),Et(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Et(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Et(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Et(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Et(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Et(e,"invalid-email","The email address is badly formatted."),Et(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Et(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Et(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Et(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Et(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Et(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Et(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Et(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Et(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Et(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Et(e,"wrong-password","The password is invalid or the user does not have a password."),Et(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Et(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Et(e,"invalid-provider-id","The specified provider ID is invalid."),Et(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Et(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Et(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Et(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Et(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Et(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Et(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Et(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Et(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Et(e,"missing-continue-uri","A continue URL must be provided in the request."),Et(e,"missing-iframe-start","An internal AuthError has occurred."),Et(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Et(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Et(e,"missing-password","A non-empty password must be provided"),Et(e,"missing-multi-factor-info","No second factor identifier is provided."),Et(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Et(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Et(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Et(e,"app-deleted","This instance of FirebaseApp has been deleted."),Et(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Et(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Et(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Et(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Et(e,"no-auth-event","An internal AuthError has occurred."),Et(e,"no-such-provider","User was not linked to an account with the given provider."),Et(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Et(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Et(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Et(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Et(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Et(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Et(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Et(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Et(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Et(e,"rejected-credential","The request contains malformed or mismatching credentials."),Et(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Et(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Et(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Et(e,"timeout","The operation has timed out."),Et(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Et(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Et(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Et(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Et(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Et(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Et(e,"unverified-email","The operation requires a verified email."),Et(e,"user-cancelled","The user did not grant your application the permissions it requested."),Et(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Et(e,"user-disabled","The user account has been disabled by an administrator."),Et(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Et(e,"user-signed-out",""),Et(e,"weak-password","The password must be 6 characters long or more."),Et(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Et(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Et(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Et(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Et(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Et(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Et(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Et(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Et(e,"invalid-req-type","Invalid request parameters."),Et(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Et(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Et(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Gr=qr,Hr=new Wt("auth","Firebase",qr()),Kr=new vn("@firebase/auth");function Qr(e){if(Kr.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kr.warn.apply(Kr,["Auth (".concat(er,"): ").concat(e)].concat(n))}}function Yr(e){if(Kr.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kr.error.apply(Kr,["Auth (".concat(er,"): ").concat(e)].concat(n))}}function Jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ei.apply(void 0,[e].concat(n))}function Xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ei.apply(void 0,[e].concat(n))}function $r(e,t,n){var r=Object.assign(Object.assign({},Gr()),Et({},t,n));return new Wt("auth","Firebase",r).create(t,{appName:e.name})}function Zr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Jr(e,"argument-error"),$r(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Hr.create.apply(Hr,[e].concat(n))}function ti(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ei.apply(void 0,[t].concat(r))}}function ni(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Yr(t),new Error(t)}function ri(e,t){e||ni(t)}function ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ai(){return"http:"===oi()||"https:"===oi()}function oi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var si=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,ri(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||Vt()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ai()||Ut()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ui(e,t){ri(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ci=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),li=(Et(Rr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Et(Rr,"MISSING_CUSTOM_TOKEN","internal-error"),Et(Rr,"INVALID_IDENTIFIER","invalid-email"),Et(Rr,"MISSING_CONTINUE_URI","internal-error"),Et(Rr,"INVALID_PASSWORD","wrong-password"),Et(Rr,"MISSING_PASSWORD","missing-password"),Et(Rr,"EMAIL_EXISTS","email-already-in-use"),Et(Rr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Et(Rr,"INVALID_IDP_RESPONSE","invalid-credential"),Et(Rr,"INVALID_PENDING_TOKEN","invalid-credential"),Et(Rr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Et(Rr,"MISSING_REQ_TYPE","internal-error"),Et(Rr,"EMAIL_NOT_FOUND","user-not-found"),Et(Rr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Et(Rr,"EXPIRED_OOB_CODE","expired-action-code"),Et(Rr,"INVALID_OOB_CODE","invalid-action-code"),Et(Rr,"MISSING_OOB_CODE","internal-error"),Et(Rr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Et(Rr,"INVALID_ID_TOKEN","invalid-user-token"),Et(Rr,"TOKEN_EXPIRED","user-token-expired"),Et(Rr,"USER_NOT_FOUND","user-token-expired"),Et(Rr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Et(Rr,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Et(Rr,"INVALID_CODE","invalid-verification-code"),Et(Rr,"INVALID_SESSION_INFO","invalid-verification-id"),Et(Rr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Et(Rr,"MISSING_SESSION_INFO","missing-verification-id"),Et(Rr,"SESSION_EXPIRED","code-expired"),Et(Rr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Et(Rr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Et(Rr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Et(Rr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Et(Rr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Et(Rr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Et(Rr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Et(Rr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Et(Rr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Et(Rr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Et(Rr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Et(Rr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Et(Rr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Et(Rr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Et(Rr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Et(Rr,"MISSING_CLIENT_TYPE","missing-client-type"),Et(Rr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Et(Rr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Et(Rr,"INVALID_REQ_TYPE","invalid-req-type"),Rr),fi=new si(3e4,6e4);function hi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function di(e,t,n,r){return pi.apply(this,arguments)}function pi(){return pi=_t(wt().mark((function e(t,n,r,i){var a,o=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",vi(t,a,_t(wt().mark((function e(){var a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Jt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ci.fetch()(ki(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t,n){return mi.apply(this,arguments)}function mi(){return mi=_t(wt().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},li),n),e.prev=2,a=new wi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw xi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw xi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw xi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw xi(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw $r(t,p,d);case 34:Jr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof qt)){e.next=41;break}throw e.t0;case 41:Jr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),mi.apply(this,arguments)}function yi(e,t,n,r){return gi.apply(this,arguments)}function gi(){return gi=_t(wt().mark((function e(t,n,r,i){var a,o,s=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,di(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Jr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ui(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function bi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var wi=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xr(n.auth,"network-request-failed"))}),fi.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function xi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xr(e,t,r);return i.customData._tokenResponse=n,i}function _i(e){return void 0!==e&&void 0!==e.getResponse}function Ii(e){return void 0!==e&&void 0!==e.enterprise}var Ei=function(){function e(t){if(d(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return y(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=T(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return bi(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function Si(e){return Ti.apply(this,arguments)}function Ti(){return Ti=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"GET","/v2/recaptchaConfig",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Ai(e,t){return Di.apply(this,arguments)}function Di(){return Di=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Oi(e,t){return ji.apply(this,arguments)}function ji(){return ji=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Li(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Mi(){return Mi=_t(wt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=nn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ti((a=Ui(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Li(Fi(a.auth_time)),issuedAtTime:Li(Fi(a.iat)),expirationTime:Li(Fi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e){return 1e3*Number(e)}function Ui(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Yr("JWT malformed, contained fewer than 3 sections"),null;try{var a=At(r);return a?JSON.parse(a):(Yr("Failed to decode base64 JWT payload"),null)}catch(o){return Yr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=_t(wt().mark((function e(t,n){var r=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof qt&&Bi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),zi.apply(this,arguments)}function Bi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var qi=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wi=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Li(this.lastLoginAt),this.creationTime=Li(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Gi(e){return Hi.apply(this,arguments)}function Hi(){return Hi=_t(wt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Vi(t,Pi(r,{idToken:i}));case 6:ti(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Pr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Qi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Ki(){return(Ki=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nn(t),e.next=3,Gi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t,{},_t(wt().mark((function e(){var r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ki(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ci.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Xi(e,t){return $i.apply(this,arguments)}function $i(){return $i=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v2/accounts:revokeToken",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var Zi=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ti(e.idToken,"internal-error"),ti("undefined"!==typeof e.idToken,"internal-error"),ti("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ui(e);return ti(t,"internal-error"),ti("undefined"!==typeof t.exp,"internal-error"),ti("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=_t(wt().mark((function e(t){var n,r=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ti(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ni("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ti("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ti("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ti("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ea(e,t){ti("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ta=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Pr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Wi(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ti(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Mi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ki.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ti(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ti(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_t(wt().mark((function e(t){var n,r,i=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Gi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Vi(this,Ai(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ti(k&&_,t,"internal-error");var I=Zi.fromJSON(this.name,_);ti("string"===typeof k,t,"internal-error"),ea(f,t.name),ea(h,t.name),ti("boolean"===typeof b,t,"internal-error"),ti("boolean"===typeof w,t,"internal-error"),ea(d,t.name),ea(p,t.name),ea(v,t.name),ea(m,t.name),ea(y,t.name),ea(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=_t(wt().mark((function t(n,r){var i,a,o,s=arguments;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Zi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Gi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),na=new Map;function ra(e){ri(e instanceof Function,"Expected a class definition");var t=na.get(e);return t?(ri(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,na.set(e,t),t)}var ia=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ia.type="NONE";var aa=ia;function oa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var sa=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=oa(this.userKey,a.apiKey,o),this.fullPersistenceKey=oa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ta._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_t(wt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ra(aa),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ra(aa),s=oa(i,n.config.apiKey,n.name),u=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ta._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ua(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ha(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ca(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pa(t))return"Blackberry";if(va(t))return"Webos";if(la(t))return"Safari";if((t.includes("chrome/")||fa(t))&&!t.includes("edge/"))return"Chrome";if(da(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function la(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return ma(e)||da(e)||va(e)||pa(e)||/windows phone/i.test(e)||ha(e)}function ga(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ua(Mt());break;case"Worker":t="".concat(ua(Mt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(er,"/").concat(r)}var ka=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_t(wt().mark((function e(t){var n,r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ba(e){return wa.apply(this,arguments)}function wa(){return wa=_t(wt().mark((function e(t){var n,r=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",di(t,"GET","/v2/passwordPolicy",hi(t,n)));case 2:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}var xa=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return y(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),_a=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ea(this),this.idTokenSubscription=new Ea(this),this.beforeStateQueue=new ka(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ra(t)),this._initializationPromise=this.queue(_t(wt().mark((function r(){var i,a;return wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,sa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_t(wt().mark((function e(t){var n,r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ti(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?nn(t):null)&&ti(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_t(wt().mark((function e(t){var n,r=this,i=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ti(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(_t(wt().mark((function n(){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ra(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=_t(wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(this);case 2:t=e.sent,n=new xa(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Wt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,Xi(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ti(n=t&&ra(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,sa.create(this,[ra(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_t(wt().mark((function e(t){var n=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ti(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ti(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ga(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Et({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_t(wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Qr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ia(e){return nn(e)}var Ea=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Zt((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return ti(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Sa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ta(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ca=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=Ia(t)}return y(e,[{key:"verify",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Ii(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=_t(wt().mark((function e(n,r){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ci(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ei(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Ii(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Sa("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Na(e,t,n){return Aa.apply(this,arguments)}function Aa(){return Aa=_t(wt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Ca(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Aa.apply(this,arguments)}function Da(e,t,n,r){return Oa.apply(this,arguments)}function Oa(){return Oa=_t(wt().mark((function e(t,n,r,i){var a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,Na(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=_t(wt().mark((function e(a){var o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,Na(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function ja(e,t,n){var r=Ia(e);ti(r._canInitEmulator,r,"emulator-config-failed"),ti(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Pa(t),o=function(e){var t=Pa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ra(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Ra(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ra(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var La=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return ni("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ni("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ni("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ni("not implemented")}}]),e}();function Ma(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:resetPassword",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return Va=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:update",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithPassword",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Ka(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:sendOobCode",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ka(t,n));case 1:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Xa(e,t){return $a.apply(this,arguments)}function $a(){return $a=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ka(t,n));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ka(t,n));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ka(t,n));case 1:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return io=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}var so=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Da(t,n,"signInWithPassword",Ga));case 5:return e.abrupt("return",ro(t,{email:this._email,oobCode:this._password}));case 6:Jr(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Da(t,r,"signUpPassword",za));case 5:return e.abrupt("return",ao(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:Jr(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(La);function uo(e,t){return co.apply(this,arguments)}function co(){return co=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithIdp",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return uo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,uo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Pr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(La);function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:sendVerificationCode",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(){return po=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(){return vo=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw xi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}var mo=Et({},"USER_NOT_FOUND","user-not-found");function yo(){return yo=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,r),mo));case 2:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}var go=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return po.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return vo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return yo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(La);var ko=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Xt($t(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ti(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xt($t(e)).link,n=t?Xt($t(t)).deep_link_id:null,r=Xt($t(e)).deep_link_id;return(r?Xt($t(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var bo=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return so._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ko.parseLink(t);return ti(n,"argument-error"),so._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();bo.PROVIDER_ID="password",bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var wo=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),xo=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(wo),_o=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ti(e.idToken||e.accessToken,"argument-error"),lo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ti("providerId"in t&&"signInMethod"in t,"argument-error"),lo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(xo),Io=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return lo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(xo);Io.FACEBOOK_SIGN_IN_METHOD="facebook.com",Io.PROVIDER_ID="facebook.com";var Eo=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return lo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(xo);Eo.GOOGLE_SIGN_IN_METHOD="google.com",Eo.PROVIDER_ID="google.com";var So=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return lo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(xo);So.GITHUB_SIGN_IN_METHOD="github.com",So.PROVIDER_ID="github.com";var To=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return uo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,uo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(La),Co=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),ti(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=To.fromJSON(e);return ti(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return To._create(r,n)}catch(i){return null}}}]),n}(wo),No=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return lo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(xo);function Ao(e,t){return Do.apply(this,arguments)}function Do(){return Do=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signUp",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}No.TWITTER_SIGN_IN_METHOD="twitter.com",No.PROVIDER_ID="twitter.com";var Oo=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_t(wt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ta._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=jo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_t(wt().mark((function t(n,r,i){var a;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Po(){return Po=_t(wt().mark((function e(t){var n,r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ia(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Oo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ao(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Oo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}var Ro=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(qt);function Lo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ro._fromErrorAndOperation(e,n,t,r);throw n}))}function Mo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nn(t),e.next=3,Bo(!0,r,n);case 3:return e.t0=Oi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Mo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=_t(wt().mark((function e(t,n){var r,i,a=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Vi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Oo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(e,t,n){return qo.apply(this,arguments)}function qo(){return(qo=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(n);case 2:i=Mo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ti(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Go.apply(this,arguments)}function Go(){return Go=_t(wt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Vi(t,Lo(i,a,n,t),r);case 6:return ti((o=e.sent).idToken,i,"internal-error"),ti(s=Ui(o.idToken),i,"internal-error"),u=s.sub,ti(t.uid===u,i,"user-mismatch"),e.abrupt("return",Oo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Jr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Go.apply(this,arguments)}function Ho(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=_t(wt().mark((function e(t,n){var r,i,a,o,s=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Lo(t,i,n);case 4:return a=e.sent,e.next=7,Oo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(Ia(t),n));case 1:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nn(t),e.next=3,Bo(!1,r,n.providerId);case 3:return e.abrupt("return",Vo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return Zo.apply(this,arguments)}function Zo(){return(Zo=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wo(nn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yi(t,"POST","/v1/accounts:signInWithCustomToken",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return ns=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ia(t),e.next=3,es(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Oo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}var rs=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?is._fromServerResponse(e,t):"totpInfo"in t?as._fromServerResponse(e,t):Jr(e,"internal-error")}}]),e}(),is=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(rs),as=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(rs);function os(e,t,n){var r;ti((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ti("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ti(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ti(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ss(e){return us.apply(this,arguments)}function us(){return us=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Ia(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(){return cs=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ia(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},r&&os(i,a,r),e.next=5,Da(i,a,"getOobCode",Xa);case 5:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(){return ls=_t(wt().mark((function e(t,n,r){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(nn(t),{oobCode:n,newPassword:r}).catch(function(){var e=_t(wt().mark((function e(n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&ss(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(){return fs=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qa(nn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nn(t),e.next=3,Ma(r,{oobCode:n});case 3:i=e.sent,ti(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ti(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ti(i.mfaInfo,r,"internal-error");case 13:ti(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=rs._fromServerResponse(Ia(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(){return ps=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(nn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return ms=_t(wt().mark((function e(t,n,r){var i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ia(t),a=Da(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ao),e.next=5,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&ss(t),e}));case 5:return o=e.sent,e.next=8,Oo._fromIdTokenResponse(i,"signIn",o);case 8:return s=e.sent,e.next=11,i._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(){return ys=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){ti(t.handleCodeInApp,i,"argument-error"),t&&os(i,e,t)},i=Ia(t),o(a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},r),e.next=6,Da(i,a,"getOobCode",Za);case 6:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function gs(){return gs=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nn(t),ti((a=bo.credentialWithLink(n,r||ii()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Qo(i,a));case 4:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:createAuthUri",hi(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(){return ws=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ai()?ii():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ks(nn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function xs(){return(xs=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&os(r.auth,a,n),e.next=8,Ya(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(){return(_s=_t(wt().mark((function e(t,n,r){var i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&os(i.auth,o,r),e.next=8,to(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e,t){return Es.apply(this,arguments)}function Es(){return Es=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ss(){return(Ss=_t(wt().mark((function e(t,n){var r,i,a,o,s,u,c;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=nn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Vi(a,Is(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t,n){return Cs.apply(this,arguments)}function Cs(){return Cs=_t(wt().mark((function e(t,n,r){var i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Vi(t,Ua(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}var Ns=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),As=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(Ns),Ds=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(Ns),Os=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(As),js=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(Ns),Ps=function(e){k(n,e);var t=_(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(As);function Rs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ui(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ns(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ds(a,i);case"github.com":return new Os(a,i);case"google.com":return new js(a,i);case"twitter.com":return new Ps(a,i,e.screenName||null);case"custom":case"anonymous":return new Ns(a,null);default:return new Ns(a,r,i)}}(n)}var Ls=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:Et({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ms=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ia(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return rs._fromServerResponse(r,e)}));ti(i.mfaPendingCredential,r,"internal-error");var o=Ls._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=_t(wt().mark((function e(t){var a,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Oo._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ti(n.user,r,"internal-error"),e.abrupt("return",Oo._forOperation(n.user,n.operationType,s));case 17:Jr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fs(e,t){return di(e,"POST","/v2/accounts/mfaEnrollment:start",hi(e,t))}function Us(e,t){return di(e,"POST","/v2/accounts/mfaEnrollment:start",hi(e,t))}function Vs(e,t){return di(e,"POST","/v2/accounts/mfaEnrollment:finalize",hi(e,t))}function zs(e,t){return di(e,"POST","/v2/accounts/mfaEnrollment:withdraw",hi(e,t))}var Bs=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return rs._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ls,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Vi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Vi(this.user,zs(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qs=new WeakMap;var Ws="__sak",Gs=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ws,"1"),this.storage.removeItem(Ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hs=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Mt();return la(e)||ma(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ya(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);zt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_t(wt().mark((function e(t,r){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(wt().mark((function e(t){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Gs);Hs.type="LOCAL";var Ks=Hs,Qs=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Gs);Qs.type="SESSION";var Ys=Qs;function Js(e){return Promise.all(e.map(function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Xs=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_t(wt().mark((function e(t){var n,r,i,a,o,s,u,c;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Js(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $s(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xs.receivers=[];var Zs=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_t(wt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=$s("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function eu(){return window}function tu(e){eu().location.href=e}function nu(){return"undefined"!==typeof eu().WorkerGlobalScope&&"function"===typeof eu().importScripts}function ru(){return iu.apply(this,arguments)}function iu(){return(iu=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function au(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ou="firebaseLocalStorageDb",su="firebaseLocalStorage",uu="fbase_key",cu=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function lu(e,t){return e.transaction([su],t?"readwrite":"readonly").objectStore(su)}function fu(){var e=indexedDB.deleteDatabase(ou);return new cu(e).toPromise()}function hu(){var e=indexedDB.open(ou,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(su,{keyPath:uu})}catch(r){n(r)}})),e.addEventListener("success",_t(wt().mark((function n(){var r;return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(su)){n.next=12;break}return r.close(),n.next=5,fu();case 5:return n.t0=t,n.next=8,hu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lu(t,!0).put((Et(i={},uu,n),Et(i,"value",r),i)),e.abrupt("return",new cu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t,!1).get(n),e.next=3,new cu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e,t){var n=lu(e,!0).delete(t);return new cu(n).toPromise()}var gu=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_t(wt().mark((function e(){var t=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xs._getInstance(nu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=_t(wt().mark((function e(n,r){var i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_t(wt().mark((function e(){var t,n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&au()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hu();case 5:return t=e.sent,e.next=8,du(t,Ws,"1");case 8:return e.next=10,yu(t,Ws);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(wt().mark((function e(t,n){var r=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return du(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(wt().mark((function e(t){var n=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return yu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=lu(e,!1).getAll();return new cu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gu.type="LOCAL";var ku=gu;function bu(e,t){return di(e,"POST","/v2/accounts/mfaSignIn:start",hi(e,t))}function wu(e,t){return di(e,"POST","/v2/accounts/mfaSignIn:finalize",hi(e,t))}var xu=1e12,_u=function(){function e(t){d(this,e),this.auth=t,this.counter=xu,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Iu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||xu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||xu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||xu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Iu=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ti(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Eu=Ta("rcb"),Su=new si(3e4,6e4),Tu=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=eu().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ti(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&_i(eu().grecaptcha)?Promise.resolve(eu().grecaptcha):new Promise((function(r,i){var a=eu().setTimeout((function(){i(Xr(e,"network-request-failed"))}),Su.get());eu()[Eu]=function(){eu().clearTimeout(a),delete eu()[Eu];var o=eu().grecaptcha;if(o&&_i(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Xr(e,"internal-error"))},Sa("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Jt({onload:Eu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Xr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=eu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Cu=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new _u(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Nu="recaptcha",Au={theme:"light",type:"image"},Du=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Au);d(this,e),this.parameters=r,this.type=Nu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ia(t),this.isInvisible="invisible"===this.parameters.size,ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;ti(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cu:new Tu,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ti(!this.parameters.sitekey,this.auth,"argument-error"),ti(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=eu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ti(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=_t(wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti(ai()&&!nu(),this.auth,"internal-error"),e.next=3,Ou();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Si(this.auth);case 8:ti(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ti(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ou(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ju=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=go._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Pu(){return Pu=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ia(t),e.next=3,Fu(i,n,nn(r));case 3:return a=e.sent,e.abrupt("return",new ju(a,(function(e){return Qo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ru(e,t,n){return Lu.apply(this,arguments)}function Lu(){return(Lu=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nn(t),e.next=3,Bo(!1,i,"phone");case 3:return e.next=5,Fu(i.auth,n,nn(r));case 5:return a=e.sent,e.abrupt("return",new ju(a,(function(e){return Jo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(){return(Mu=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nn(t),e.next=3,Fu(i.auth,n,nn(r));case 3:return a=e.sent,e.abrupt("return",new ju(a,(function(e){return $o(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t,n){return Uu.apply(this,arguments)}function Uu(){return Uu=_t(wt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ti("string"===typeof a,t,"argument-error"),ti(r.type===Nu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ti("enroll"===s.type,t,"internal-error"),e.next=13,Fs(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ti("signin"===s.type,t,"internal-error"),ti(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Uu.apply(this,arguments)}function Vu(){return(Vu=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(nn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zu=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ia(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return Fu(this.auth,e,nn(t))}}],[{key:"credential",value:function(e,t){return go._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?go._fromTokenResponse(n,r):null}}]),e}();function Bu(e,t){return t?ra(t):(ti(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zu.PROVIDER_ID="phone",zu.PHONE_SIGN_IN_METHOD="phone";var qu=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return uo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return uo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return uo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(La);function Wu(e){return Ho(e.auth,new qu(e),e.bypassAuthState)}function Gu(e){var t=e.auth,n=e.user;return ti(n,t,"internal-error"),Wo(n,new qu(e),e.bypassAuthState)}function Hu(e){return Ku.apply(this,arguments)}function Ku(){return Ku=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ti(r=t.user,n,"internal-error"),e.abrupt("return",Vo(r,new qu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}var Qu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_t(wt().mark((function t(n,r){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_t(wt().mark((function e(t){var n,r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wu;case"linkViaPopup":case"linkViaRedirect":return Hu;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:Jr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yu=new si(2e3,1e4);function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return Xu=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ia(t),Zr(t,n,wo),a=Bu(i,r),o=new tc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function $u(){return($u=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=nn(t)).auth,n,wo),a=Bu(i.auth,r),o=new tc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=nn(t)).auth,n,wo),a=Bu(i.auth,r),o=new tc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tc=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return y(n,[{key:"executeNotNull",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ti(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(wt().mark((function e(){var t,n=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ri(1===this.filter.length,"Popup operations only handle one event"),t=$s(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Yu.get())}()}}]),n}(Qu);tc.currentPopupAction=null;var nc="pendingRedirect",rc=new Map,ic=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=_t(wt().mark((function e(){var t,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ac(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,jr(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rc.set(this.auth._key(),t);case 21:return this.bypassAuthState||rc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_t(wt().mark((function e(t){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",jr(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",jr(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Qu);function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fc(n),i=lc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function sc(e,t){return uc.apply(this,arguments)}function uc(){return uc=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lc(t)._set(fc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e,t){rc.set(e._key(),t)}function lc(e){return ra(e._redirectPersistence)}function fc(e){return oa(nc,e.config.apiKey,e.name)}function hc(e,t,n){return function(e,t,n){return dc.apply(this,arguments)}(e,t,n)}function dc(){return dc=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ia(t),Zr(t,n,wo),e.next=4,i._initializationPromise;case 4:return a=Bu(i,r),e.next=7,sc(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t,n){return function(e,t,n){return vc.apply(this,arguments)}(e,t,n)}function vc(){return(vc=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=nn(t)).auth,n,wo),e.next=4,i.auth._initializationPromise;case 4:return a=Bu(i.auth,r),e.next=7,sc(a,i.auth);case 7:return e.next=9,xc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t,n){return function(e,t,n){return yc.apply(this,arguments)}(e,t,n)}function yc(){return(yc=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=nn(t)).auth,n,wo),e.next=4,i.auth._initializationPromise;case 4:return a=Bu(i.auth,r),e.next=7,Bo(!1,i,n.providerId);case 7:return e.next=9,sc(a,i.auth);case 9:return e.next=11,xc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(t)._initializationPromise;case 2:return e.abrupt("return",bc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t){return wc.apply(this,arguments)}function wc(){return wc=_t(wt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ia(t),a=Bu(i,n),o=new ic(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e){return _c.apply(this,arguments)}function _c(){return(_c=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$s("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ic=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Sc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ec(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ec(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ec(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Sc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Tc(e){return Cc.apply(this,arguments)}function Cc(){return Cc=_t(wt().mark((function e(t){var n,r=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",di(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}var Nc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac=/^https?/;function Dc(){return Dc=_t(wt().mark((function e(t){var n,r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tc(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Oc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Jr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Dc.apply(this,arguments)}function Oc(e){var t=ii(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ac.test(r))return!1;if(Nc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jc=new si(3e4,6e4);function Pc(){var e=eu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Rc=null;function Lc(e){return Rc=Rc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Pc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Pc(),n(Xr(e,"network-request-failed"))},timeout:jc.get()})}if(null===(i=null===(r=eu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=eu().gapi)||void 0===a?void 0:a.load)){var s=Ta("iframefcb");return eu()[s]=function(){gapi.load?o():n(Xr(e,"network-request-failed"))},Sa("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Rc=null,e}))}(e),Rc}var Mc=new si(5e3,15e3),Fc="__/auth/iframe",Uc="emulator/auth/iframe",Vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bc(e){var t=e.config;ti(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ui(t,Uc):"https://".concat(e.config.authDomain,"/").concat(Fc),r={apiKey:t.apiKey,appName:e.name,v:er},i=zc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}function qc(e){return Wc.apply(this,arguments)}function Wc(){return Wc=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc(t);case 2:return n=e.sent,ti(r=eu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vc,dontclear:!0},(function(e){return new Promise(function(){var n=_t(wt().mark((function n(r,i){var a,o,s;return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){eu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xr(t,"network-request-failed"),o=eu().setTimeout((function(){i(a)}),Mc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}var Gc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hc=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Kc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Gc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Mt().toLowerCase();n&&(s=fa(c)?"_blank":n),ca(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ma(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Hc(null);var h=window.open(t||"",s,f);ti(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Hc(h)}var Qc="__/auth/handler",Yc="emulator/auth/handler",Jc=encodeURIComponent("fac");function Xc(e,t,n,r,i,a){return $c.apply(this,arguments)}function $c(){return $c=_t(wt().mark((function e(t,n,r,i,a,o){var s,u,c,f,h,d,p,v,m,y,g,k,b;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ti(t.config.authDomain,t,"auth-domain-config-required"),ti(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:er,eventId:a},n instanceof wo)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Kt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof xo&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Jc,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Zc(t),"?").concat(Jt(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Zc(e){var t=e.config;return t.emulator?ui(t,Yc):"https://".concat(t.authDomain,"/").concat(Qc)}var el="webStorageSupport",tl=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=bc,this._overrideRedirectResult=cc}return y(e,[{key:"_openPopup",value:function(){var e=_t(wt().mark((function e(t,n,r,i){var a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ri(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Xc(t,n,r,ii(),i);case 3:return o=e.sent,e.abrupt("return",Kc(t,o,$s()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_t(wt().mark((function e(t,n,r,i){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Xc(t,n,r,ii(),i);case 4:return tu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ri(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(t);case 2:return n=e.sent,r=new Ic(t),n.register("authEvent",(function(e){return ti(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(el,{type:el},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[el];void 0!==i&&t(!!i),Jr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ya()||la()||ma()}}]),e}(),nl=tl,rl=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ni("unexpected MultiFactorSessionType")}}}]),e}(),il=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return di(e,"POST","/v2/accounts/mfaEnrollment:finalize",hi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return di(e,"POST","/v2/accounts/mfaSignIn:finalize",hi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(rl),al=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return il._fromCredential(e)}}]),e}();al.FACTOR_ID="phone";var ol=function(){function e(){d(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return sl._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return sl._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Us(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",ul._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ol.FACTOR_ID="totp";var sl=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=_t(wt().mark((function e(t,n,r){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Vs(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",wu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(rl),ul=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(cl(e)||cl(t))&&(r=!0),r&&(cl(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),cl(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function cl(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ll="@firebase/auth",fl="1.4.0",hl=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ti(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var dl;!function(e){var t;null===(t=jt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function pl(){return window}dl="Browser",Kn(new rn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ti(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:dl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ga(dl)},l=new _a(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ra);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Kn(new rn("auth-internal",(function(e){return function(e){return new hl(e)}(Ia(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),or(ll,fl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(dl)),or(ll,fl,"esm2017");var vl=2e3;function ml(e,t,n){return yl.apply(this,arguments)}function yl(){return yl=_t(wt().mark((function e(t,n,r){var i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pl(),o=a.BuildInfo,ri(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_l(n.sessionId);case 4:return s=e.sent,u={},ma()?u.ibi=o.packageName:da()?u.apn=o.packageName:Jr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Xc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(){return gl=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pl(),r=n.BuildInfo,i={},ma()?i.iosBundleId=r.packageName:da()?i.androidPackageName=r.packageName:Jr(t,"operation-not-supported-in-this-environment"),e.next=5,Tc(t,i);case 5:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e){var t=pl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bl(e,t,n){return wl.apply(this,arguments)}function wl(){return wl=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Xr(t,"redirect-cancelled-by-user"))}),vl))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),da()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wl.apply(this,arguments)}function xl(e){var t,n,r,i,a,o,s,u,c,l,f=pl();ti("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ti("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ti("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ti("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ti("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _l(e){return Il.apply(this,arguments)}function Il(){return(Il=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=El(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e){if(ri(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Sl=20,Tl=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),jr(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ic);function Cl(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:jl(),postBody:null,tenantId:e.tenantId,error:Xr(e,"no-auth-event")}}function Nl(e,t){return Pl()._set(Rl(e),t)}function Al(e){return Dl.apply(this,arguments)}function Dl(){return Dl=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl()._get(Rl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Pl()._remove(Rl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ol(e,t){var n,r,i=function(e){var t=Ll(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ll(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ll(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ll(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Xr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function jl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Sl;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Pl(){return ra(Ks)}function Rl(e){return oa("authEvent",e.config.apiKey,e.name)}function Ll(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return Xt(t.slice(1).join("?"))}var Ml=function(){function e(){d(this,e),this._redirectPersistence=Ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bc,this._overrideRedirectResult=cc}return y(e,[{key:"_initialize",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Tl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Jr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=_t(wt().mark((function e(t,n,r,i){var a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rc.clear(),e.next=10,this._originValidation(t);case 10:return o=Cl(t,r,i),e.next=13,Nl(t,o);case 13:return e.next=15,ml(t,o,n);case 15:return s=e.sent,e.next=18,kl(s);case 18:return u=e.sent,e.abrupt("return",bl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=pl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(_t(wt().mark((function n(){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Al(e);case 2:t.onEvent(Ul());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=_t(wt().mark((function n(r){var i,a;return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Al(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ol(i,r.url)),t.onEvent(a||Ul());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");pl().handleOpenURL=function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Fl=Ml;function Ul(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xr("no-auth-event")}}var Vl=1e3;function zl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return!("file:"!==zl()&&"ionic:"!==zl()&&"capacitor:"!==zl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return zt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/Edge\/\d+/.test(e)}(e)}function Wl(){try{var e=self.localStorage,t=$s();if(e)return e.setItem(t,"1"),e.removeItem(t),!ql()||Bt()}catch(n){return Gl()&&Bt()}return!1}function Gl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Hl(){return("http:"===zl()||"https:"===zl()||Ut()||Bl())&&!(Vt()||Ft())&&Wl()&&!Gl()}function Kl(){return Bl()&&"undefined"!==typeof document}function Ql(){return Yl.apply(this,arguments)}function Yl(){return(Yl=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Vl);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jl={LOCAL:"local",NONE:"none",SESSION:"session"},Xl=ti,$l="persistence";function Zl(e,t){Xl(Object.values(Jl).includes(t),e,"invalid-persistence-type"),Vt()?Xl(t!==Jl.SESSION,e,"unsupported-persistence-type"):Ft()?Xl(t===Jl.NONE,e,"unsupported-persistence-type"):Gl()?Xl(t===Jl.NONE||t===Jl.LOCAL&&Bt(),e,"unsupported-persistence-type"):Xl(t===Jl.NONE||Wl(),e,"unsupported-persistence-type")}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=nf(),r=oa($l,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var rf=ti,af=function(){function e(){d(this,e),this.browserResolver=ra(nl),this.cordovaResolver=ra(Fl),this.underlyingResolver=null,this._redirectPersistence=Ys,this._completeRedirectFn=bc,this._overrideRedirectResult=cc}return y(e,[{key:"_initialize",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=_t(wt().mark((function e(t,n,r,i){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_t(wt().mark((function e(t,n,r,i){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Kl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return rf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ql();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function of(e){return e.unwrap()}function sf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new hf(e,function(e,t){var n,r=nn(e),i=t;return ti(t.customData.operationType,r,"argument-error"),ti(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ms._fromError(r,i)}(e,t));else if(r){var i=uf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function uf(e){var t=(e instanceof qt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof qt)&&"temporaryProof"in t&&"phoneNumber"in t)return zu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Lr.PASSWORD)return null;switch(r){case Lr.GOOGLE:n=Eo;break;case Lr.FACEBOOK:n=Io;break;case Lr.GITHUB:n=So;break;case Lr.TWITTER:n=No;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?To._create(r,s):lo._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new _o(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof qt?n.credentialFromError(e):n.credentialFromResult(e)}function cf(e,t){return t.catch((function(t){throw t instanceof qt&&sf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,uf(t)),additionalUserInfo:Rs(e),user:df.getOrCreate(r)}}))}function lf(e,t){return ff.apply(this,arguments)}function ff(){return ff=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}var hf=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cf(of(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),df=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=nn(e);return qs.has(t)||qs.set(t,Bs._fromUser(t)),qs.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,Jo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(this.auth,Ru(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,Zu(this._delegate,t,af)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(Ia(this.auth));case 2:return e.abrupt("return",mc(this._delegate,t,af));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,$o(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lf(this.auth,function(e,t,n){return Mu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cf(this.auth,function(e,t,n){return $u.apply(this,arguments)}(this._delegate,e,af))}},{key:"reauthenticateWithRedirect",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(Ia(this.auth));case 2:return e.abrupt("return",pc(this._delegate,t,af));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return xs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ts(nn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ts(nn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Vu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ss.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _s.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();df.USER_MAP=new WeakMap;var pf=ti,vf=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pf(r,"invalid-api-key",{appName:t.name}),pf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?af:void 0;this._delegate=n.initialize({options:{persistence:yf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Wr),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?df.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ja(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return fs.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hs(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ls.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this._delegate,vs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ws.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ko.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gc(this._delegate,af);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ia(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=mf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=mf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ys.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return cs.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zl(this._delegate,t),e.t0=t,e.next=e.t0===Jl.SESSION?4:e.t0===Jl.LOCAL?6:e.t0===Jl.NONE?11:13;break;case 4:return n=Ys,e.abrupt("break",14);case 6:return e.next=8,ra(ku)._isAvailable();case 8:return r=e.sent,n=r?ku:Ks,e.abrupt("break",14);case 11:return n=aa,e.abrupt("break",14);case 13:return e.abrupt("return",Jr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cf(this._delegate,function(e){return Po.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cf(this._delegate,Qo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cf(this._delegate,function(e,t){return ns.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cf(this._delegate,function(e,t,n){return Qo(nn(e),bo.credential(t,n)).catch(function(){var t=_t(wt().mark((function t(n){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&ss(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cf(this._delegate,function(e,t,n){return gs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lf(this._delegate,function(e,t,n){return Pu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cf(this._delegate,Ju(this._delegate,t,af)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ef(this._delegate);case 3:return e.abrupt("return",hc(this._delegate,t,af));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ps.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function mf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&df.getOrCreate(e))},error:t,complete:n}}function yf(e,t){var n=function(e,t){var n=nf();if(!n)return[];var r=oa($l,e,t);switch(n.getItem(r)){case Jl.NONE:return[aa];case Jl.LOCAL:return[ku,Ys];case Jl.SESSION:return[Ys];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ku)||n.push(ku),"undefined"!==typeof window)for(var r=0,i=[Ks,Ys];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(aa)||n.push(aa),n}vf.Persistence=Jl;var gf=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new zu(of(Or.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return zu.credential(e,t)}}]),e}();gf.PHONE_SIGN_IN_METHOD=zu.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=zu.PROVIDER_ID;var kf,bf=ti,wf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or.app();d(this,e),bf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Du(i.auth(),t,n),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(kf=Or).INTERNAL.registerComponent(new rn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Mr,PASSWORD_RESET:Fr,RECOVER_EMAIL:Ur,REVERT_SECOND_FACTOR_ADDITION:Vr,VERIFY_AND_CHANGE_EMAIL:zr,VERIFY_EMAIL:Br}},EmailAuthProvider:bo,FacebookAuthProvider:Io,GithubAuthProvider:So,GoogleAuthProvider:Eo,OAuthProvider:_o,SAMLAuthProvider:Co,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:al,RecaptchaVerifier:wf,TwitterAuthProvider:No,Auth:vf,AuthCredential:La,Error:qt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),kf.registerVersion("@firebase/auth-compat","0.4.9");var xf,_f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},If={},Ef=Ef||{},Sf=_f||self;function Tf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nf="closure_uid_"+(1e9*Math.random()>>>0),Af=0;function Df(e,t,n){return e.call.apply(e.bind,arguments)}function Of(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jf(e,t,n){return(jf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Df:Of).apply(null,arguments)}function Pf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rf(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Lf(){this.s=this.s,this.o=this.o}Lf.prototype.s=!1,Lf.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Nf)&&e[Nf]||(e[Nf]=++Af))},Lf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Mf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ff(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Uf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Tf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Vf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Vf.prototype.h=function(){this.defaultPrevented=!0};var zf=function(){if(!Sf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sf.addEventListener("test",(function(){}),t),Sf.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Bf(e){return/^[\s\xa0]*$/.test(e)}function qf(){var e=Sf.navigator;return e&&(e=e.userAgent)?e:""}function Wf(e){return-1!=qf().indexOf(e)}function Gf(e){return Gf[" "](e),e}Gf[" "]=function(){};var Hf,Kf,Qf=Wf("Opera"),Yf=Wf("Trident")||Wf("MSIE"),Jf=Wf("Edge"),Xf=Jf||Yf,$f=Wf("Gecko")&&!(-1!=qf().toLowerCase().indexOf("webkit")&&!Wf("Edge"))&&!(Wf("Trident")||Wf("MSIE"))&&!Wf("Edge"),Zf=-1!=qf().toLowerCase().indexOf("webkit")&&!Wf("Edge");function eh(){var e=Sf.document;return e?e.documentMode:void 0}e:{var th="",nh=function(){var e=qf();return $f?/rv:([^\);]+)(\)|;)/.exec(e):Jf?/Edge\/([\d\.]+)/.exec(e):Yf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zf?/WebKit\/(\S+)/.exec(e):Qf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nh&&(th=nh?nh[1]:""),Yf){var rh=eh();if(null!=rh&&rh>parseFloat(th)){Hf=String(rh);break e}}Hf=th}if(Sf.document&&Yf){var ih=eh();Kf=ih||(parseInt(Hf,10)||void 0)}else Kf=void 0;var ah=Kf;function oh(e,t){if(Vf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($f){e:{try{Gf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oh.$.h.call(this)}}Rf(oh,Vf);var sh={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),ch=0;function lh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ch,this.fa=this.ia=!1}function fh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function hh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function dh(e){var t={};for(var n in e)t[n]=e[n];return t}var ph="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ph.length;a++)n=ph[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mh(e){this.src=e,this.g={},this.h=0}function yh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Mf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}mh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new lh(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var kh="closure_lm_"+(1e6*Math.random()|0),bh={};function wh(e,t,n,r,i){if(r&&r.once)return _h(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wh(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[uh]?e.O(t,n,Cf(r)?!!r.capture:!!r,i):xh(e,t,n,!1,r,i)}function xh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cf(i)?!!i.capture:!!i,s=Ch(e);if(s||(e[kh]=s=new mh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Th;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Sh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _h(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_h(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[uh]?e.P(t,n,Cf(r)?!!r.capture:!!r,i):xh(e,t,n,!0,r,i)}function Ih(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ih(e,t[a],n,r,i);else r=Cf(r)?!!r.capture:!!r,n=Ah(n),e&&e[uh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gh(a=e.g[t],n,r,i))&&(fh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ch(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gh(t,n,r,i)),(n=-1<e?t[e]:null)&&Eh(n))}function Eh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[uh])yh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Sh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ch(t))?(yh(n,e),0==n.h&&(n.src=null,t[kh]=null)):fh(e)}}}function Sh(e){return e in bh?bh[e]:bh[e]="on"+e}function Th(e,t){if(e.fa)e=!0;else{t=new oh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Eh(e),e=n.call(r,t)}return e}function Ch(e){return(e=e[kh])instanceof mh?e:null}var Nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(e){return"function"===typeof e?e:(e[Nh]||(e[Nh]=function(t){return e.handleEvent(t)}),e[Nh])}function Dh(){Lf.call(this),this.i=new mh(this),this.S=this,this.J=null}function Oh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Vf(t,e);else if(t instanceof Vf)t.target=t.target||e;else{var i=t;vh(t=new Vf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jh(o,r,!0,t)&&i}if(i=jh(o=t.g=e,r,!0,t)&&i,i=jh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jh(o=t.g=n[a],r,!1,t)&&i}function jh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&yh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Rf(Dh,Lf),Dh.prototype[uh]=!0,Dh.prototype.removeEventListener=function(e,t,n,r){Ih(this,e,t,n,r)},Dh.prototype.N=function(){if(Dh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fh(n[r]);delete t.g[e],t.h--}}this.J=null},Dh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ph=Sf.JSON.stringify,Rh=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Lh(){var e=Wh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mh=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Fh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fh=new Rh((function(){return new Uh}),(function(e){return e.reset()})),Uh=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vh(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zh(e){Sf.setTimeout((function(){throw e}),0)}var Bh,qh=!1,Wh=new Mh,Gh=function(){var e=Sf.Promise.resolve(void 0);Bh=function(){e.then(Hh)}},Hh=function(){for(var e;e=Lh();){try{e.h.call(e.g)}catch(n){zh(n)}var t=Fh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qh=!1};function Kh(e,t){Dh.call(this),this.h=e||1,this.g=t||Sf,this.j=jf(this.qb,this),this.l=Date.now()}function Qh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Yh(e,t,n){if("function"===typeof e)n&&(e=jf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sf.setTimeout(e,t||0)}function Jh(e){e.g=Yh((function(){e.g=null,e.i&&(e.i=!1,Jh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Rf(Kh,Dh),(xf=Kh.prototype).ga=!1,xf.T=null,xf.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oh(this,"tick"),this.ga&&(Qh(this),this.start()))}},xf.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xf.N=function(){Kh.$.N.call(this),Qh(this),delete this.g};var Xh=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Jh(this)}},{key:"N",value:function(){jr(b(n.prototype),"N",this).call(this),this.g&&(Sf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Lf);function $h(e){Lf.call(this),this.h=e,this.g={}}Rf($h,Lf);var Zh=[];function ed(e,t,n,r){Array.isArray(n)||(n&&(Zh[0]=n.toString()),n=Zh);for(var i=0;i<n.length;i++){var a=wh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function td(e){hh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Eh(e)}),e),e.g={}}function nd(){this.g=!0}function rd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ph(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}$h.prototype.N=function(){$h.$.N.call(this),td(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nd.prototype.Ea=function(){this.g=!1},nd.prototype.info=function(){};var id={},ad=null;function od(){return ad=ad||new Dh}function sd(e){Vf.call(this,id.Ta,e)}function ud(e){var t=od();Oh(t,new sd(t))}function cd(e,t){Vf.call(this,id.STAT_EVENT,e),this.stat=t}function ld(e){var t=od();Oh(t,new cd(t,e))}function fd(e,t){Vf.call(this,id.Ua,e),this.size=t}function hd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Sf.setTimeout((function(){e()}),t)}id.Ta="serverreachability",Rf(sd,Vf),id.STAT_EVENT="statevent",Rf(cd,Vf),id.Ua="timingevent",Rf(fd,Vf);var dd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vd(){}function md(e){return e.h||(e.h=e.i())}function yd(){}vd.prototype.h=null;var gd,kd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bd(){Vf.call(this,"d")}function wd(){Vf.call(this,"c")}function xd(){}function _d(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new $h(this),this.P=Ed,e=Xf?125:void 0,this.V=new Kh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Id}function Id(){this.i=null,this.g="",this.h=!1}Rf(bd,Vf),Rf(wd,Vf),Rf(xd,vd),xd.prototype.g=function(){return new XMLHttpRequest},xd.prototype.i=function(){return{}},gd=new xd;var Ed=45e3,Sd={},Td={};function Cd(e,t,n){e.L=1,e.v=Kd(Bd(t)),e.s=n,e.S=!0,Nd(e,null)}function Nd(e,t){e.G=Date.now(),jd(e),e.A=Bd(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),op(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Id,e.g=sv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Xh(jf(e.Pa,e,e.g),e.O)),ed(e.U,e.g,"readystatechange",e.nb),t=e.I?dh(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ud(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ad(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Dd(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Od(e,n))==Td){4==t&&(e.o=4,ld(14),i=!1),rd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sd){e.o=4,ld(15),rd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rd(e.j,e.m,r,null),Fd(e,r)}Ad(e)&&r!=Td&&r!=Sd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ld(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zp(t),t.M=!0,ld(11))):(rd(e.j,e.m,n,"[Invalid Chunked Response]"),Md(e),Ld(e))}function Od(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Td:(n=Number(t.substring(n,r)),isNaN(n)?Sd:(r+=1)+n>t.length?Td:(t=t.slice(r,r+n),e.C=r+n,t))}function jd(e){e.Y=Date.now()+e.P,Pd(e,e.P)}function Pd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hd(jf(e.lb,e),t)}function Rd(e){e.B&&(Sf.clearTimeout(e.B),e.B=null)}function Ld(e){0==e.l.H||e.J||nv(e.l,e)}function Md(e){Rd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Qh(e.V),td(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||dp(n.i,e)))if(!e.K&&dp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tv(n),Gp(n)}$p(n),ld(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=hd(jf(n.ib,n),6e3));if(1>=hp(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else iv(n,11)}else if((e.K||n.g==e)&&tv(n),!Bf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(pp(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Hd(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ov(r,r.J?r.pa:null,r.Y),d.K){vp(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Rd(p),jd(p)),r.g=d}else Xp(r);0<n.j.length&&Kp(n)}else"stop"!=a[0]&&"close"!=a[0]||iv(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?iv(n,7):Wp(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}ud()}catch(a){}}function Ud(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Tf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Tf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xf=_d.prototype).setTimeout=function(e){this.P=e},xf.nb=function(e){e=e.target;var t=this.M;t&&3==Fp(e)?t.l():this.Pa(e)},xf.Pa=function(e){try{if(e==this.g)e:{var t=Fp(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Xf||this.g&&(this.h.h||this.g.ja()||Up(this.g)))){this.J||4!=t||7==n||ud(),Rd(this);var r=this.g.da();this.ca=r;t:if(Ad(this)){var i=Up(this.g);e="";var a=i.length,o=4==Fp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Md(this),Ld(this);var s="";break t}this.h.i=new Sf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ld(12),Md(this),Ld(this);break e}rd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,r)}this.S?(Dd(this,t,s),Xf&&this.i&&3==t&&(ed(this.U,this.V,"tick",this.mb),this.V.start())):(rd(this.j,this.m,s,null),Fd(this,s)),4==t&&Md(this),this.i&&!this.J&&(4==t?nv(this.l,this):(this.i=!1,jd(this)))}else(function(e){var t={};e=(e.g&&2<=Fp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Bf(e[n])){var r=Vh(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ld(12)):(this.o=0,ld(13)),Md(this),Ld(this)}}}catch(t){}},xf.mb=function(){if(this.g){var e=Fp(this.g),t=this.g.ja();this.C<t.length&&(Rd(this),Dd(this,e,t),this.i&&4!=e&&jd(this))}},xf.cancel=function(){this.J=!0,Md(this)},xf.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ud(),ld(17)),Md(this),this.o=2,Ld(this)):Pd(this,this.Y-e)};var Vd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zd){this.h=e.h,qd(this,e.j),this.s=e.s,this.g=e.g,Wd(this,e.m),this.l=e.l;var t=e.i,n=new np;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gd(this,n),this.o=e.o}else e&&(t=String(e).match(Vd))?(this.h=!1,qd(this,t[1]||"",!0),this.s=Qd(t[2]||""),this.g=Qd(t[3]||"",!0),Wd(this,t[4]),this.l=Qd(t[5]||"",!0),Gd(this,t[6]||"",!0),this.o=Qd(t[7]||"")):(this.h=!1,this.i=new np(null,this.h))}function Bd(e){return new zd(e)}function qd(e,t,n){e.j=n?Qd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gd(e,t,n){t instanceof np?(e.i=t,function(e,t){t&&!e.j&&(rp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ip(this,t),op(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Yd(t,ep)),e.i=new np(t,e.h))}function Hd(e,t,n){e.i.set(t,n)}function Kd(e){return Hd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yd(t,Xd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yd(t,Xd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yd(n,"/"==n.charAt(0)?Zd:$d,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yd(n,tp)),e.join("")};var Xd=/[#\/\?@]/g,$d=/[#\?:]/g,Zd=/[#\?]/g,ep=/[#\?@]/g,tp=/#/g;function np(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ip(e,t){rp(e),t=sp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ap(e,t){return rp(e),t=sp(e,t),e.g.has(t)}function op(e,t,n){ip(e,t),0<n.length&&(e.i=null,e.g.set(sp(e,t),Ff(n)),e.h+=n.length)}function sp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xf=np.prototype).add=function(e,t){rp(this),this.i=null,e=sp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xf.forEach=function(e,t){rp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xf.ta=function(){rp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xf.Z=function(e){rp(this);var t=[];if("string"===typeof e)ap(this,e)&&(t=t.concat(this.g.get(sp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xf.set=function(e,t){return rp(this),this.i=null,ap(this,e=sp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xf.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var up=y((function e(t,n){d(this,e),this.g=t,this.map=n}));function cp(e){this.l=e||lp,Sf.PerformanceNavigationTiming?e=0<(e=Sf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Sf.g&&Sf.g.Ka&&Sf.g.Ka()&&Sf.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lp=10;function fp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hp(e){return e.h?1:e.g?e.g.size:0}function dp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pp(e,t){e.g?e.g.add(t):e.h=t}function vp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mp(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Ff(e.i)}cp.prototype.cancel=function(){if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var yp,gp=function(){function e(){d(this,e)}return y(e,[{key:"stringify",value:function(e){return Sf.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Sf.JSON.parse(e,void 0)}}]),e}();function kp(){this.g=new gp}function bp(e,t,n){var r=n||"";try{Ud(e,(function(e,n){var i=e;Cf(e)&&(i=Ph(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xp(e){this.l=e.ec||null,this.j=e.ob||!1}function _p(e,t){Dh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rf(xp,vd),xp.prototype.g=function(){return new _p(this.l,this.j)},xp.prototype.i=(yp={},function(){return yp}),Rf(_p,Dh);var Ip=0;function Ep(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Sp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tp(e)}function Tp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xf=_p.prototype).open=function(e,t){if(this.readyState!=Ip)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tp(this)},xf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Sf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sp(this)),this.readyState=Ip},xf.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tp(this)),this.g&&(this.readyState=3,Tp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Sf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ep(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xf.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sp(this):Tp(this),3==this.readyState&&Ep(this)}},xf.Za=function(e){this.g&&(this.response=this.responseText=e,Sp(this))},xf.Ya=function(e){this.g&&(this.response=e,Sp(this))},xf.ka=function(){this.g&&Sp(this)},xf.setRequestHeader=function(e,t){this.v.append(e,t)},xf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cp=Sf.JSON.parse;function Np(e){Dh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ap,this.L=this.M=!1}Rf(Np,Dh);var Ap="",Dp=/^https?$/i,Op=["POST","PUT"];function jp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pp(e),Lp(e)}function Pp(e){e.F||(e.F=!0,Oh(e,"complete"),Oh(e,"error"))}function Rp(e){if(e.h&&"undefined"!=typeof Ef&&(!e.C[1]||4!=Fp(e)||2!=e.da()))if(e.v&&4==Fp(e))Yh(e.La,0,e);else if(Oh(e,"readystatechange"),4==Fp(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Vd)[1]||null;!a&&Sf.self&&Sf.self.location&&(a=Sf.self.location.protocol.slice(0,-1)),i=!Dp.test(a?a.toLowerCase():"")}t=i}if(t)Oh(e,"complete"),Oh(e,"success");else{e.m=6;try{var o=2<Fp(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Pp(e)}}finally{Lp(e)}}}function Lp(e,t){if(e.g){Mp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Oh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Sf.clearTimeout(e.A),e.A=null)}function Fp(e){return e.g?e.g.readyState:0}function Up(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ap:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Hv){return null}}function Vp(e){var t="";return hh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hd(e,t,n))}function Bp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qp(e){this.Ga=0,this.j=[],this.l=new nd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bp("baseRetryDelayMs",5e3,e),this.hb=Bp("retryDelaySeedMs",1e4,e),this.eb=Bp("forwardChannelMaxRetries",2,e),this.xa=Bp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cp(e&&e.concurrentRequestLimit),this.Ja=new kp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wp(e){if(Hp(e),3==e.H){var t=e.W++,n=Bd(e.I);if(Hd(n,"SID",e.K),Hd(n,"RID",t),Hd(n,"TYPE","terminate"),Yp(e,n),(t=new _d(e,e.l,t)).L=2,t.v=Kd(Bd(n)),n=!1,Sf.navigator&&Sf.navigator.sendBeacon)try{n=Sf.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Sf.Image&&((new Image).src=t.v,n=!0),n||(t.g=sv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jd(t)}av(e)}function Gp(e){e.g&&(Zp(e),e.g.cancel(),e.g=null)}function Hp(e){Gp(e),e.u&&(Sf.clearTimeout(e.u),e.u=null),tv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Sf.clearTimeout(e.m),e.m=null)}function Kp(e){if(!fp(e.i)&&!e.m){e.m=!0;var t=e.Na;Bh||Gh(),qh||(Bh(),qh=!0),Wh.add(t,e),e.C=0}}function Qp(e,t){var n;n=t?t.m:e.W++;var r=Bd(e.I);Hd(r,"SID",e.K),Hd(r,"RID",n),Hd(r,"AID",e.V),Yp(e,r),e.o&&e.s&&zp(r,e.o,e.s),n=new _d(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),pp(e.i,n),Cd(n,r,t)}function Yp(e,t){e.na&&hh(e.na,(function(e,n){Hd(t,n,e)})),e.h&&Ud({},(function(e,n){Hd(t,n,e)}))}function Jp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?jf(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{bp(l,o,"req"+c+"_")}catch(ly){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Xp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bh||Gh(),qh||(Bh(),qh=!0),Wh.add(t,e),e.A=0}}function $p(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=hd(jf(e.Ma,e),rv(e,e.A)),e.A++,!0)}function Zp(e){null!=e.B&&(Sf.clearTimeout(e.B),e.B=null)}function ev(e){e.g=new _d(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bd(e.wa);Hd(t,"RID","rpc"),Hd(t,"SID",e.K),Hd(t,"AID",e.V),Hd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Hd(t,"TO",e.qa),Hd(t,"TYPE","xmlhttp"),Yp(e,t),e.o&&e.s&&zp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Kd(Bd(t)),n.s=null,n.S=!0,Nd(n,e)}function tv(e){null!=e.v&&(Sf.clearTimeout(e.v),e.v=null)}function nv(e,t){var n=null;if(e.g==t){tv(e),Zp(e),e.g=null;var r=2}else{if(!dp(e.i,t))return;n=t.F,vp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Oh(r=od(),new fd(r,n)),Kp(e)}else Xp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(hp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=hd(jf(e.Na,e,t),rv(e,e.C)),e.C++,!0))}(e,t)||2==r&&$p(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iv(e,5);break;case 4:iv(e,10);break;case 3:iv(e,6);break;default:iv(e,2)}}function rv(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function iv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=jf(e.pb,e);n||(n=new zd("//www.google.com/images/cleardot.gif"),Sf.location&&"http"==Sf.location.protocol||qd(n,"https"),Kd(n)),function(e,t){var n=new nd;if(Sf.Image){var r=new Image;r.onload=Pf(wp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pf(wp,n,r,"TestLoadImage: error",!1,t),r.onabort=Pf(wp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pf(wp,n,r,"TestLoadImage: timeout",!1,t),Sf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ld(2);e.H=0,e.h&&e.h.za(t),av(e),Hp(e)}function av(e){if(e.H=0,e.ma=[],e.h){var t=mp(e.i);0==t.length&&0==e.j.length||(Uf(e.ma,t),Uf(e.ma,e.j),e.i.i.length=0,Ff(e.j),e.j.length=0),e.h.ya()}}function ov(e,t,n){var r=n instanceof zd?Bd(n):new zd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wd(r,r.m);else{var i=Sf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new zd(null);r&&qd(a,r),t&&(a.g=t),i&&Wd(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Hd(r,n,t),Hd(r,"VER",e.ra),Yp(e,r),r}function sv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Np(new xp({ob:!0})):new Np(e.va)).Oa(e.J),t}function uv(){}function cv(){if(Yf&&!(10<=Number(ah)))throw Error("Environmental error: no available transport.")}function lv(e,t){Dh.call(this),this.g=new qp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Bf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dv(this)}function fv(e){bd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hv(){wd.call(this),this.status=1}function dv(e){this.g=e}function pv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vv(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function mv(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(xf=Np.prototype).Oa=function(e){this.M=e},xf.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gd.g(),this.C=this.u?md(this.u):md(gd),this.g.onreadystatechange=jf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void jp(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Sf.FormData&&e instanceof Sf.FormData,!(0<=Mf(Op,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=T(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mp(this),0<this.B&&((this.L=function(e){return Yf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jf(this.ua,this)):this.A=Yh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){jp(this,s)}},xf.ua=function(){"undefined"!=typeof Ef&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oh(this,"timeout"),this.abort(8))},xf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oh(this,"complete"),Oh(this,"abort"),Lp(this))},xf.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lp(this,!0)),Np.$.N.call(this)},xf.La=function(){this.s||(this.G||this.v||this.l?Rp(this):this.kb())},xf.kb=function(){Rp(this)},xf.isActive=function(){return!!this.g},xf.da=function(){try{return 2<Fp(this)?this.g.status:-1}catch(yp){return-1}},xf.ja=function(){try{return this.g?this.g.responseText:""}catch(yp){return""}},xf.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cp(t)}},xf.Ia=function(){return this.m},xf.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xf=qp.prototype).ra=8,xf.H=1,xf.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new _d(this,this.l,e),n=this.s;if(this.U&&(n?vh(n=dh(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jp(this,t,r),Hd(i=Bd(this.I),"RID",e),Hd(i,"CVER",22),this.F&&Hd(i,"X-HTTP-Session-Id",this.F),Yp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Vp(n)))+"&"+r:this.o&&zp(i,this.o,n)),pp(this.i,t),this.bb&&Hd(i,"TYPE","init"),this.P?(Hd(i,"$req",r),Hd(i,"SID","null"),t.aa=!0,Cd(t,i,null)):Cd(t,i,r),this.H=2}}else 3==this.H&&(e?Qp(this,e):0==this.j.length||fp(this.i)||Qp(this))},xf.Ma=function(){if(this.u=null,ev(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=hd(jf(this.jb,this),e)}},xf.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ld(10),Gp(this),ev(this))},xf.ib=function(){null!=this.v&&(this.v=null,Gp(this),$p(this),ld(19))},xf.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ld(2)):(this.l.info("Failed to ping google.com"),ld(1))},xf.isActive=function(){return!!this.h&&this.h.isActive(this)},(xf=uv.prototype).Ba=function(){},xf.Aa=function(){},xf.za=function(){},xf.ya=function(){},xf.isActive=function(){return!0},xf.Va=function(){},cv.prototype.g=function(e,t){return new lv(e,t)},Rf(lv,Dh),lv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ld(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ov(e,null,e.Y),Kp(e)},lv.prototype.close=function(){Wp(this.g)},lv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ph(e),e=n);t.j.push(new up(t.fb++,e)),3==t.H&&Kp(t)},lv.prototype.N=function(){this.g.h=null,delete this.j,Wp(this.g),delete this.g,lv.$.N.call(this)},Rf(fv,bd),Rf(hv,wd),Rf(dv,uv),dv.prototype.Ba=function(){Oh(this.g,"a")},dv.prototype.Aa=function(e){Oh(this.g,new fv(e))},dv.prototype.za=function(e){Oh(this.g,new hv)},dv.prototype.ya=function(){Oh(this.g,"b")},Rf(pv,(function(){this.blockSize=-1})),pv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)vv(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){vv(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){vv(this,r),i=0;break}}this.h=i,this.i+=t},pv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var yv={};function gv(e){return-128<=e&&128>e?function(e,t){var n=yv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new mv([0|e],0>e?-1:0)})):new mv([0|e],0>e?-1:0)}function kv(e){if(isNaN(e)||!isFinite(e))return wv;if(0>e)return Sv(kv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=bv;return new mv(t,0)}var bv=4294967296,wv=gv(0),xv=gv(1),_v=gv(16777216);function Iv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ev(e){return-1==e.h}function Sv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mv(n,~e.h).add(xv)}function Tv(e,t){return e.add(Sv(t))}function Cv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nv(e,t){this.g=e,this.h=t}function Av(e,t){if(Iv(t))throw Error("division by zero");if(Iv(e))return new Nv(wv,wv);if(Ev(e))return t=Av(Sv(e),t),new Nv(Sv(t.g),Sv(t.h));if(Ev(t))return t=Av(e,Sv(t)),new Nv(Sv(t.g),t.h);if(30<e.g.length){if(Ev(e)||Ev(t))throw Error("slowDivide_ only works with positive integers.");for(var n=xv,r=t;0>=r.X(e);)n=Dv(n),r=Dv(r);var i=Ov(n,1),a=Ov(r,1);for(r=Ov(r,2),n=Ov(n,2);!Iv(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Ov(r,1),n=Ov(n,1)}return t=Tv(e,i.R(t)),new Nv(i,t)}for(i=wv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=kv(n)).R(t);Ev(o)||0<o.X(e);)o=(a=kv(n-=r)).R(t);Iv(a)&&(a=xv),i=i.add(a),e=Tv(e,o)}return new Nv(i,e)}function Dv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mv(n,e.h)}function Ov(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new mv(i,e.h)}(xf=mv.prototype).ea=function(){if(Ev(this))return-Sv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:bv+r)*t,t*=bv}return e},xf.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Iv(this))return"0";if(Ev(this))return"-"+Sv(this).toString(e);for(var t=kv(Math.pow(e,6)),n=this,r="";;){var i=Av(n,t).g,a=((0<(n=Tv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Iv(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},xf.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xf.X=function(e){return Ev(e=Tv(this,e))?-1:Iv(e)?0:1},xf.abs=function(){return Ev(this)?Sv(this):this},xf.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new mv(n,-2147483648&n[n.length-1]?-1:0)},xf.R=function(e){if(Iv(this)||Iv(e))return wv;if(Ev(this))return Ev(e)?Sv(this).R(Sv(e)):Sv(Sv(this).R(e));if(Ev(e))return Sv(this.R(Sv(e)));if(0>this.X(_v)&&0>e.X(_v))return kv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Cv(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Cv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Cv(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Cv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mv(n,0)},xf.gb=function(e){return Av(this,e).h},xf.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mv(n,this.h&e.h)},xf.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mv(n,this.h|e.h)},xf.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mv(n,this.h^e.h)},cv.prototype.createWebChannel=cv.prototype.g,lv.prototype.send=lv.prototype.u,lv.prototype.open=lv.prototype.m,lv.prototype.close=lv.prototype.close,dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,pd.COMPLETE="complete",yd.EventType=kd,kd.OPEN="a",kd.CLOSE="b",kd.ERROR="c",kd.MESSAGE="d",Dh.prototype.listen=Dh.prototype.O,Np.prototype.listenOnce=Np.prototype.P,Np.prototype.getLastError=Np.prototype.Sa,Np.prototype.getLastErrorCode=Np.prototype.Ia,Np.prototype.getStatus=Np.prototype.da,Np.prototype.getResponseJson=Np.prototype.Wa,Np.prototype.getResponseText=Np.prototype.ja,Np.prototype.send=Np.prototype.ha,Np.prototype.setWithCredentials=Np.prototype.Oa,pv.prototype.digest=pv.prototype.l,pv.prototype.reset=pv.prototype.reset,pv.prototype.update=pv.prototype.j,mv.prototype.add=mv.prototype.add,mv.prototype.multiply=mv.prototype.R,mv.prototype.modulo=mv.prototype.gb,mv.prototype.compare=mv.prototype.X,mv.prototype.toNumber=mv.prototype.ea,mv.prototype.toString=mv.prototype.toString,mv.prototype.getBits=mv.prototype.D,mv.fromNumber=kv,mv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Sv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=kv(Math.pow(n,8)),i=wv,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=kv(Math.pow(n,o)),i=i.R(o).add(kv(s))):i=(i=i.R(r)).add(kv(s))}return i};var jv=If.createWebChannelTransport=function(){return new cv},Pv=If.getStatEventTarget=function(){return od()},Rv=If.ErrorCode=dd,Lv=If.EventType=pd,Mv=If.Event=id,Fv=If.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uv=If.FetchXmlHttpFactory=xp,Vv=If.WebChannel=yd,zv=If.XhrIo=Np,Bv=If.Md5=pv,qv=If.Integer=mv,Wv="@firebase/firestore",Gv=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Gv.UNAUTHENTICATED=new Gv(null),Gv.GOOGLE_CREDENTIALS=new Gv("google-credentials-uid"),Gv.FIRST_PARTY=new Gv("first-party-uid"),Gv.MOCK_USER=new Gv("mock-user");var Hv="10.5.2",Kv=new vn("@firebase/firestore");function Qv(){return Kv.logLevel}function Yv(e){if(Kv.logLevel<=un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.debug.apply(Kv,["Firestore (".concat(Hv,"): ").concat(e)].concat(h(i)))}}function Jv(e){if(Kv.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.error.apply(Kv,["Firestore (".concat(Hv,"): ").concat(e)].concat(h(i)))}}function Xv(e){if(Kv.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.warn.apply(Kv,["Firestore (".concat(Hv,"): ").concat(e)].concat(h(i)))}}function $v(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Hv,") INTERNAL ASSERTION FAILED: ")+e;throw Jv(t),new Error(t)}function em(e,t){e||Zv()}function tm(e,t){return e}var nm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rm=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(qt),im=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),am=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),om=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),sm=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),um=function(){function e(t){d(this,e),this.t=t,this.currentUser=Gv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new im;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new im,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Yv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Yv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new im)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(em("string"==typeof n.accessToken),new am(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return em(null===e||"string"==typeof e),new Gv(e)}}]),e}(),cm=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Gv.FIRST_PARTY,this.I=new Map}return y(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),lm=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new cm(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),fm=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hm=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Yv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Yv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Yv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Yv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(em("string"==typeof t.token),e.R=t.token,new fm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function dm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var pm=function(){function e(){d(this,e)}return y(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=dm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function vm(e,t){return e<t?-1:e>t?1:0}function mm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ym(e){return e+"\0"}var gm=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new rm(nm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rm(nm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rm(nm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rm(nm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vm(this.nanoseconds,e.nanoseconds):vm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),km=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gm(0,0))}},{key:"max",value:function(){return new e(new gm(253402300799,999999999))}}]),e}(),bm=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Zv(),void 0===r?r=t.length-n:r>t.length-n&&Zv(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),wm=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new rm(nm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bm),xm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_m=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return xm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new rm(nm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new rm(nm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rm(nm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new rm(nm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bm),Im=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===wm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(wm.fromString(t))}},{key:"fromName",value:function(t){return new e(wm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(wm.emptyPath())}},{key:"comparator",value:function(e,t){return wm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new wm(t.slice()))}}]),e}(),Em=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Sm(e){return e.fields.find((function(e){return 2===e.kind}))}function Tm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Em.UNKNOWN_ID=-1;var Cm=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Nm=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,Om.min())}}]),e}();function Am(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=km.fromTimestamp(1e9===r?new gm(n+1,0):new gm(n,r));return new Om(i,Im.empty(),t)}function Dm(e){return new Om(e.readTime,e.key,-1)}var Om=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(km.min(),Im.empty(),-1)}},{key:"max",value:function(){return new e(km.max(),Im.empty(),-1)}}]),e}();function jm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Im.comparator(e.documentKey,t.documentKey))?n:vm(e.largestBatchId,t.largestBatchId)}var Pm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rm=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Lm(e){return Mm.apply(this,arguments)}function Mm(){return(Mm=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nm.FAILED_PRECONDITION&&t.message===Pm){e.next=2;break}throw t;case 2:Yv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fm=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Um=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new im,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new Bm(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=Km(e.target.error);r.V.reject(new Bm(t,n))}}return y(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Yv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Wm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Bm(n,t)}}}]),e}(),Vm=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(Mt())&&Jv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"O",value:function(){var e=_t(wt().mark((function e(t){var n=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Bm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rm(nm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new rm(nm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Bm(t,n))},i.onupgradeneeded=function(e){Yv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Yv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=_t(wt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=wt().mark((function e(){var n,s,u,l;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=Um.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Fm.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.m;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Yv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yv("SimpleDb","Removing database:",e),Gm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Bt())return!1;if(e.C())return!0;var t=Mt(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),zm=function(){function e(t){d(this,e),this.k=t,this.q=!1,this.K=null}return y(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return Gm(this.k.delete())}}]),e}(),Bm=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,nm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(rm);function qm(e){return"IndexedDbTransactionError"===e.name}var Wm=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Yv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gm(n)}},{key:"add",value:function(e){return Yv("SimpleDb","ADD",this.store.name,e,e),Gm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Gm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yv("SimpleDb","DELETE",this.store.name,e),Gm(this.store.delete(e))}},{key:"count",value:function(){return Yv("SimpleDb","COUNT",this.store.name),Gm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Fm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Fm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Yv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Fm((function(n,r){t.onerror=function(e){var t=Km(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Fm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new zm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Fm){var s=o.catch((function(e){return a.done(),Fm.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Fm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Gm(e){return new Fm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Km(e.target.error);n(t)}}))}var Hm=!1;function Km(e){var t=Vm.S(Mt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new rm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hm||(Hm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Qm=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.X=n,this.task=null}return y(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;Yv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Yv,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!qm(e.t4)){e.next=17;break}Yv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Lm(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ym=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"te",value:function(){var e=_t(wt().mark((function e(){var t,n=this,r=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Fm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Yv("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return Yv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Dm(t);jm(r,n)>0&&(n=r)})),new Om(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jm=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function Xm(e){return null==e}function $m(e){return 0===e&&1/e==-1/0}function Zm(e){return"number"==typeof e&&Number.isInteger(e)&&!$m(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function ey(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ny(t)),t=ty(e.get(n),t);return ny(t)}function ty(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ny(e){return e+"\x01\x01"}function ry(e){var t=e.length;if(em(t>=2),2===t)return em("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),wm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Zv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Zv()}a=o+2}return new wm(r)}Jm._e=-1;var iy=["userId","batchId"];function ay(e,t){return[e,ey(t)]}function oy(e,t,n){return[e,ey(t),n]}var sy={},uy=["prefixPath","collectionGroup","readTime","documentId"],cy=["prefixPath","collectionGroup","documentId"],ly=["collectionGroup","readTime","prefixPath","documentId"],fy=["canonicalId","targetId"],hy=["targetId","path"],dy=["path","targetId"],py=["collectionId","parent"],vy=["indexId","uid"],my=["uid","sequenceNumber"],yy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gy=["indexId","uid","orderedDocumentKey"],ky=["userId","collectionPath","documentId"],by=["userId","collectionPath","largestBatchId"],wy=["userId","collectionGroup","largestBatchId"],xy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),_y=[].concat(h(xy),["documentOverlays"]),Iy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ey=Iy,Sy=[].concat(Ey,["indexConfiguration","indexState","indexEntries"]),Ty=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return y(n)}(Rm);function Cy(e,t){var n=tm(e);return Vm.M(n.ae,t)}function Ny(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ay(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Oy=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Py.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Py.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Py.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new jy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new jy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new jy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new jy(this.root,e,this.comparator,!0)}}]),e}(),jy=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Py=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zv();if(this.right.isRed())throw Zv();var e=this.left.check();if(e!==this.right.check())throw Zv();return e+(this.isRed()?0:1)}}]),e}();Py.EMPTY=null,Py.RED=!0,Py.BLACK=!1,Py.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw Zv()}},{key:"value",get:function(){throw Zv()}},{key:"color",get:function(){throw Zv()}},{key:"left",get:function(){throw Zv()}},{key:"right",get:function(){throw Zv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Py(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ry=function(){function e(t){d(this,e),this.comparator=t,this.data=new Oy(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ly(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ly(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ly=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function My(e){return e.hasNext()?e.getNext():void 0}var Fy=function(){function e(t){d(this,e),this.fields=t,t.sort(_m.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Ry(_m.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return mm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Uy=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(E(Error));var Vy=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Uy("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Vy.EMPTY_BYTE_STRING=new Vy("");var zy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function By(e){if(em(!!e),"string"==typeof e){var t=0,n=zy.exec(e);if(em(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qy(e.seconds),nanos:qy(e.nanos)}}function qy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wy(e){return"string"==typeof e?Vy.fromBase64String(e):Vy.fromUint8Array(e)}function Gy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hy(e){var t=e.mapValue.fields.__previous_value__;return Gy(t)?Hy(t):t}function Ky(e){var t=By(e.mapValue.fields.__local_write_time__.timestampValue);return new gm(t.seconds,t.nanos)}var Qy=y((function e(t,n,r,i,a,o,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Yy=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Jy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xy={nullValue:"NULL_VALUE"};function $y(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gy(e)?4:hg(e)?9007199254740991:10:Zv()}function Zy(e,t){if(e===t)return!0;var n=$y(e);if(n!==$y(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ky(e).isEqual(Ky(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=By(e.timestampValue),r=By(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wy(e.bytesValue).isEqual(Wy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qy(e.geoPointValue.latitude)===qy(t.geoPointValue.latitude)&&qy(e.geoPointValue.longitude)===qy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qy(e.integerValue)===qy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qy(e.doubleValue),r=qy(t.doubleValue);return n===r?$m(n)===$m(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mm(e.arrayValue.values||[],t.arrayValue.values||[],Zy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ny(n)!==Ny(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zy(n[i],r[i])))return!1;return!0}(e,t);default:return Zv()}}function eg(e,t){return void 0!==(e.values||[]).find((function(e){return Zy(e,t)}))}function tg(e,t){if(e===t)return 0;var n=$y(e),r=$y(t);if(n!==r)return vm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qy(e.integerValue||e.doubleValue),r=qy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ng(e.timestampValue,t.timestampValue);case 4:return ng(Ky(e),Ky(t));case 5:return vm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wy(e),r=Wy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vm(n[i],r[i]);if(0!==a)return a}return vm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vm(qy(e.latitude),qy(t.latitude));return 0!==n?n:vm(qy(e.longitude),qy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tg(n[i],r[i]);if(a)return a}return vm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jy.mapValue&&t===Jy.mapValue)return 0;if(e===Jy.mapValue)return 1;if(t===Jy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=vm(r[o],a[o]);if(0!==s)return s;var u=tg(n[r[o]],i[a[o]]);if(0!==u)return u}return vm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zv()}}function ng(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vm(e,t);var n=By(e),r=By(t),i=vm(n.seconds,r.seconds);return 0!==i?i:vm(n.nanos,r.nanos)}function rg(e){return ig(e)}function ig(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=By(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Wy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Im.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ig(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ig(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zv()}function ag(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function og(e){return!!e&&"integerValue"in e}function sg(e){return!!e&&"arrayValue"in e}function ug(e){return!!e&&"nullValue"in e}function cg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lg(e){return!!e&&"mapValue"in e}function fg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ay(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dg(e){return"nullValue"in e?Xy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ag(Yy.empty(),Im.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zv()}function pg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ag(Yy.empty(),Im.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jy:Zv()}function vg(e,t){var n=tg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function mg(e,t){var n=tg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var yg=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fg(t)}},{key:"setAll",value:function(e){var t=this,n=_m.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Zy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ay(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gg(e){var t=[];return Ay(e.fields,(function(e,n){var r=new _m([e]);if(lg(n)){var i=gg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Fy(t)}var kg=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(km.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=yg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=yg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=km.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,km.min(),km.min(),km.min(),yg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,km.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,km.min(),km.min(),yg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,km.min(),km.min(),yg.empty(),2)}}]),e}(),bg=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function wg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Im.comparator(Im.fromName(o.referenceValue),n.key):tg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zy(e.position[n],t.position[n]))return!1;return!0}var _g=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Ig(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Eg=y((function e(){d(this,e)})),Sg=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tg(t,this.value)):null!==t&&$y(this.value)===$y(t)&&this.matchesComparison(tg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Lg(e,t,r):"array-contains"===t?new Vg(e,r):"in"===t?new zg(e,r):"not-in"===t?new Bg(e,r):"array-contains-any"===t?new qg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Mg(e,n):new Fg(e,n)}}]),n}(Eg),Tg=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return y(n,[{key:"matches",value:function(e){return Cg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Eg);function Cg(e){return"and"===e.op}function Ng(e){return"or"===e.op}function Ag(e){return Dg(e)&&Cg(e)}function Dg(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Tg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Og(e){if(e instanceof Sg)return e.field.canonicalString()+e.op.toString()+rg(e.value);if(Ag(e))return e.filters.map((function(e){return Og(e)})).join(",");var t=e.filters.map((function(e){return Og(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function jg(e,t){return e instanceof Sg?function(e,t){return t instanceof Sg&&e.op===t.op&&e.field.isEqual(t.field)&&Zy(e.value,t.value)}(e,t):e instanceof Tg?function(e,t){return t instanceof Tg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&jg(n,t.filters[r])}),!0)}(e,t):void Zv()}function Pg(e,t){var n=e.filters.concat(t);return Tg.create(n,e.op)}function Rg(e){return e instanceof Sg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rg(e.value))}(e):e instanceof Tg?function(e){return e.op.toString()+" {"+e.getFilters().map(Rg).join(" ,")+"}"}(e):"Filter"}var Lg=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Im.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=Im.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Sg),Mg=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Ug("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sg),Fg=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Ug("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sg);function Ug(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Im.fromName(e.referenceValue)}))}var Vg=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return sg(t)&&eg(t.arrayValue,this.value)}}]),n}(Sg),zg=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&eg(this.value.arrayValue,t)}}]),n}(Sg),Bg=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!eg(this.value.arrayValue,t)}}]),n}(Sg),qg=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return eg(t.value.arrayValue,e)}))}}]),n}(Sg),Wg=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function Gg(e){return new Wg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Hg(e){var t=tm(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Og(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Xm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rg(e)})).join(",")),t.ce=n}return t.ce}function Kg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ig(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!jg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xg(e.startAt,t.startAt)&&xg(e.endAt,t.endAt)}function Qg(e){return Im.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Yg(e,t){return e.filters.filter((function(e){return e instanceof Sg&&e.field.isEqual(t)}))}function Jg(e,t,n){var r,i=Xy,a=!0,o=T(Yg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Xy,c=!0;switch(s.op){case"<":case"<=":u=dg(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Xy}vg({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Xg(e,t,n){var r,i=Jy,a=!0,o=T(Yg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Jy,c=!0;switch(s.op){case">=":case">":u=pg(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Jy}mg({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var $g=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function Zg(e,t,n,r,i,a,o,s){return new $g(e,t,n,r,i,a,o,s)}function ek(e){return new $g(e)}function tk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nk(e){return null!==e.collectionGroup}function rk(e){var t=tm(e);if(null===t.le){t.le=[];var n,r=new Set,i=T(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Ry(_m.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new _g(e,o))})),r.has(_m.keyField().canonicalString())||t.le.push(new _g(_m.keyField(),o))}return t.le}function ik(e){var t=tm(e);return t.he||(t.he=ak(t,rk(e))),t.he}function ak(e,t){if("F"===e.limitType)return Gg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new _g(e.field,t)}));var n=e.endAt?new bg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bg(e.startAt.position,e.startAt.inclusive):null;return Gg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function ok(e,t){var n=e.filters.concat([t]);return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sk(e,t,n){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uk(e,t){return Kg(ik(e),ik(t))&&e.limitType===t.limitType}function ck(e){return"".concat(Hg(ik(e)),"|lt:").concat(e.limitType)}function lk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Rg(e)})).join(", "),"]")),Xm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rg(e)})).join(",")),"Target(".concat(t,")")}(ik(e)),"; limitType=").concat(e.limitType,")")}function fk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Im.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(rk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rk(e),t))&&!(e.endAt&&!function(e,t,n){var r=wg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rk(e),t))}(e,t)}function hk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dk(e){return function(t,n){var r,i=!1,a=T(rk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=pk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function pk(e,t,n){var r=e.field.isKeyField()?Im.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tg(r,i):Zv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zv()}}var vk=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ay(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Dy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),mk=new Oy(Im.comparator);function yk(){return mk}var gk=new Oy(Im.comparator);function kk(){for(var e=gk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function bk(e){var t=gk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function wk(){return _k()}function xk(){return _k()}function _k(){return new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ik=new Oy(Im.comparator),Ek=new Ry(Im.comparator);function Sk(){for(var e=Ek,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tk=new Ry(vm);function Ck(){return Tk}function Nk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(t)?"-0":t}}function Ak(e){return{integerValue:""+e}}function Dk(e,t){return Zm(t)?Ak(t):Nk(e,t)}var Ok=y((function e(){d(this,e),this._=void 0}));function jk(e,t,n){return e instanceof Lk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gy(t)&&(t=Hy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Mk?Fk(e,t):e instanceof Uk?Vk(e,t):function(e,t){var n=Rk(e,t),r=Bk(n)+Bk(e.Ie);return og(n)&&og(e.Ie)?Ak(r):Nk(e.serializer,r)}(e,t)}function Pk(e,t,n){return e instanceof Mk?Fk(e,t):e instanceof Uk?Vk(e,t):n}function Rk(e,t){return e instanceof zk?function(e){return og(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Lk=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(Ok),Mk=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Ok);function Fk(e,t){var n,r=qk(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Zy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Uk=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Ok);function Vk(e,t){var n,r=qk(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Zy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zk=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return y(n)}(Ok);function Bk(e){return qy(e.integerValue||e.doubleValue)}function qk(e){return sg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Wk=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Gk=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Hk=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Kk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qk=y((function e(){d(this,e)}));function Yk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new sb(e.key,Hk.none()):new eb(e.key,e.data,Hk.none());var n,r=e.data,i=yg.empty(),a=new Ry(_m.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new tb(e.key,i,new Fy(a.toArray()),Hk.none())}function Jk(e,t,n){e instanceof eb?function(e,t,n){var r=e.value.clone(),i=rb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tb?function(e,t,n){if(Kk(e.precondition,t)){var r=rb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(nb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xk(e,t,n,r){return e instanceof eb?function(e,t,n,r){if(!Kk(e.precondition,t))return n;var i=e.value.clone(),a=ib(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof tb?function(e,t,n,r){if(!Kk(e.precondition,t))return n;var i=ib(e.fieldTransforms,r,t),a=t.data;return a.setAll(nb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Kk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $k(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Rk(a.transform,o||null);null!=s&&(null===r&&(r=yg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Zk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mk&&t instanceof Mk||e instanceof Uk&&t instanceof Uk?mm(e.elements,t.elements,Zy):e instanceof zk&&t instanceof zk?Zy(e.Ie,t.Ie):e instanceof Lk&&t instanceof Lk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var eb=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qk),tb=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Qk);function nb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function rb(e,t,n){var r=new Map;em(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Pk(o,s,n[i]))}return r}function ib(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,jk(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ab,ob,sb=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qk),ub=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qk),cb=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Jk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Xk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Xk(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=xk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Yk(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(km.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Sk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&mm(this.mutations,e.mutations,(function(e,t){return Zk(e,t)}))&&mm(this.baseMutations,e.baseMutations,(function(e,t){return Zk(e,t)}))}}]),e}(),lb=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){em(t.mutations.length===r.length);for(var i=Ik,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),fb=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),hb=y((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function db(e){switch(e){default:return Zv();case nm.CANCELLED:case nm.UNKNOWN:case nm.DEADLINE_EXCEEDED:case nm.RESOURCE_EXHAUSTED:case nm.INTERNAL:case nm.UNAVAILABLE:case nm.UNAUTHENTICATED:return!1;case nm.INVALID_ARGUMENT:case nm.NOT_FOUND:case nm.ALREADY_EXISTS:case nm.PERMISSION_DENIED:case nm.FAILED_PRECONDITION:case nm.ABORTED:case nm.OUT_OF_RANGE:case nm.UNIMPLEMENTED:case nm.DATA_LOSS:return!0}}function pb(e){if(void 0===e)return Jv("GRPC error has no .code"),nm.UNKNOWN;switch(e){case ab.OK:return nm.OK;case ab.CANCELLED:return nm.CANCELLED;case ab.UNKNOWN:return nm.UNKNOWN;case ab.DEADLINE_EXCEEDED:return nm.DEADLINE_EXCEEDED;case ab.RESOURCE_EXHAUSTED:return nm.RESOURCE_EXHAUSTED;case ab.INTERNAL:return nm.INTERNAL;case ab.UNAVAILABLE:return nm.UNAVAILABLE;case ab.UNAUTHENTICATED:return nm.UNAUTHENTICATED;case ab.INVALID_ARGUMENT:return nm.INVALID_ARGUMENT;case ab.NOT_FOUND:return nm.NOT_FOUND;case ab.ALREADY_EXISTS:return nm.ALREADY_EXISTS;case ab.PERMISSION_DENIED:return nm.PERMISSION_DENIED;case ab.FAILED_PRECONDITION:return nm.FAILED_PRECONDITION;case ab.ABORTED:return nm.ABORTED;case ab.OUT_OF_RANGE:return nm.OUT_OF_RANGE;case ab.UNIMPLEMENTED:return nm.UNIMPLEMENTED;case ab.DATA_LOSS:return nm.DATA_LOSS;default:return Zv()}}(ob=ab||(ab={}))[ob.OK=0]="OK",ob[ob.CANCELLED=1]="CANCELLED",ob[ob.UNKNOWN=2]="UNKNOWN",ob[ob.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ob[ob.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ob[ob.NOT_FOUND=5]="NOT_FOUND",ob[ob.ALREADY_EXISTS=6]="ALREADY_EXISTS",ob[ob.PERMISSION_DENIED=7]="PERMISSION_DENIED",ob[ob.UNAUTHENTICATED=16]="UNAUTHENTICATED",ob[ob.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ob[ob.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ob[ob.ABORTED=10]="ABORTED",ob[ob.OUT_OF_RANGE=11]="OUT_OF_RANGE",ob[ob.UNIMPLEMENTED=12]="UNIMPLEMENTED",ob[ob.INTERNAL=13]="INTERNAL",ob[ob.UNAVAILABLE=14]="UNAVAILABLE",ob[ob.DATA_LOSS=15]="DATA_LOSS";var vb=null;function mb(){return new TextEncoder}var yb=new qv([4294967295,4294967295],0);function gb(e){var t=mb().encode(e),n=new Bv;return n.update(t),new Uint8Array(n.digest())}function kb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qv([n,r],0),new qv([i,a],0)]}var bb=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wb("Invalid padding: ".concat(n));if(r<0)throw new wb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new wb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new wb("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=qv.fromNumber(this.Te)}return y(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(qv.fromNumber(n)));return 1===r.compare(yb)&&(r=new qv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=l(kb(gb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=l(kb(gb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),wb=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(E(Error)),xb=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,_b.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(km.min(),i,new Oy(vm),yk(),Sk())}}]),e}(),_b=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Sk(),Sk(),Sk())}}]),e}(),Ib=y((function e(t,n,r,i){d(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Eb=y((function e(t,n){d(this,e),this.targetId=t,this.fe=n})),Sb=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Tb=function(){function e(){d(this,e),this.ge=0,this.pe=Ab(),this.ye=Vy.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return y(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Sk(),t=Sk(),n=Sk();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zv()}})),new _b(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Ab()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),Cb=function(){function e(t){d(this,e),this.Le=t,this.ke=new Map,this.qe=yk(),this.Qe=Nb(),this.Ke=new Oy(vm)}return y(e,[{key:"$e",value:function(e){var t,n=T(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:Zv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(Qg(i))if(0===n){var a=new Im(i.path);this.We(t,a,kg.newNoDocument(a,km.min()))}else em(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==vb||vb.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=Wy(o).toUint8Array()}catch(e){if(e instanceof Uy)return Xv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new bb(n,u,l)}catch(e){return Xv(e instanceof wb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&Qg(a.target)){var o=new Im(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,kg.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Sk();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new xb(e,n,this.Ke,this.qe,r);return this.qe=yk(),this.Qe=Nb(),this.Ke=new Oy(vm),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Tb,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Ry(vm),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Yv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Tb),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nb(){return new Oy(Im.comparator)}function Ab(){return new Oy(Im.comparator)}var Db={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jb={and:"AND",or:"OR"},Pb=y((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Rb(e,t){return e.useProto3Json||Xm(t)?t:{value:t}}function Lb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fb(e,t){return Lb(e,t.toTimestamp())}function Ub(e){return em(!!e),km.fromTimestamp(function(e){var t=By(e);return new gm(t.seconds,t.nanos)}(e))}function Vb(e,t){return function(e){return new wm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zb(e){var t=wm.fromString(e);return em(lw(t)),t}function Bb(e,t){return Vb(e.databaseId,t.path)}function qb(e,t){var n=zb(t);if(n.get(1)!==e.databaseId.projectId)throw new rm(nm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rm(nm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Im(Kb(n))}function Wb(e,t){return Vb(e.databaseId,t)}function Gb(e){var t=zb(e);return 4===t.length?wm.emptyPath():Kb(t)}function Hb(e){return new wm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kb(e){return em(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qb(e,t,n){return{name:Bb(e,t),fields:n.value.mapValue.fields}}function Yb(e,t,n){var r=qb(e,t.name),i=Ub(t.updateTime),a=t.createTime?Ub(t.createTime):km.min(),o=new yg({mapValue:{fields:t.fields}}),s=kg.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Jb(e,t){return"found"in t?function(e,t){em(!!t.found),t.found.name,t.found.updateTime;var n=qb(e,t.found.name),r=Ub(t.found.updateTime),i=t.found.createTime?Ub(t.found.createTime):km.min(),a=new yg({mapValue:{fields:t.found.fields}});return kg.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){em(!!t.missing),em(!!t.readTime);var n=qb(e,t.missing),r=Ub(t.readTime);return kg.newNoDocument(n,r)}(e,t):Zv()}function Xb(e,t){var n;if(t instanceof eb)n={update:Qb(e,t.key,t.value)};else if(t instanceof sb)n={delete:Bb(e,t.key)};else if(t instanceof tb)n={update:Qb(e,t.key,t.data),updateMask:cw(t.fieldMask)};else{if(!(t instanceof ub))return Zv();n={verify:Bb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Lk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zk)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Zv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zv()}(e,t.precondition)),n}function $b(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Hk.updateTime(Ub(e.updateTime)):void 0!==e.exists?Hk.exists(e.exists):Hk.none()}(t.currentDocument):Hk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)em("REQUEST_TIME"===t.setToServerValue),n=new Lk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Mk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Uk(i)}else"increment"in t?n=new zk(e,t.increment):Zv();var a=_m.fromServerFormat(t.fieldPath);return new Wk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=qb(e,t.update.name),a=new yg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Fy(t.map((function(e){return _m.fromServerFormat(e)})))}(t.updateMask);return new tb(i,a,o,n,r)}return new eb(i,a,n,r)}if(t.delete){var s=qb(e,t.delete);return new sb(s,n)}if(t.verify){var u=qb(e,t.verify);return new ub(u,n)}return Zv()}function Zb(e,t){return{documents:[Wb(e,t.path)]}}function ew(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return uw(Tg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ow(e.field),direction:rw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Rb(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tw(e){var t=Gb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){em(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=nw(e);return t instanceof Tg&&Ag(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new _g(sw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Xm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new bg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new bg(n,t)}(n.endAt)),Zg(t,i,s,o,u,"F",c,l)}function nw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=sw(e.unaryFilter.field);return Sg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=sw(e.unaryFilter.field);return Sg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sw(e.unaryFilter.field);return Sg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sw(e.unaryFilter.field);return Sg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zv()}}(e):void 0!==e.fieldFilter?function(e){return Sg.create(sw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tg.create(e.compositeFilter.filters.map((function(e){return nw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zv()}}(e.compositeFilter.op))}(e):Zv()}function rw(e){return Db[e]}function iw(e){return Ob[e]}function aw(e){return jb[e]}function ow(e){return{fieldPath:e.canonicalString()}}function sw(e){return _m.fromServerFormat(e.fieldPath)}function uw(e){return e instanceof Sg?function(e){if("=="===e.op){if(cg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NAN"}};if(ug(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NOT_NAN"}};if(ug(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ow(e.field),op:iw(e.op),value:e.value}}}(e):e instanceof Tg?function(e){var t=e.getFilters().map((function(e){return uw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:aw(e.op),filters:t}}}(e):Zv()}function cw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var fw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:km.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:km.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vy.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),hw=y((function e(t){d(this,e),this.ut=t}));function dw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lb(e,t.version.toTimestamp()),createTime:Lb(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vw(t.version)};else{if(!t.isUnknownDocument())return Zv();r.unknownDocument={path:n.path.toArray(),version:vw(t.version)}}return r}function pw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mw(e){var t=new gm(e.seconds,e.nanoseconds);return km.fromTimestamp(t)}function yw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return $b(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return $b(e.ut,t)})),s=gm.fromMillis(t.localWriteTimeMs);return new cb(t.batchId,s,n,o)}function gw(e){var t,n=mw(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?mw(e.lastLimboFreeSnapshotVersion):km.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return em(1===e.documents.length),ik(ek(Gb(e.documents[0])))}(e.query):function(e){return ik(tw(e))}(e.query),new fw(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Vy.fromBase64String(e.resumeToken))}function kw(e,t){var n,r=vw(t.snapshotVersion),i=vw(t.lastLimboFreeSnapshotVersion);n=Qg(t.target)?Zb(e.ut,t.target):ew(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function bw(e){var t=tw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sk(t,t.limit,"L"):t}function ww(e,t){return new fb(t.largestBatchId,$b(e.ut,t.overlayMutation))}function xw(e,t){var n=t.path.lastSegment();return[e,ey(t.path.popLast()),n]}function _w(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vw(r.readTime),documentKey:ey(r.documentKey.path),largestBatchId:r.largestBatchId}}var Iw=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Ew(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:mw(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Ew(e).put(function(e){return{bundleId:e.id,createTime:vw(Ub(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Sw(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:bw(e.bundledQuery),readTime:mw(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Sw(e).put(function(e){return{name:e.name,readTime:vw(Ub(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ew(e){return Cy(e,"bundles")}function Sw(e){return Cy(e,"namedQueries")}var Tw=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Cw(e).get(xw(this.userId,t)).next((function(e){return e?ww(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=wk();return Fm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new fb(t,a);i.push(r.lt(e,o))})),Fm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ey(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Cw(e).H("collectionPathOverlayIndex",i))})),Fm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wk(),a=ey(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Cw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ww(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cw(e).Y({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=ww(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return Cw(e).put(function(e,t,n){var r=l(xw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xb(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Cw(e){return Cy(e,"documentOverlays")}var Nw=function(){function e(){d(this,e)}return y(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qy(e.integerValue));else if("doubleValue"in e){var n=qy(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),$m(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Wy(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?hg(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Zv()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),Im.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function Aw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Aw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Nw.St=new Nw;var Ow=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=Dw(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=Dw(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jw=function(){function e(t){d(this,e),this.Wt=t}return y(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),Pw=function(){function e(t){d(this,e),this.Wt=t}return y(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),Rw=function(){function e(){d(this,e),this.Wt=new Ow,this.Gt=new jw(this.Wt),this.zt=new Pw(this.Wt)}return y(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),Lw=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Mw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Fw(e.arrayValue,t.arrayValue))?n:0!==(n=Fw(e.directionalValue,t.directionalValue))?n:Im.comparator(e.documentKey,t.documentKey)}function Fw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Uw=function(){function e(t){d(this,e),this.Jt=new Ry((function(e,t){return _m.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(em(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=Sm(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Tm(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.nn(o,s)||!this.rn(this.Yt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new Ry(_m.comparator),n=[],r=T(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Cm(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Cm(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.Yt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new Cm(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new Em(Em.UNKNOWN_ID,this.collectionId,n,Nm.empty())}},{key:"tn",value:function(e){var t,n=T(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Vw(e){var t,n;if(em(e instanceof Sg||e instanceof Tg),e instanceof Sg){if(e instanceof zg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Sg.create(e.field,"==",t)})))||[];return Tg.create(r,"or")}return e}var i=e.filters.map((function(e){return Vw(e)}));return Tg.create(i,e.op)}function zw(e){if(0===e.getFilters().length)return[];var t=Gw(Vw(e));return em(Ww(t)),Bw(t)||qw(t)?[t]:t.getFilters()}function Bw(e){return e instanceof Sg}function qw(e){return e instanceof Tg&&Ag(e)}function Ww(e){return Bw(e)||qw(e)||function(e){if(e instanceof Tg&&Ng(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Bw(r)&&!qw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Gw(e){if(em(e instanceof Sg||e instanceof Tg),e instanceof Sg)return e;if(1===e.filters.length)return Gw(e.filters[0]);var t=e.filters.map((function(e){return Gw(e)})),n=Tg.create(t,e.op);return Ww(n=Qw(n))?n:(em(n instanceof Tg),em(Cg(n)),em(n.filters.length>1),n.filters.reduce((function(e,t){return Hw(e,t)})))}function Hw(e,t){var n;return em(e instanceof Sg||e instanceof Tg),em(t instanceof Sg||t instanceof Tg),n=e instanceof Sg?t instanceof Sg?function(e,t){return Tg.create([e,t],"and")}(e,t):Kw(e,t):t instanceof Sg?Kw(t,e):function(e,t){if(em(e.filters.length>0&&t.filters.length>0),Cg(e)&&Cg(t))return Pg(e,t.getFilters());var n=Ng(e)?e:t,r=Ng(e)?t:e,i=n.filters.map((function(e){return Hw(e,r)}));return Tg.create(i,"or")}(e,t),Qw(n)}function Kw(e,t){if(Cg(t))return Pg(t,e.getFilters());var n=t.filters.map((function(t){return Hw(e,t)}));return Tg.create(n,"or")}function Qw(e){if(em(e instanceof Sg||e instanceof Tg),e instanceof Sg)return e;var t=e.getFilters();if(1===t.length)return Qw(t[0]);if(Dg(e))return e;var n=t.map((function(e){return Qw(e)})),r=[];return n.forEach((function(t){t instanceof Sg?r.push(t):t instanceof Tg&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Tg.create(r,e.op)}var Yw=function(){function e(){d(this,e),this.on=new Jw}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Fm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Fm.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Fm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Fm.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Fm.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Fm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Fm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Fm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Fm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Fm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Fm.resolve(Om.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Fm.resolve(Om.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Fm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Fm.resolve()}}]),e}(),Jw=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ry(wm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ry(wm.comparator)).toArray()}}]),e}(),Xw=new Uint8Array(0),$w=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this._n=new Jw,this.an=new vk((function(e){return Hg(e)}),(function(e,t){return Kg(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:ey(i)};return Zw(e).put(a)}return Fm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ym(t),""],!1,!0);return Zw(e).W(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ry(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=tx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=nx(e);return a.next((function(e){o.put(_w(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=tx(e),r=nx(e),i=ex(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=tx(e),n=ex(e),r=nx(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Fm.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Uw(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ex(e),i=!0,a=new Map;return Fm.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Sk(),o=[];return Fm.forEach(a,(function(i,a){Yv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Hg(t)));var s=function(e,t){var n=Sm(t);if(void 0===n)return null;var r,i=T(Yg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=T(Tm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=T(Yg(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=T(Tm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Jg(e,o.fieldPath,e.startAt):Xg(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new bg(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(Tm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Xg(e,o.fieldPath,e.endAt):Jg(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new bg(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Fm.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Im.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Fm.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:zw(Tg.create(e.filters,"and")).map((function(t){return Gg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.In(t[d/c]):Xw,f=s.Tn(e,u,n[d%c],r),p=s.En(e,u,i[d%c],a),v=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new Lw(e,Im.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new Lw(e,Im.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new Uw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Fm.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ry(_m.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=T(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new Rw,i=T(Tm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.jt(a.kind);Nw.St.ht(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new Rw;return Nw.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new Rw;return Nw.St.ht(ag(this.databaseId,t),n.jt(function(e){var t=Tm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Rw);var i,a=0,o=T(Tm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=T(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Rn(t,u.fieldPath)&&sg(c))r=this.Vn(r,u,c);else{var h=f.jt(u.kind);Nw.St.ht(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=h(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=T(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Rw;f.seed(l.Ut()),Nw.St.ht(u,f.jt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Sg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=tx(e),i=nx(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Fm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Nm(t.sequenceNumber,new Om(mw(t.readTime),new Im(ry(t.documentKey)),t.largestBatchId)):Nm.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Cm(_m.fromServerFormat(n),r)}));return new Em(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=tx(e),a=nx(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Fm.forEach(t,(function(t){return a.put(_w(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Fm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Fm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Fm.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Fm.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ex(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return ex(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=ex(e),i=new Ry(Mw);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new Lw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new Ry(Mw),r=this.dn(t,e);if(null==r)return n;var i=Sm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(sg(a)){var o,s=T(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Lw(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Lw(t.indexId,e.key,Xw,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Yv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=My(a),u=My(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=My(o)):l?(i(s),s=My(a)):(s=My(a),u=My(o))}}(r,i,Mw,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Fm.waitFor(o)}},{key:"fn",value:function(e){var t=1;return nx(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Mw(e,t)})).filter((function(e,t,n){return!t||0!==Mw(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Mw(o,e),u=Mw(o,t);if(0===s)r[0]=e.Ht();else if(s>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Xw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Xw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Mw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(rx)}},{key:"getMinOffset",value:function(e,t){var n=this;return Fm.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||Zv()}))})).next(rx)}}]),e}();function Zw(e){return Cy(e,"collectionParents")}function ex(e){return Cy(e,"indexEntries")}function tx(e){return Cy(e,"indexConfiguration")}function nx(e){return Cy(e,"indexState")}function rx(e){em(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;jm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Om(t.readTime,t.documentKey,n)}var ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ax=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ox(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Y({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){em(1===s)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=oy(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Fm.waitFor(a).next((function(){return l}))}function sx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zv();t=e.noDocument}return JSON.stringify(t).length}ax.DEFAULT_COLLECTION_PERCENTILE=10,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ax.DEFAULT=new ax(41943040,ax.DEFAULT_COLLECTION_PERCENTILE,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ax.DISABLED=new ax(-1,0,0);var ux=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=fx(e),o=lx(e);return o.add({}).next((function(s){em("number"==typeof s);var u,c=new cb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Xb(e.ut,t)})),i=n.mutations.map((function(t){return Xb(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Ry((function(e,t){return vm(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=oy(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,sy))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),Fm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return lx(e).get(t).next((function(e){return e?(em(e.userId===n.userId),yw(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?Fm.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return lx(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(em(t.batchId>=r),a=yw(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lx(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return yw(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ay(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fx(e).Y({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=ry(c);if(u===n.userId&&t.path.isEqual(h))return lx(e).get(f).next((function(e){if(!e)throw Zv();em(e.userId===n.userId),a.push(yw(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ry(vm),i=[];return t.forEach((function(t){var a=ay(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=fx(e).Y({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=ry(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Fm.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ay(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ry(vm);return fx(e).Y({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=ry(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.vn(e,s)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(lx(e).get(t).next((function(e){if(null===e)throw Zv();em(e.userId===n.userId),r.push(yw(n.serializer,e))})))})),Fm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ox(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Fm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Fm.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return fx(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ry(e[1]);i.push(a)}else r.done()})).next((function(){em(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return cx(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return hx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return em(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function cx(e,t,n){var r=ay(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return fx(e).Y({range:a,J:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function lx(e){return Cy(e,"mutations")}function fx(e){return Cy(e,"documentMutations")}function hx(e){return Cy(e,"mutationQueues")}var dx=function(){function e(t){d(this,e),this.xn=t}return y(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),px=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new dx(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return km.fromTimestamp(new gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return vx(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return em(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return vx(e).Y((function(o,s){var u=gw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Fm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return vx(e).Y((function(e,n){var r=gw(n);t(r)}))}},{key:"Bn",value:function(e){return mx(e).get("targetGlobalKey").next((function(e){return em(null!==e),e}))}},{key:"Ln",value:function(e,t){return mx(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return vx(e).put(kw(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Hg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vx(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=gw(n);Kg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=yx(e);return t.forEach((function(t){var o=ey(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Fm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=yx(e);return Fm.forEach(t,(function(t){var a=ey(t.path);return Fm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=yx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yx(e),i=Sk();return r.Y({range:n,J:!0},(function(e,t,n){var r=ry(e[1]),a=new Im(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ey(t.path),r=IDBKeyRange.bound([n],[ym(n)],!1,!0),i=0;return yx(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return vx(e).get(t).next((function(e){return e?gw(e):null}))}}]),e}();function vx(e){return Cy(e,"targets")}function mx(e){return Cy(e,"targetGlobal")}function yx(e){return Cy(e,"targetDocuments")}function gx(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=vm(r,o);return 0===u?vm(i,s):u}var kx=function(){function e(t){d(this,e),this.Qn=t,this.buffer=new Ry(gx),this.Kn=0}return y(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bx=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;Yv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!qm(e.t0)){e.next=12;break}Yv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Lm(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),wx=function(){function e(t,n){d(this,e),this.zn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Fm.resolve(Jm._e);var r=new kx(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yv("LruGarbageCollector","Garbage collection skipped; disabled"),Fm.resolve(ix)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ix):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Yv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Qv()<=un.DEBUG&&Yv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Fm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function xx(e,t){return new wx(e,t)}var _x=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=xx(this,n)}return y(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ix(e,n)}},{key:"removeReference",value:function(e,t,n){return Ix(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ix(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return hx(e).Z((function(r){return cx(e,r,t).next((function(e){return e&&(n=!0),Fm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,km.min()),yx(e).delete(function(e){return[0,ey(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Fm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ix(e,t)}},{key:"Zn",value:function(e,t){var n,r=yx(e),i=Jm._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Jm._e&&t(new Im(ry(n)),i),i=u,n=s):i=Jm._e})).next((function(){i!==Jm._e&&t(new Im(ry(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ix(e,t){return yx(e).put(function(e,t){return{targetId:0,path:ey(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ex=function(){function e(){d(this,e),this.changes=new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,kg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Fm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Sx=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ax(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ax(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=kg.newInvalidDocument(t);return Ax(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dx(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:kg.newInvalidDocument(t)};return Ax(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dx(t))},(function(e,i){r={document:n.tr(t,i),size:sx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=yk();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=yk(),i=new Oy(Im.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,sx(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Fm.resolve();var r=new Ry(jx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Dx(r.first()),Dx(r.last())),a=r.getIterator(),o=a.getNext();return Ax(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Im.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&jx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(Dx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),pw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ax(e).W(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=yk(),s=T(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.tr(Im.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(fk(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=yk(),o=Ox(t,n),s=Ox(t,Om.max());return Ax(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(Im.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Cx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Nx(e).get("remoteDocumentGlobalKey").next((function(e){return em(!!e),e}))}},{key:"er",value:function(e,t){return Nx(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Yb(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Im.fromSegments(t.noDocument.path),i=mw(t.noDocument.readTime);n=kg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zv();var a=Im.fromSegments(t.unknownDocument.path),o=mw(t.unknownDocument.version);n=kg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new gm(e[0],e[1]);return km.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(km.min()))return n}return kg.newInvalidDocument(e)}}]),e}();function Tx(e){return new Sx(e)}var Cx=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ry((function(e,t){return vm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=dw(t._r.serializer,o);i=i.add(a.path.popLast());var c=sx(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=dw(t._r.serializer,o.convertToNoDocument(km.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Fm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ex);function Nx(e){return Cy(e,"remoteDocumentGlobal")}function Ax(e){return Cy(e,"remoteDocumentsV14")}function Dx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ox(e,t){var n=t.documentKey.path.toArray();return[e,pw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=vm(n[a],r[a]))return i;return(i=vm(n.length,r.length))||((i=vm(n[n.length-2],r[r.length-2]))||vm(n[n.length-1],r[r.length-1]))}var Px=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Rx=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Xk(r.mutation,e,Fy.empty(),gm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Sk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sk(),i=wk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=kk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=wk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Sk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=yk(),a=_k(),o=_k();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof tb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Xk(o.mutation,t,o.mutation.getFieldMask(),gm.now())):a.set(t.key,Fy.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Px(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=_k(),i=new Oy((function(e,t){return e-t})),a=Sk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Fy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Sk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=xk();c.forEach((function(e){if(!a.has(e)){var n=Yk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Fm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Im.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Fm.resolve(wk()),s=-1,u=a;return o.next((function(t){return Fm.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Fm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Sk())})).next((function(e){return{batchId:s,changes:bk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Im(t)).next((function(e){var t=kk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=kk();return this.indexManager.getCollectionParents(e,a).next((function(s){return Fm.forEach(s,(function(s){var u=function(e,t){return new $g(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,kg.newInvalidDocument(r)))}));var n=kk();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Xk(a.mutation,r,Fy.empty(),gm.now()),fk(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Lx=function(){function e(t){d(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Fm.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ub(e.createTime)}}(t)),Fm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Fm.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:bw(e.bundledQuery),readTime:Ub(e.readTime)}}(t)),Fm.resolve()}}]),e}(),Mx=function(){function e(){d(this,e),this.overlays=new Oy(Im.comparator),this.lr=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return Fm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=wk();return Fm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),Fm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Fm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wk(),i=t.length+1,a=new Im(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Fm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Oy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=wk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=wk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Fm.resolve(u)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new fb(t,n));var a=this.lr.get(t);void 0===a&&(a=Sk(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),Fx=function(){function e(){d(this,e),this.hr=new Ry(Ux.Pr),this.Ir=new Ry(Ux.Tr)}return y(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ux(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new Ux(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new Im(new wm([])),r=new Ux(n,e),i=new Ux(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new Im(new wm([])),n=new Ux(t,e),r=new Ux(t,e+1),i=Sk();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ux(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ux=function(){function e(t,n){d(this,e),this.key=t,this.gr=n}return y(e,null,[{key:"Pr",value:function(e,t){return Im.comparator(e.key,t.key)||vm(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return vm(e.gr,t.gr)||Im.comparator(e.key,t.key)}}]),e}(),Vx=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ry(Ux.Pr)}return y(e,[{key:"checkEmpty",value:function(e){return Fm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new cb(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new Ux(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Fm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Fm.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Fm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Fm.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Fm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ux(t,0),i=new Ux(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Fm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ry(vm);return t.forEach((function(e){var t=new Ux(e,0),i=new Ux(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Fm.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Im.isDocumentKey(i)||(i=i.child(""));var a=new Ux(new Im(i),0),o=new Ry(vm);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Fm.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;em(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Fm.forEach(t.mutations,(function(i){var a=new Ux(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ux(t,0),r=this.yr.firstAfterOrEqual(n);return Fm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Fm.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),zx=function(){function e(t){d(this,e),this.Cr=t,this.docs=new Oy(Im.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Fm.resolve(n?n.document.mutableCopy():kg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=yk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kg.newInvalidDocument(e))})),Fm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=yk(),a=t.path,o=new Im(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||jm(Dm(l),n)<=0||(r.has(l.key)||fk(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Fm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zv()}},{key:"vr",value:function(e,t){return Fm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Bx(this)}},{key:"getSize",value:function(e){return Fm.resolve(this.size)}}]),e}(),Bx=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this))._r=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Fm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(Ex),qx=function(){function e(t){d(this,e),this.persistence=t,this.Fr=new vk((function(e){return Hg(e)}),Kg),this.lastRemoteSnapshotVersion=km.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fx,this.targetCount=0,this.Nr=dx.On()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Fm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Fm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Fm.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Fm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Fm.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new dx(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Fm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Fm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Fm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Fm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Fm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Fm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Fm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Fm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Fm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Fm.resolve(n)}},{key:"containsKey",value:function(e,t){return Fm.resolve(this.Or.containsKey(t))}}]),e}(),Wx=function(){function e(t,n){var r=this;d(this,e),this.Br={},this.overlays={},this.Lr=new Jm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new qx(this),this.indexManager=new Yw,this.remoteDocumentCache=function(e){return new zx(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new hw(n),this.Kr=new Lx(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new Vx(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Yv("MemoryPersistence","Starting transaction:",e);var i=new Gx(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Fm.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Gx=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(Rm),Hx=function(){function e(t){d(this,e),this.persistence=t,this.Gr=new Fx,this.zr=null}return y(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Zv()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Fm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Fm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Fm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fm.forEach(this.Hr,(function(r){var i=Im.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,km.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Fm.or([function(){return Fm.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),Kx=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new Um("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iy,{unique:!0}),e.createObjectStore("documentMutations")}(e),Qx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Fm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Qx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:km.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Fm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ky});t.createIndex("collectionPathOverlayIndex",by,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",wy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:uy});t.createIndex("documentKeyIndex",cy),t.createIndex("collectionGroupIndex",ly)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vy}).createIndex("sequenceNumberIndex",my,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:yy}).createIndex("documentKeyIndex",gy,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=sx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Fm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Fm.forEach(r,(function(r){em(r.userId===n.userId);var i=yw(t.serializer,r);return ox(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new wm(n),o=function(e){return[0,ey(e)]}(a);r.push(t.get(o).next((function(n){return n?Fm.resolve():function(n){return t.put({targetId:0,path:ey(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Fm.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:py});var n=t.store("collectionParents"),r=new Jw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ey(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new wm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],ry(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=gw(r),a=kw(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Im(wm.fromString(e.document.name).popFirst(5)):e.noDocument?Im.fromSegments(e.noDocument.path):e.unknownDocument?Im.fromSegments(e.unknownDocument.path):Zv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Fm.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=Tx(this.serializer),a=new Wx(Hx.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Sk();yw(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Fm.forEach(r,(function(e,r){var o=new Gv(r),s=Tw.ct(n.serializer,o),u=a.getIndexManager(o),c=ux.ct(o,n.serializer,u,a.referenceDelegate);return new Rx(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Ty(t,Jm._e),e).next()}))}))}}]),e}();function Qx(e){e.createObjectStore("targetDocuments",{keyPath:hy}).createIndex("documentTargetsIndex",dy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fy,{unique:!0}),e.createObjectStore("targetGlobal")}var Yx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new rm(nm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _x(this,i),this.Ii=n+"main",this.serializer=new hw(u),this.Ti=new Vm(this.Ii,this.ai,new Kx(this.serializer)),this.qr=new px(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tx(this.serializer),this.Kr=new Iw,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Jv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new rm(nm.FAILED_PRECONDITION,Yx);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new Jm(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=_t(wt().mark((function n(r){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=_t(wt().mark((function t(n){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return $x(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(qm(t))return Yv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Yv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Xx(e).get("owner").next((function(e){return Fm.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return $x(e).delete(this.clientId)}},{key:"bi",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Cy(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Fm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Fm.resolve(!0):Xx(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new rm(nm.FAILED_PRECONDITION,Yx);return!1}}return!(!t.networkEnabled||!t.inForeground)||$x(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Yv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=_t(wt().mark((function e(){var t=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ty(e,Jm._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return $x(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return ux.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new $w(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Tw.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Yv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Sy:14===e?Ey:13===e?Iy:12===e?_y:11===e?xy:void Zv()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new Ty(a,r.Lr?r.Lr.next():Jm._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw Jv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new rm(nm.FAILED_PRECONDITION,Pm);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return Xx(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new rm(nm.FAILED_PRECONDITION,Yx)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xx(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=Xx(e);return n.get("owner").next((function(e){return t.wi(e)?(Yv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Fm.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!Ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Yv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jv("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Vm.D()}}]),e}();function Xx(e){return Cy(e,"owner")}function $x(e){return Cy(e,"clientMetadata")}function Zx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var e_=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return y(e,null,[{key:"Qi",value:function(t,n){var r,i=Sk(),a=Sk(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),t_=function(){function e(){d(this,e),this._documentReadCount=0}return y(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),n_=function(){function e(){d(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return y(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new t_;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(Qv()<=un.DEBUG&&Yv("QueryEngine","SDK will not create cache indexes for query:",lk(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Fm.resolve()):(Qv()<=un.DEBUG&&Yv("QueryEngine","Query:",lk(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Qv()<=un.DEBUG&&Yv("QueryEngine","The SDK decides to create cache indexes for query:",lk(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ik(t))):Fm.resolve())}},{key:"zi",value:function(e,t){var n=this;if(tk(t))return Fm.resolve(null);var r=ik(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=sk(t,null,"F"),r=ik(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Sk.apply(void 0,h(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,sk(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return tk(t)||r.isEqual(km.min())?Fm.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?Fm.resolve(null):(Qv()<=un.DEBUG&&Yv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lk(t)),i.Xi(e,o,t,Am(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new Ry(dk(e));return t.forEach((function(t,r){fk(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return Qv()<=un.DEBUG&&Yv("QueryEngine","Using full collection scan to execute query:",lk(t)),this.Gi.getDocumentsMatchingQuery(e,t,Om.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),r_=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new Oy(vm),this.ns=new vk((function(e){return Hg(e)}),Kg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return y(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rx(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function i_(e,t,n,r){return new r_(e,t,n,r)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Sk(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t){var n=tm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Fm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);em(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Sk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function u_(e){var t=tm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function c_(e,t){var n=tm(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Vy.EMPTY_BYTE_STRING,km.min()).withLastLimboFreeSnapshotVersion(km.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=yk(),u=Sk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(l_(e,a,t.documentUpdates).next((function(e){s=e.us,u=e.cs}))),!r.isEqual(km.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Fm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ts=i,e}))}function l_(e,t,n){var r=Sk(),i=Sk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=yk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(km.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Yv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function f_(e,t){var n=tm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function h_(e,t){var n=tm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Fm.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new fw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function d_(e,t,n){return p_.apply(this,arguments)}function p_(){return p_=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tm(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qm(e.t1)){e.next=12;break}throw e.t1;case 12:Yv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),p_.apply(this,arguments)}function v_(e,t,n){var r=tm(e),i=km.min(),a=Sk();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=tm(e),i=r.ns.get(n);return void 0!==i?Fm.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,ik(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:km.min(),n?a:Sk())})).next((function(e){return g_(r,hk(t),e),{documents:e,ls:a}}))}))}function m_(e,t){var n=tm(e),r=tm(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function y_(e,t){var n=tm(e),r=n.rs.get(t)||km.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,Am(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return g_(n,t,e),e}))}function g_(e,t,n){var r=e.rs.get(t)||km.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function k_(e,t,n,r){return b_.apply(this,arguments)}function b_(){return b_=_t(wt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=tm(t),o=Sk(),s=yk(),u=T(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.hs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ps(l)).setReadTime(n.Is(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,h_(a,function(e){return ik(ek(wm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return l_(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=_t(wt().mark((function e(t,n){var r,i,a,o=arguments;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Sk(),e.next=3,h_(t,ik(bw(n.bundledQuery)));case 3:return i=e.sent,a=tm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ub(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(Vy.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function __(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function I_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function E_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var S_=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new rm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),T_=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),C_=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ck(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),N_=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),A_=function(){function e(){d(this,e),this.activeTargetIds=Ck()}return y(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),D_=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Oy(vm),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=__(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new A_),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return y(e,[{key:"start",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(__(this.persistenceKey,i)))&&(o=C_.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(s=this.storage.getItem(this.Cs))&&(u=this.Ms(s))&&this.xs(u),c=T(this.ps);try{for(c.s();!(l=c.n()).done;)f=l.value,this.fs(f)}catch(d){c.e(d)}finally{c.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(E_(this.persistenceKey,e));if(n){var r=T_.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(E_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Yv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Yv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Yv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Yv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Jv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(_t(wt().mark((function e(){var r,i,a,o,s,u,c;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(s));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}u=function(e){var t=Jm._e;if(null!=e)try{var n=JSON.parse(e);em("number"==typeof n),t=n}catch(e){Jv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Jm._e&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return c=t.Hs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new S_(this.currentUser,e,t,n),i=I_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=I_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=E_(this.persistenceKey,e),i=new T_(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return C_.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return S_.Ts(new Gv(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return T_.Ts(r,t)}},{key:"Ms",value:function(e){return N_.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:Yv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=Ck();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),O_=function(){function e(){d(this,e),this.eo=new A_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new A_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),j_=function(){function e(){d(this,e)}return y(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),P_=function(){function e(){var t=this;d(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return y(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){Yv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){Yv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),R_=null;function L_(){return null===R_?R_=268435456+Math.round(2147483648*Math.random()):R_++,"0x"+R_.toString(16)}var M_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},F_=function(){function e(t){d(this,e),this.co=t.co,this.lo=t.lo}return y(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),U_="WebChannelConnection",V_=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"Do",value:function(e,t,n,r){var i=L_();return new Promise((function(a,o){var s=new zv;s.setWithCredentials(!0),s.listenOnce(Lv.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Rv.NO_ERROR:var t=s.getResponseJson();Yv(U_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Rv.TIMEOUT:Yv(U_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rm(nm.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:var n=s.getStatus();if(Yv(U_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nm).indexOf(t)>=0?t:nm.UNKNOWN}(u.status);o(new rm(c,u.message))}else o(new rm(nm.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rm(nm.UNAVAILABLE,"Connection failed."));break;default:Zv()}}finally{Yv(U_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Yv(U_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"vo",value:function(e,t,n){var r=L_(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jv(),o=Pv(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Uv({})),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Yv(U_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new F_({co:function(t){h?Yv(U_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Yv(U_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Yv(U_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Vv.EventType.OPEN,(function(){h||Yv(U_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Vv.EventType.CLOSE,(function(){h||(h=!0,Yv(U_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,Vv.EventType.ERROR,(function(t){h||(h=!0,Xv(U_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new rm(nm.UNAVAILABLE,"The operation could not be completed")))})),p(l,Vv.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];em(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Yv(U_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=ab[e];if(void 0!==t)return pb(t)}(s),c=o.message;void 0===u&&(u=nm.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Ro(new rm(u,c)),l.close()}else Yv(U_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,Mv.STAT_EVENT,(function(t){t.stat===Fv.PROXY?Yv(U_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fv.NOPROXY&&Yv(U_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return y(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=L_(),o=this.So(e,t);Yv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,o,s,n).then((function(t){return Yv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Xv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=M_[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function z_(){return"undefined"!=typeof window?window:null}function B_(){return"undefined"!=typeof document?document:null}function q_(e){return new Pb(e,!0)}var W_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Yv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),G_=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new W_(t,n)}return y(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===nm.RESOURCE_EXHAUSTED?(Jv(n.toString()),Jv("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===nm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new rm(nm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return Yv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(Yv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),H_=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return y(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(em(void 0===t||"string"==typeof t),Vy.fromBase64String(t||"")):(em(void 0===t||t instanceof Uint8Array),Vy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?nm.UNKNOWN:pb(e.code);return new rm(t,e.message||"")}(o);n=new Sb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=qb(e,u.document.name),l=Ub(u.document.updateTime),f=u.document.createTime?Ub(u.document.createTime):km.min(),h=new yg({mapValue:{fields:u.document.fields}}),d=kg.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Ib(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=qb(e,m.document),g=m.readTime?Ub(m.readTime):km.min(),k=kg.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Ib([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=qb(e,w.document),_=w.removedTargetIds||[];n=new Ib([],_,x,null)}else{if(!("filter"in t))return Zv();t.filter;var I=t.filter;I.targetId;var E=I.count,S=void 0===E?0:E,T=I.unchangedNames,C=new hb(S,T),N=I.targetId;n=new Eb(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return km.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?km.min():t.readTime?Ub(t.readTime):km.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=Hb(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Qg(r)?{documents:Zb(e,r)}:{query:ew(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mb(e,t.resumeToken);var i=Rb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(km.min())>0){n.readTime=Lb(e,t.snapshotVersion.toTimestamp());var a=Rb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=Hb(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(G_),K_=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.l_=!1,u}return y(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,jr(b(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(em(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(em(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ub(e.updateTime):Ub(t);return n.isEqual(km.min())&&(n=Ub(t)),new Gk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ub(e.commitTime);return this.listener.I_(n,t)}return em(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=Hb(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xb(t.serializer,e)}))};this.e_(n)}}]),n}(G_),Q_=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return y(n,[{key:"A_",value:function(){if(this.d_)throw new rm(nm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.wo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rm(nm.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.Co(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new rm(nm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(y((function e(){d(this,e)})));var Y_=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return y(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Jv(t),this.f_=!1):Yv("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),J_=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=sI(o),!e.t0){e.next=5;break}return Yv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tm(t)).C_.add(4),e.next=4,Z_(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,X_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new Y_(r,i)}));function X_(e){return $_.apply(this,arguments)}function $_(){return($_=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sI(t)){e.next=18;break}n=T(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Z_(e){return eI.apply(this,arguments)}function eI(){return(eI=_t(wt().mark((function e(t){var n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function tI(e,t){var n=tm(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),oI(n)?aI(n):LI(n).Ho()&&rI(n,t))}function nI(e,t){var n=tm(e),r=LI(n);n.D_.delete(t),r.Ho()&&iI(n,t),0===n.D_.size&&(r.Ho()?r.Zo():sI(n)&&n.M_.set("Unknown"))}function rI(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(km.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}LI(e).u_(t)}function iI(e,t){e.x_.Oe(t),LI(e).c_(t)}function aI(e){e.x_=new Cb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),LI(e).start(),e.M_.g_()}function oI(e){return sI(e)&&!LI(e).jo()&&e.D_.size>0}function sI(e){return 0===tm(e).C_.size}function uI(e){e.x_=void 0}function cI(e){return lI.apply(this,arguments)}function lI(){return(lI=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){rI(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fI(e,t){return hI.apply(this,arguments)}function hI(){return(hI=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uI(t),oI(t)?(t.M_.w_(n),aI(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dI(e,t,n){return pI.apply(this,arguments)}function pI(){return pI=_t(wt().mark((function e(t,n,r){var i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof Sb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,vI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ib?t.x_.$e(n):n instanceof Eb?t.x_.Je(n):t.x_.Ge(n),r.isEqual(km.min())){e.next=29;break}return e.prev=14,e.next=17,u_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(Vy.EMPTY_BYTE_STRING,r.snapshotVersion)),iI(e,t);var i=new fw(r.target,t,n,r.sequenceNumber);rI(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,vI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),pI.apply(this,arguments)}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return(mI=_t(wt().mark((function e(t,n,r){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qm(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,Z_(t);case 5:t.M_.set("Offline"),r||(r=function(){return u_(t.localStore)}),t.asyncQueue.enqueueRetryable(_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,X_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yI(e,t){return t().catch((function(n){return vI(e,n,t)}))}function gI(e){return kI.apply(this,arguments)}function kI(){return kI=_t(wt().mark((function e(t){var n,r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tm(t),r=MI(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!bI(n)){e.next=19;break}return e.prev=3,e.next=6,f_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,wI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,vI(n,e.t0);case 17:e.next=2;break;case 19:xI(n)&&_I(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),kI.apply(this,arguments)}function bI(e){return sI(e)&&e.b_.length<10}function wI(e,t){e.b_.push(t);var n=MI(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function xI(e){return sI(e)&&!MI(e).jo()&&e.b_.length>0}function _I(e){MI(e).start()}function II(e){return EI.apply(this,arguments)}function EI(){return(EI=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:MI(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e){return TI.apply(this,arguments)}function TI(){return(TI=_t(wt().mark((function e(t){var n,r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=MI(t),r=T(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CI(e,t,n){return NI.apply(this,arguments)}function NI(){return NI=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=lb.from(i,n,r),e.next=3,yI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,gI(t);case 5:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t){return DI.apply(this,arguments)}function DI(){return DI=_t(wt().mark((function e(t,n){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&MI(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return db(e)&&e!==nm.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),MI(t).Yo(),e.next=5,yI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,gI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:xI(t)&&_I(t);case 5:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function OI(e,t){return jI.apply(this,arguments)}function jI(){return jI=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=tm(t)).asyncQueue.verifyOperationInProgress(),Yv("RemoteStore","RemoteStore received new credentials"),i=sI(r),r.C_.add(3),e.next=6,Z_(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,X_(r);case 12:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function PI(e,t){return RI.apply(this,arguments)}function RI(){return(RI=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tm(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,X_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,Z_(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LI(e){return e.O_||(e.O_=function(e,t,n){var r=tm(e);return r.A_(),new H_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:cI.bind(null,e),Io:fI.bind(null,e),a_:dI.bind(null,e)}),e.v_.push(function(){var t=_t(wt().mark((function t(n){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),oI(e)?aI(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:uI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function MI(e){return e.N_||(e.N_=function(e,t,n){var r=tm(e);return r.A_(),new K_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:II.bind(null,e),Io:AI.bind(null,e),T_:SI.bind(null,e),I_:CI.bind(null,e)}),e.v_.push(function(){var t=_t(wt().mark((function t(n){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,gI(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(Yv("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var FI=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new im,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rm(nm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function UI(e,t){if(Jv("AsyncQueue","".concat(t,": ").concat(e)),qm(e))return new rm(nm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var VI=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Im.comparator(e.key,n.key)}:function(e,t){return Im.comparator(e.key,t.key)},this.keyedMap=kk(),this.sortedSet=new Oy(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zI=function(){function e(){d(this,e),this.B_=new Oy(Im.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Zv():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),BI=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,VI.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),qI=y((function e(){d(this,e),this.k_=void 0,this.listeners=[]})),WI=y((function e(){d(this,e),this.queries=new vk((function(e){return ck(e)}),uk),this.onlineState="Unknown",this.q_=new Set}));function GI(e,t){return HI.apply(this,arguments)}function HI(){return HI=_t(wt().mark((function e(t,n){var r,i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=UI(e.t0,"Initialization of query '".concat(lk(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&XI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HI.apply(this,arguments)}function KI(e,t){return QI.apply(this,arguments)}function QI(){return QI=_t(wt().mark((function e(t,n){var r,i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e,t){var n,r=tm(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=T(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&XI(r)}function JI(e,t,n){var r=tm(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function XI(e){e.q_.forEach((function(e){e.next()}))}var $I=function(){function e(t,n,r){d(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new BI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=BI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),ZI=function(){function e(t,n){d(this,e),this.Y_=t,this.byteLength=n}return y(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),eE=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"hs",value:function(e){return qb(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?Yb(this.serializer,e.document,!1):kg.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return Ub(e)}}]),e}(),tE=function(){function e(t,n,r){d(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nE(t)}return y(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=wm.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new eE(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.hs(a.metadata.name),u=T(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Sk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k_(this.localStore,new eE(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,w_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function nE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var rE=y((function e(t){d(this,e),this.key=t})),iE=y((function e(t){d(this,e),this.key=t})),aE=function(){function e(t,n){d(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Sk(),this.mutatedKeys=Sk(),this._a=dk(t),this.aa=new VI(this._a)}return y(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new zI,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=fk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n._a(f,u)>0||c&&n._a(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:s,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var a=e.la.L_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zv()}};return n(e)-n(t)}(e.type,t.type)||r._a(e.doc,t.doc)})),this.Pa(n);var o=t?this.Ia():[],s=0===this.oa.size&&this.current?1:0,u=s!==this.sa;return this.sa=s,0!==a.length||u?{snapshot:new BI(this.query,e.aa,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new zI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=Sk(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new iE(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new rE(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=Sk();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return BI.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),oE=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),sE=y((function e(t){d(this,e),this.key=t,this.Ra=!1})),uE=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vk((function(e){return ck(e)}),uk),this.fa=new Map,this.ga=new Set,this.pa=new Oy(Im.comparator),this.ya=new Map,this.wa=new Fx,this.Sa={},this.ba=new Map,this.Da=dx.Nn(),this.onlineState="Unknown",this.Ca=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=_t(wt().mark((function e(t,n){var r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nS(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,h_(r.localStore,ik(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,fE(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&tI(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t,n,r,i){return hE.apply(this,arguments)}function hE(){return hE=_t(wt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=_t(wt().mark((function e(t,n,r,i){var a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,v_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(OE(t,n.targetId,s.Ta),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,v_(t.localStore,n,!0);case 3:return o=e.sent,s=new aE(n,o.ls),u=s.ca(o.documents),c=_b.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),OE(t,r,l.Ta),f=new oE(n,r,s),e.abrupt("return",(t.ma.set(n,f),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tm(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!uk(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,d_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),nI(r.remoteStore,i.targetId),AE(r,i.targetId)})).catch(Lm);case 9:e.next=14;break;case 11:return AE(r,i.targetId),e.next=14,d_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t,n){return mE.apply(this,arguments)}function mE(){return mE=_t(wt().mark((function e(t,n,r){var i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=tm(e),a=gm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Sk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=yk(),u=Sk();return i.ss.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=$k(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new tb(c.key,l,gg(l.value.mapValue),Hk.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:bk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new Oy(vm)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,RE(i,a.changes);case 9:return e.next=11,gI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=UI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),mE.apply(this,arguments)}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),e.prev=1,e.next=4,c_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(em(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?em(n.Ra):e.removedDocuments.size>0&&(em(n.Ra),n.Ra=!1))})),e.next=8,RE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Lm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),gE.apply(this,arguments)}function kE(e,t,n){var r=tm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&XI(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bE(e,t,n){return wE.apply(this,arguments)}function wE(){return wE=_t(wt().mark((function e(t,n,r){var i,a,o,s,u,c;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=tm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Oy(Im.comparator)).insert(o,kg.newNoDocument(o,km.min())),u=Sk().add(o),c=new xb(km.min(),new Map,new Oy(vm),s,u),e.next=9,yE(i,c);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),PE(i),e.next=16;break;case 14:return e.next=16,d_(i.localStore,n,!1).then((function(){return AE(i,n,r)})).catch(Lm);case 16:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){return _E.apply(this,arguments)}function _E(){return _E=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),i=n.batch.batchId,e.prev=1,e.next=4,s_(r.localStore,n);case 4:return a=e.sent,NE(r,i,null),CE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,RE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Lm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_E.apply(this,arguments)}function IE(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tm(t),e.prev=1,e.next=4,function(e,t){var n=tm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return em(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,NE(i,n,r),CE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,RE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Lm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),EE.apply(this,arguments)}function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=_t(wt().mark((function e(t,n){var r,i,a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sI((r=tm(t)).remoteStore)||Yv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=tm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=UI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),TE.apply(this,arguments)}function CE(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function NE(e,t,n){var r=tm(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function AE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||DE(e,t)}))}function DE(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(nI(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),PE(e))}function OE(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof rE?(e.wa.addReference(a.key,t),jE(e,a)):a instanceof iE?(Yv("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||DE(e,a.key)):Zv()}}catch(o){i.e(o)}finally{i.f()}}function jE(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Yv("SyncEngine","New document in limbo: "+n),e.ga.add(r),PE(e))}function PE(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new Im(wm.fromString(t)),r=e.Da.next();e.ya.set(r,new sE(n)),e.pa=e.pa.insert(n,r),tI(e.remoteStore,new fw(ik(ek(n.path)),r,"TargetPurposeLimboResolution",Jm._e))}}function RE(e,t,n){return LE.apply(this,arguments)}function LE(){return LE=_t(wt().mark((function e(t,n,r){var i,a,o,s;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tm(t),a=[],o=[],s=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){s.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=e_.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Va.a_(a),e.next=9,function(){var e=_t(wt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fm.forEach(n,(function(t){return Fm.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Fm.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qm(e.t0)){e.next=10;break}throw e.t0;case 10:Yv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ts.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ts=r.ts.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return(FE=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=tm(t)).currentUser.isEqual(n)){e.next=11;break}return Yv("SyncEngine","User change. New user:",n.toKey()),e.next=5,a_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new rm(nm.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,RE(r,i._s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UE(e,t){var n=tm(e),r=n.ya.get(t);if(r&&r.Ra)return Sk().add(r.key);var i=Sk(),a=n.fa.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ma.get(u);i=i.unionWith(c.view.ua)}}catch(l){s.e(l)}finally{s.f()}return i}function VE(e,t){return zE.apply(this,arguments)}function zE(){return zE=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),e.next=3,v_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&OE(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e,t){return qE.apply(this,arguments)}function qE(){return(qE=_t(wt().mark((function e(t,n){var r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),e.abrupt("return",y_(r.localStore,n).then((function(e){return RE(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(e,t,n,r){return GE.apply(this,arguments)}function GE(){return GE=_t(wt().mark((function e(t,n,r,i){var a,o;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tm(t),e.next=3,function(e,t){var n=tm(e),r=tm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Fm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,gI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(NE(a,n,i||null),CE(a,n),function(e,t){tm(tm(e).mutationQueue).Fn(t)}(a.localStore,n)):Zv();case 11:return e.next=13,RE(a,o);case 13:e.next=16;break;case 15:Yv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function HE(e,t){return KE.apply(this,arguments)}function KE(){return(KE=_t(wt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nS(r=tm(t)),rS(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,QE(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,PI(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(s=o.n()).done;)u=s.value,tI(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return c=[],l=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return AE(r,t),d_(r.localStore,t,!0)})),nI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,QE(r,c);case 21:return function(e){var t=tm(e);t.ya.forEach((function(e,n){nI(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Oy(Im.comparator)}(r),r.Ca=!1,e.next=25,PI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=_t(wt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=tm(t),a=[],o=[],s=T(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.fa.get(c))||0===f.length){e.next=34;break}return e.next=11,h_(i.localStore,ik(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ma.get(p),e.next=20,VE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,m_(i.localStore,c);case 36:return y=e.sent,e.next=39,h_(i.localStore,y);case 39:return l=e.sent,e.next=42,fE(i,JE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),YE.apply(this,arguments)}function JE(e){return Zg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function XE(e){return function(e){return tm(tm(e).persistence).Bi()}(tm(e).localStore)}function $E(e,t,n,r){return ZE.apply(this,arguments)}function ZE(){return ZE=_t(wt().mark((function e(t,n,r,i){var a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=tm(t)).Ca){e.next=3;break}return e.abrupt("return",void Yv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,y_(a.localStore,hk(o[0]));case 10:return s=e.sent,u=xb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Vy.EMPTY_BYTE_STRING),e.next=14,RE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,d_(a.localStore,n,!0);case 17:return AE(a,n,i),e.abrupt("break",20);case 19:Zv();case 20:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eS(e,t,n){return tS.apply(this,arguments)}function tS(){return tS=_t(wt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=nS(t)).Ca){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.fa.has(s)){e.next=10;break}return Yv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,m_(i.localStore,s);case 12:return u=e.sent,e.next=15,h_(i.localStore,u);case 15:return c=e.sent,e.next=18,fE(i,JE(u),c.targetId,!1,c.resumeToken);case 18:tI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,d_(i.localStore,t,!1).then((function(){nI(i.remoteStore,t),AE(i,t)})).catch(Lm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),tS.apply(this,arguments)}function nS(e){var t=tm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bE.bind(null,t),t.Va.a_=YI.bind(null,t.eventManager),t.Va.Fa=JI.bind(null,t.eventManager),t}function rS(e){var t=tm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IE.bind(null,t),t}function iS(e,t,n){var r=tm(e);(function(){var e=_t(wt().mark((function e(t,n,r){var i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=tm(e),r=Ub(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(nE(i)),a=new tE(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,RE(t,u.ra,void 0);case 31:return e.next=33,function(e,t){var n=tm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Xv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var aS=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=q_(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return i_(this.persistence,new n_,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Wx(Hx.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new O_}},{key:"terminate",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oS=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=_t(wt().mark((function e(t){var r=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,rS(this.xa.syncEngine);case 6:return e.next=8,gI(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return i_(this.persistence,new n_,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new bx(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ym(t,this.persistence);return new Qm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Zx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ax.withCacheSize(this.cacheSizeBytes):ax.DEFAULT;return new Jx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,z_(),B_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new O_}}]),n}(aS),sS=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=_t(wt().mark((function e(t){var r,i=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof D_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:WE.bind(null,r),Zs:$E.bind(null,r),Xs:eS.bind(null,r),Bi:XE.bind(null,r),Js:BE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HE(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=z_();if(!D_.D(t))throw new rm(nm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(oS),uS=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=_t(wt().mark((function e(t,n){var r=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ME.bind(null,this.syncEngine),e.next=12,PI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new WI}},{key:"createDatastore",value:function(e){var t=q_(e.databaseInfo.databaseId),n=function(e){return new V_(e)}(e.databaseInfo);return function(e,t,n,r){return new Q_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new J_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return kE(t.syncEngine,e,0)}),P_.D()?new P_:new j_)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new uE(e,t,n,r,i,a);return o&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tm(t),Yv("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,Z_(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function cS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return _t(wt().mark((function r(){var i;return wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return _t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var lS=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):Jv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),fS=function(){function e(t,n){var r=this;d(this,e),this.Ba=t,this.serializer=n,this.metadata=new im,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=_t(wt().mark((function e(){var t,n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new ZI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=_t(wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=_t(wt().mark((function e(){var t,n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hS=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=_t(wt().mark((function e(t){var n,r=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new rm(nm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=_t(wt().mark((function e(t,n){var r,i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),i=Hb(r.serializer)+"/documents",a={documents:n.map((function(e){return Bb(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Jb(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());em(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new sb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=_t(wt().mark((function e(){var t,n=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Im.fromPath(t);n.mutations.push(new ub(r,n.precondition(r)))})),e.next=7,function(){var e=_t(wt().mark((function e(t,n){var r,i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tm(t),i=Hb(r.serializer)+"/documents",a={writes:n.map((function(e){return Xb(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zv();t=km.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rm(nm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(km.min())?Hk.exists(!1):Hk.updateTime(t):Hk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(km.min()))throw new rm(nm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hk.updateTime(t)}return Hk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),dS=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new W_(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(_t(wt().mark((function t(){var n,r;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new hS(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!Xm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!db(t)}return!1}}]),e}(),pS=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gv.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new rm(nm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new im;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_t(wt().mark((function n(){var r;return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=UI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,a_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=_t(wt().mark((function e(t,n){var r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bS(t);case 3:return r=e.sent,Yv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return OI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return OI(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e){return"FirebaseError"===e.name?e.code===nm.FAILED_PRECONDITION||e.code===nm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function bS(e){return wS.apply(this,arguments)}function wS(){return(wS=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Yv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,vS(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),kS(n=e.t0)){e.next=13;break}throw n;case 13:return Xv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,vS(t,new aS);case 16:e.next=21;break;case 18:return Yv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,vS(t,new aS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function xS(e){return _S.apply(this,arguments)}function _S(){return(_S=_t(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Yv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,yS(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Yv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,yS(t,new uS);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e){return bS(e).then((function(e){return e.persistence}))}function ES(e){return bS(e).then((function(e){return e.localStore}))}function SS(e){return xS(e).then((function(e){return e.remoteStore}))}function TS(e){return xS(e).then((function(e){return e.syncEngine}))}function CS(e){return xS(e).then((function(e){return e.datastore}))}function NS(e){return AS.apply(this,arguments)}function AS(){return(AS=_t(wt().mark((function e(t){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=cE.bind(null,n.syncEngine),r.onUnlisten=dE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function i(){return wt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lS({next:function(a){t.enqueueAndForget((function(){return KI(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new rm(nm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new rm(nm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new $I(ek(n.path),a,{includeMetadataChanges:!0,J_:!0});return GI(e,o)},i.next=3,NS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function OS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function i(){return wt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lS({next:function(n){t.enqueueAndForget((function(){return KI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new rm(nm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new $I(n,a,{includeMetadataChanges:!0,J_:!0});return GI(e,o)},i.next=3,NS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function jS(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var PS=new Map;function RS(e,t,n){if(!n)throw new rm(nm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LS(e,t,n,r){if(!0===t&&!0===r)throw new rm(nm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MS(e){if(!Im.isDocumentKey(e))throw new rm(nm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function FS(e){if(Im.isDocumentKey(e))throw new rm(nm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function US(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zv()}function VS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rm(nm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=US(e);throw new rm(nm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function zS(e,t){if(t<=0)throw new rm(nm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var BS=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new rm(nm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rm(nm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rm(nm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rm(nm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rm(nm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qS=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BS({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new rm(nm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new rm(nm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new om;switch(e.type){case"firstParty":return new lm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rm(nm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=PS.get(e);t&&(Yv("ComponentProvider","Removing Datastore"),PS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function WS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=VS(e,qS))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Xv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Gv.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new rm(nm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gv(c)}e._authCredentials=new sm(new am(s,u))}}var GS=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),HS=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),KS=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,ek(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new HS(this.firestore,null,new Im(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(GS);function QS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),RS("collection","path",t),e instanceof qS){var a=wm.fromString.apply(wm,[t].concat(r));return FS(a),new KS(e,null,a)}if(!(e instanceof HS||e instanceof KS))throw new rm(nm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wm.fromString.apply(wm,[t].concat(r)));return FS(o),new KS(e.firestore,null,o)}function YS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),1===arguments.length&&(t=pm.newId()),RS("doc","path",t),e instanceof qS){var a=wm.fromString.apply(wm,[t].concat(r));return MS(a),new HS(e,null,new Im(a))}if(!(e instanceof HS||e instanceof KS))throw new rm(nm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wm.fromString.apply(wm,[t].concat(r)));return MS(o),new HS(e.firestore,e instanceof KS?e.converter:null,new Im(o))}function JS(e,t){return e=nn(e),t=nn(t),(e instanceof HS||e instanceof KS)&&(t instanceof HS||t instanceof KS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XS(e,t){return e=nn(e),t=nn(t),e instanceof GS&&t instanceof GS&&e.firestore===t.firestore&&uk(e._query,t._query)&&e.converter===t.converter}var $S=function(){function e(){var t=this;d(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new W_(this,"async_queue_retry"),this.iu=function(){var e=B_();e&&Yv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=B_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return y(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=B_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new im;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=_t(wt().mark((function e(){var t=this;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qm(e.t0)){e.next=12;break}throw e.t0;case 12:Yv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=FI.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&Zv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=T(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function ZS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eT=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new im,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tT=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new $S,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||rT(this),this._firestoreClient.terminate()}}]),n}(qS);function nT(e){return e._firestoreClient||rT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Qy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jS(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new pS(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iT(e,t,n){var r=new im;return e.asyncQueue.enqueue(_t(wt().mark((function i(){var a;return wt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vS(e,n);case 3:return i.next=5,yS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),kS(a=i.t0)){i.next=13;break}throw a;case 13:Xv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function aT(e){return function(e){var t=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function n(){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=SE,n.next=3,TS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nT(e=VS(e,tT)))}function oT(e){return function(e){return e.asyncQueue.enqueue(_t(wt().mark((function t(){var n,r;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IS(e);case 2:return n=t.sent,t.next=5,SS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=tm(e);return t.C_.delete(0),X_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nT(e=VS(e,tT)))}function sT(e){return function(e){return e.asyncQueue.enqueue(_t(wt().mark((function t(){var n,r;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IS(e);case 2:return n=t.sent,t.next=5,SS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tm(t)).C_.add(0),e.next=4,Z_(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nT(e=VS(e,tT)))}function uT(e,t){var n=nT(e=VS(e,tT)),r=new eT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new fS(e,t)}(function(e,t){if(e instanceof Uint8Array)return cS(e,t);if(e instanceof ArrayBuffer)return cS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?mb().encode(e):e),t)}(n,q_(t));e.asyncQueue.enqueueAndForget(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=iS,t.next=3,TS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function cT(e,t){return function(e,t){return e.asyncQueue.enqueue(_t(wt().mark((function n(){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=tm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,ES(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nT(e=VS(e,tT)),t).then((function(t){return t?new GS(e,null,t.query):null}))}function lT(e){if(e._initialized||e._terminated)throw new rm(nm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fT=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Vy.fromBase64String(t))}catch(t){throw new rm(nm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Vy.fromUint8Array(t))}}]),e}(),hT=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new rm(nm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _m(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var dT=y((function e(t){d(this,e),this._methodName=t})),pT=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new rm(nm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rm(nm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vm(this._lat,e._lat)||vm(this._long,e._long)}}]),e}(),vT=/^__.*__$/,mT=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new tb(e,this.data,this.fieldMask,t,this.fieldTransforms):new eb(e,this.data,t,this.fieldTransforms)}}]),e}(),yT=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new tb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function gT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zv()}}var kT=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return UT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(gT(this.Iu)&&vT.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),bT=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||q_(t)}return y(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kT({Iu:e,methodName:t,gu:n,path:_m.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function wT(e){var t=e._freezeSettings(),n=q_(e._databaseId);return new bT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);RT("Data must be an object, but it was:",o,r);var s,u,c=jT(r,o);if(a.merge)s=new Fy(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=LT(t,l.value,n);if(!o.contains(d))throw new rm(nm.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));VT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Fy(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new mT(new yg(c),s,u)}var _T=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(dT);function IT(e,t,n){return new kT({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var ET=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new Wk(e.path,new Lk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(dT),ST=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=IT(this,e,!0),n=this.yu.map((function(e){return OT(e,t)})),r=new Mk(n);return new Wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dT),TT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=IT(this,e,!0),n=this.yu.map((function(e){return OT(e,t)})),r=new Uk(n);return new Wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dT),CT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new zk(e.serializer,Dk(e.serializer,this.wu));return new Wk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dT);function NT(e,t,n,r){var i=e.pu(1,t,n);RT("Data must be an object, but it was:",i,r);var a=[],o=yg.empty();Ay(r,(function(e,r){var s=FT(t,e,n);r=nn(r);var u=i.Ru(s);if(r instanceof _T)a.push(s);else{var c=OT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Fy(a);return new yT(o,s,i.fieldTransforms)}function AT(e,t,n,r,i,a){var o=e.pu(1,t,n),s=[LT(t,r,n)],u=[i];if(a.length%2!=0)throw new rm(nm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(LT(t,a[c])),u.push(a[c+1]);for(var l=[],f=yg.empty(),h=s.length-1;h>=0;--h)if(!VT(l,s[h])){var d=s[h],p=u[h];p=nn(p);var v=o.Ru(d);if(p instanceof _T)l.push(d);else{var m=OT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Fy(l);return new yT(f,y,o.fieldTransforms)}function DT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return OT(n,e.pu(r?4:3,t))}function OT(e,t){if(PT(e=nn(e)))return RT("Unsupported field value:",t,e),jT(e,t);if(e instanceof dT)return function(e,t){if(!gT(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=OT(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=nn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Dk(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gm.fromDate(e);return{timestampValue:Lb(t.serializer,n)}}if(e instanceof gm){var r=new gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lb(t.serializer,r)}}if(e instanceof pT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fT)return{bytesValue:Mb(t.serializer,e._byteString)};if(e instanceof HS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(US(e)))}(e,t)}function jT(e,t){var n={};return Dy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ay(e,(function(e,r){var i=OT(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function PT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gm||e instanceof pT||e instanceof fT||e instanceof HS||e instanceof dT)}function RT(e,t,n){if(!PT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=US(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function LT(e,t,n){if((t=nn(t))instanceof hT)return t._internalPath;if("string"==typeof t)return FT(e,t);throw UT("Field path arguments must be of type string or ",e,!1,void 0,n)}var MT=new RegExp("[~\\*/\\[\\]]");function FT(e,t,n){if(t.search(MT)>=0)throw UT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(hT,h(t.split(".")))._internalPath}catch(Rf){throw UT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function UT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new rm(nm.INVALID_ARGUMENT,s+e+u)}function VT(e,t){return e.some((function(e){return e.isEqual(t)}))}var zT=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new HS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new BT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),BT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return jr(b(n.prototype),"data",this).call(this)}}]),n}(zT);function qT(e,t){return"string"==typeof t?FT(e,t):t instanceof hT?t._internalPath:t._delegate._internalPath}function WT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rm(nm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var GT=y((function e(){d(this,e)})),HT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(GT);function KT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof GT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof YT})).length,n=e.filter((function(e){return e instanceof QT})).length;if(t>1||t>0&&n>0)throw new rm(nm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=T(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var QT=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return sC(e._query,t),new GS(e.firestore,e.converter,ok(e._query,t))}},{key:"_parse",value:function(e){var t=wT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new rm(nm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){oC(o,a);var u,c=[],l=T(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(aC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=aC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||oC(o,a),s=DT(n,t,o,"in"===a||"not-in"===a);return Sg.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HT);var YT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Tg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;sC(r,a),r=ok(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new GS(e.firestore,e.converter,ok(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GT);var JT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new rm(nm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rm(nm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _g(t,n)}(e._query,this._field,this._direction);return new GS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $g(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HT);var XT=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new GS(e.firestore,e.converter,sk(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HT);var $T=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=iC(e,this.type,this._docOrFields,this._inclusive);return new GS(e.firestore,e.converter,function(e,t){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HT);function ZT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("startAt",t,!0)}function eC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("startAfter",t,!1)}var tC=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=iC(e,this.type,this._docOrFields,this._inclusive);return new GS(e.firestore,e.converter,function(e,t){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HT);function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tC._create("endBefore",t,!1)}function rC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tC._create("endAt",t,!0)}function iC(e,t,n,r){if(n[0]=nn(n[0]),n[0]instanceof zT)return function(e,t,n,r,i){if(!r)throw new rm(nm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=T(rk(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(ag(t,r.key));else{var c=r.data.field(u.field);if(Gy(c))throw new rm(nm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rm(nm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new bg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new rm(nm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new rm(nm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!nk(e)&&-1!==c.indexOf("/"))throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(wm.fromString(c));if(!Im.isDocumentKey(l))throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Im(l);s.push(ag(t,f))}else{var h=DT(n,r,c);s.push(h)}}return new bg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function aC(e,t,n){if("string"==typeof(n=nn(n))){if(""===n)throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nk(t)&&-1!==n.indexOf("/"))throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(wm.fromString(n));if(!Im.isDocumentKey(r))throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ag(e,new Im(r))}if(n instanceof HS)return ag(e,n._key);throw new rm(nm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(US(n),"."))}function oC(e,t){if(!Array.isArray(e)||0===e.length)throw new rm(nm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function sC(e,t){var n=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rm(nm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rm(nm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var uC=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Ay(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new pT(qy(e.latitude),qy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Hy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ky(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=By(e);return new gm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=wm.fromString(e);em(lw(n));var r=new Yy(n.get(1),n.get(3)),i=new Im(n.popFirst(5));return r.isEqual(t)||Jv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lC=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new fT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HS(this.firestore,null,t)}}]),n}(uC);var fC=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hC=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return jr(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zT),dC=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jr(b(n.prototype),"data",this).call(this,e)}}]),n}(hC),pC=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fC(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dC(n._firestore,n._userDataWriter,r.key,r,new fC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rm(nm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new dC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:vC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function vC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zv()}}function mC(e,t){return e instanceof hC&&t instanceof hC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pC&&t instanceof pC&&e._firestore===t._firestore&&XS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var yC=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new fT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HS(this.firestore,null,t)}}]),n}(uC);function gC(e){e=VS(e,HS);var t=VS(e.firestore,tT),n=nT(t),r=new yC(t);return function(e,t){var n=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function r(){return wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(wt().mark((function e(t,n,r){var i,a;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=tm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new rm(nm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=UI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ES(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hC(t,r,e._key,n,new fC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kC(e){e=VS(e,GS);var t=VS(e.firestore,tT),n=nT(t),r=new yC(t);return WT(e._query),OS(n,e._query).then((function(n){return new pC(t,r,e,n)}))}function bC(e){e=VS(e,GS);var t=VS(e.firestore,tT),n=nT(t),r=new yC(t);return function(e,t){var n=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function r(){return wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(wt().mark((function e(t,n,r){var i,a,o,s,u;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v_(t,n,!0);case 3:i=e.sent,a=new aE(n,i.ls),o=a.ca(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=UI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ES(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new pC(t,r,e,n)}))}function wC(e){e=VS(e,GS);var t=VS(e.firestore,tT),n=nT(t),r=new yC(t);return OS(n,e._query,{source:"server"}).then((function(n){return new pC(t,r,e,n)}))}function xC(e,t,n){e=VS(e,HS);var r=VS(e.firestore,tT),i=cC(e.converter,t,n);return SC(r,[xT(wT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hk.none())])}function _C(e,t,n){e=VS(e,HS);for(var r=VS(e.firestore,tT),i=wT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return SC(r,[("string"==typeof(t=nn(t))||t instanceof hT?AT(i,"updateDoc",e._key,t,n,o):NT(i,"updateDoc",e._key,t)).toMutation(e._key,Hk.exists(!0))])}function IC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=nn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||ZS(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(ZS(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof HS)l=VS(e.firestore,tT),f=ek(e._key.path),c={next:function(t){n[u]&&n[u](TC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=VS(e,GS);l=VS(p.firestore,tT),f=p._query;var v=new yC(l);c={next:function(e){n[u]&&n[u](new pC(l,v,p,e))},error:n[u+1],complete:n[u+2]},WT(e._query)}return function(e,t,n,r){var i=new lS(r),a=new $I(t,i,n);return e.asyncQueue.enqueueAndForget(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GI,t.next=3,NS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KI,t.next=3,NS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nT(l),f,h,c)}function EC(e,t){return function(e,t){var n=new lS(t);return e.asyncQueue.enqueueAndForget(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){tm(e).q_.add(t),t.next()},t.next=3,NS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(_t(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){tm(e).q_.delete(t)},t.next=3,NS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nT(e=VS(e,tT)),ZS(t)?t:{next:t})}function SC(e,t){return function(e,t){var n=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function r(){return wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vE,r.next=3,TS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nT(e),t)}function TC(e,t,n){var r=n.docs.get(t._key),i=new yC(e);return new hC(e,i,t._key,r,new fC(n.hasPendingWrites,n.fromCache),t.converter)}var CC={maxAttempts:5},NC=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wT(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=AC(e,this._firestore),i=cC(r.converter,t,n),a=xT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Hk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=AC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=nn(t))||t instanceof hT?AT(this._dataReader,"WriteBatch.update",i._key,t,n,o):NT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Hk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=AC(e,this._firestore);return this._mutations=this._mutations.concat(new sb(t._key,Hk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new rm(nm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function AC(e,t){if((e=nn(e)).firestore!==t)throw new rm(nm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var DC=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=AC(e,this._firestore),i=new yC(this._firestore);return jr(b(n.prototype),"get",this).call(this,e).then((function(e){return new hC(t._firestore,i,r._key,e._document,new fC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=wT(t)}return y(e,[{key:"get",value:function(e){var t=this,n=AC(e,this._firestore),r=new lC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zv();var i=e[0];if(i.isFoundDocument())return new zT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zT(t._firestore,r,n._key,null,n.converter);throw Zv()}))}},{key:"set",value:function(e,t,n){var r=AC(e,this._firestore),i=cC(r.converter,t,n),a=xT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=AC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=nn(t))||t instanceof hT?AT(this._dataReader,"Transaction.update",i._key,t,n,o):NT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=AC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function OC(e,t,n){e=VS(e,tT);var r=Object.assign(Object.assign({},CC),n);return function(e){if(e.maxAttempts<1)throw new rm(nm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new im;return e.asyncQueue.enqueueAndForget(_t(wt().mark((function i(){var a;return wt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,CS(e);case 2:a=i.sent,new dS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(nT(e),(function(n){return t(new DC(e,n))}),r)}function jC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ST("arrayUnion",t)}function PC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TT("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hv=e}(er),Kn(new rn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new tT(new um(e.getProvider("auth-internal")),new hm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rm(nm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),or(Wv,"4.3.2",e),or(Wv,"4.3.2","esm2017")}();function RC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LC(){if("undefined"===typeof Uint8Array)throw new rm("unimplemented","Uint8Arrays are not available in this environment.")}function MC(){if("undefined"==typeof atob)throw new rm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var FC=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return MC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return LC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return MC(),new e(fT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return LC(),new e(fT.fromUint8Array(t))}}]),e}();function UC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VC=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){lT(e=VS(e,tT));var n=nT(e);if(n._uninitializedComponentsProvider)throw new rm(nm.FAILED_PRECONDITION,"SDK cache is already specified.");Xv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new uS;return iT(n,i,new oS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){lT(e=VS(e,tT));var t=nT(e);if(t._uninitializedComponentsProvider)throw new rm(nm.FAILED_PRECONDITION,"SDK cache is already specified.");Xv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new uS;return iT(t,r,new sS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new rm(nm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new im;return e._queue.enqueueAndForgetEvenWhileRestricted(_t(wt().mark((function n(){return wt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=_t(wt().mark((function e(t){var n;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vm.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Zx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zC=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Yy||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Xv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};WS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return oT(this._delegate)}},{key:"disableNetwork",value:function(){return sT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&LS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return aT(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return EC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new rm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tN(this,QS(this._delegate,e))}catch(t){throw KC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new HC(this,YS(this._delegate,e))}catch(t){throw KC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $C(this,function(e,t){if(e=VS(e,qS),RS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rm(nm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new GS(e,null,function(e){return new $g(wm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw KC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return OC(this._delegate,(function(n){return e(new qC(t,n))}))}},{key:"batch",value:function(){var e=this;return nT(this._delegate),new WC(new NC(this._delegate,(function(t){return SC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return uT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return cT(this._delegate,e).then((function(e){return e?new $C(t,e):null}))}}]),e}(),BC=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new FC(new fT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return HC.forKey(t,this.firestore,null)}}]),n}(uC);var qC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return y(e,[{key:"get",value:function(e){var t=this,n=nN(e);return this._delegate.get(n).then((function(e){return new JC(t._firestore,new hC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nN(e);return n?(RC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=nN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nN(e);return this._delegate.delete(t),this}}]),e}(),WC=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=nN(e);return n?(RC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=nN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),GC=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new dC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BC(t),n),i.set(n,a)),a}}]),e}();GC.INSTANCES=new WeakMap;var HC=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tN(this.firestore,QS(this._delegate,e))}catch(t){throw KC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=nn(e))instanceof HS&&JS(this._delegate,e)}},{key:"set",value:function(e,t){t=RC("DocumentReference.set",t);try{return t?xC(this._delegate,e,t):xC(this._delegate,e)}catch(n){throw KC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?_C(this._delegate,e):_C.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw KC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return SC(VS((e=this._delegate).firestore,tT),[new sb(e._key,Hk.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),a=YC(n,(function(t){return new JC(e.firestore,new hC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return IC(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?gC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VS(e,HS);var t=VS(e.firestore,tT);return DS(nT(t),e._key,{source:"server"}).then((function(n){return TC(t,e,n)}))}(this._delegate):function(e){e=VS(e,HS);var t=VS(e.firestore,tT);return DS(nT(t),e._key).then((function(n){return TC(t,e,n)}))}(this._delegate)).then((function(e){return new JC(t.firestore,new hC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new rm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new HS(n._delegate,r,new Im(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new HS(n._delegate,r,t))}}]),e}();function KC(e,t,n){return e.message=e.message.replace(t,n),e}function QC(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!UC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=UC(e[0])?e[0]:UC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var JC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new HC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return mC(this._delegate,e._delegate)}}]),e}(),XC=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Zv(),t}}]),n}(JC),$C=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KT(this._delegate,function(e,t,n){var r=t,i=qT("where",e);return QT._create(i,r,n)}(t,n,r)))}catch(i){throw KC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qT("orderBy",e);return JT._create(n,t)}(t,n)))}catch(r){throw KC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KT(this._delegate,(zS("limit",n=t),XT._create("limit",n,"F"))))}catch(n){throw KC(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KT(this._delegate,(zS("limitToLast",n=t),XT._create("limitToLast",n,"L"))))}catch(n){throw KC(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,KT(this._delegate,ZT.apply(void 0,arguments)))}catch(t){throw KC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KT(this._delegate,eC.apply(void 0,arguments)))}catch(t){throw KC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KT(this._delegate,nC.apply(void 0,arguments)))}catch(t){throw KC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KT(this._delegate,rC.apply(void 0,arguments)))}catch(t){throw KC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return XS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?bC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?wC(this._delegate):kC(this._delegate)).then((function(e){return new eN(t.firestore,new pC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),a=YC(n,(function(t){return new eN(e.firestore,new pC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return IC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eN=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new $C(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return mC(this._delegate,e._delegate)}}]),e}(),tN=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new HC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new HC(this.firestore,void 0===e?YS(this._delegate):YS(this._delegate,e))}catch(t){throw KC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=VS(e.firestore,tT),r=YS(e),i=cC(e.converter,t);return SC(n,[xT(wT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Hk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new HC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return JS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(GC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($C);function nN(e){return VS(e,HS)}var rN=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(hT,n)}return y(e,[{key:"isEqual",value:function(e){return(e=nn(e))instanceof hT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(_m.keyField().canonicalString())}}]),e}(),iN=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ET("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new _T("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=PC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new CT("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aN={Firestore:zC,GeoPoint:pT,Timestamp:gm,Blob:FC,Transaction:qC,WriteBatch:WC,DocumentReference:HC,DocumentSnapshot:JC,Query:$C,QueryDocumentSnapshot:XC,QuerySnapshot:eN,CollectionReference:tN,FieldPath:rN,FieldValue:iN,setLogLevel:function(e){var t;t=e,Kv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new rn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aN)))}(e,(function(e,t){return new zC(e,t,new VC)})),e.registerVersion("@firebase/firestore-compat","0.3.22")}(Or);var oN={apiKey:"AIzaSyBFI6-260LBz9jzUCZe9D_4lgl7yWPrj74",authDomain:"project-5af5d.firebaseapp.com",projectId:"project-5af5d",storageBucket:"project-5af5d.appspot.com",messagingSenderId:"669927272304",appId:"1:669927272304:web:00b8be537797be4a90a9b5"};Or.initializeApp(oN);var sN=Or.initializeApp(oN),uN=Or.firestore(),cN=sN.auth();!function(e,t){var n="string"==typeof e?e:t||"(default)",r=Qn("object"==typeof e?e:nr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Pt("firestore");i&&WS.apply(void 0,[r].concat(h(i)))}}(sN);var lN=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=we(),h=l((0,r.useState)("sign-in"),2),d=h[0],p=h[1],v=function(e){n(e.target.value)},m=function(e){o(e.target.value)},y=function(){var e=_t(wt().mark((function e(){var n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cN.createUserWithEmailAndPassword(t,a);case 3:return n=e.sent,r=n.user.uid,e.next=7,uN.collection("users").doc(r).set({displayName:u,email:t,password:a});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),"auth/email-already-in-use"===e.t0.code?alert("Email is already in use. Please use a different email."):"auth/weak-password"===e.t0.code?alert("Password is too weak. Please use a stronger password."):(alert("Sign-up successful!"),f("/"));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=_t(wt().mark((function e(){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cN.signInWithEmailAndPassword(t,a);case 3:console.log("Sign-in successful!"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),"auth/user-not-found"===e.t0.code||"auth/wrong-password"===e.t0.code?alert("Invalid email or password. Please try again."):document.location="http://localhost:3000/";case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=_t(wt().mark((function e(){var t;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Or.auth.GoogleAuthProvider,e.prev=1,e.next=4,cN.signInWithPopup(t);case 4:f("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(e){p(e)};return(0,vt.jsxs)("div",{className:"container ".concat("sign-up"===d?"right-panel-active":""),id:"container",children:[(0,vt.jsx)("div",{className:"form-container sign-up-container",children:(0,vt.jsxs)("form",{action:"#",children:[(0,vt.jsx)("h1",{children:"Create Account"}),(0,vt.jsxs)("div",{className:"social-container",children:[(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)(Je,{})]}),(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)(Xe,{})]}),(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)($e,{})]})]}),(0,vt.jsx)("span",{children:"or use your email for registration"}),(0,vt.jsx)("input",{type:"text",placeholder:"Display Name",value:u,onChange:function(e){c(e.target.value)}}),(0,vt.jsx)("input",{type:"email",placeholder:"Email",value:t,onChange:v}),(0,vt.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:m}),(0,vt.jsx)("button",{onClick:y,children:"Sign Up"}),(0,vt.jsx)("p",{children:"or"}),(0,vt.jsx)("b",{onClick:k,className:"google",children:(0,vt.jsx)("img",{src:It,alt:"details.png"})})]})}),(0,vt.jsx)("div",{className:"form-container sign-in-container",children:(0,vt.jsxs)("form",{action:"#",children:[(0,vt.jsx)("h1",{children:"Sign in"}),(0,vt.jsxs)("div",{className:"social-container",children:[(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)(Je,{})]}),(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)(Xe,{})]}),(0,vt.jsxs)("a",{onClick:k,className:"social",children:[" ",(0,vt.jsx)($e,{})]})]}),(0,vt.jsx)("span",{children:"or use your account"}),(0,vt.jsx)("input",{type:"email",placeholder:"Email",value:t,onChange:v}),(0,vt.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:m}),(0,vt.jsx)("a",{href:"/",children:"Forgot your password?"}),(0,vt.jsx)("button",{onClick:g,children:"Sign In"}),(0,vt.jsx)("p",{children:"or"}),(0,vt.jsx)("b",{onClick:k,className:"google",children:(0,vt.jsx)("img",{src:It,alt:"details.png"})})]})}),(0,vt.jsx)("div",{className:"overlay-container",children:(0,vt.jsxs)("div",{className:"overlay",children:[(0,vt.jsxs)("div",{className:"overlay-panel overlay-left",children:[(0,vt.jsx)("h1",{children:"Welcome Back!"}),(0,vt.jsx)("p",{children:"To keep connected with us please login with your personal info"}),(0,vt.jsx)("button",{className:"ghost",onClick:function(){return b("sign-in")},children:"Sign In"})]}),(0,vt.jsxs)("div",{className:"overlay-panel overlay-right",children:[(0,vt.jsx)("h1",{children:"Hello, Friend!"}),(0,vt.jsx)("p",{children:"Enter your personal details and start journey with us"}),(0,vt.jsx)("button",{className:"ghost",onClick:function(){return b("sign-up")},children:"Sign Up"})]})]})}),(0,vt.jsx)("footer",{children:(0,vt.jsxs)("p",{children:["Created with ",(0,vt.jsx)("i",{className:"fa fa-heart"})," by",(0,vt.jsx)("a",{target:"_blank",href:"/",children:"Resume Maker"}),"."]})})]})};function fN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(e)}function hN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}}]})(e)}function dN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z",fill:"currentColor"}}]})(e)}function pN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M17.6569 16.2427L19.0711 14.8285L12.0001 7.75739L4.92896 14.8285L6.34317 16.2427L12.0001 10.5858L17.6569 16.2427Z",fill:"currentColor"}}]})(e)}function vN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,22 C12,22 4,16 4,10 C4,5 8,2 12,2 C16,2 20,5 20,10 C20,16 12,22 12,22 Z M12,13 C13.657,13 15,11.657 15,10 C15,8.343 13.657,7 12,7 C10.343,7 9,8.343 9,10 C9,11.657 10.343,13 12,13 L12,13 Z"}}]})(e)}function mN(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0083 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0013.8-25.8C465 391.17 468 391.17 451 374z"}}]})(e)}var yN=n.p+"static/media/abhishek.b0f0a430078ce9dee054.jpg",gN=n.p+"static/media/aditya.55df8ef4a3b98047b85a.jpg",kN=n.p+"static/media/anuja.71dec20deec0fef43ef6.png",bN=n.p+"static/media/hero-img.0ca59fa95a3a0b235b6d.jpg";var wN=function(){return(0,vt.jsxs)("div",{className:"about-page",children:[(0,vt.jsx)("header",{children:(0,vt.jsx)("h2",{children:"About Us"})}),(0,vt.jsxs)("section",{className:"about-us-section",children:[(0,vt.jsx)("img",{className:"img-1",src:bN,alt:"Team Member 1"}),(0,vt.jsx)("div",{className:"header-1",children:(0,vt.jsx)("p",{children:"We are a group of passionate developers who have been working together to create an application that will revolutionize the way we interact with A Resume Maker is a tool or application designed to assist individuals in creating professional and visually appealing resumes. Here are some key features and aspects you might want to consider for your Resume Maker project: Our journey began with a shared passion for technology and design among a group of ambitious individuals, including you, Abhishek Goswami. As second-year B.Tech CS students specializing in Blockchain and Cryptocurrency, we recognized the need for a tool that could empower individuals in a competitive job market. we set out to create a revolutionary Resume Maker. Our technical prowess and creative instincts came together to form a brand that stands for innovation, usability, and career advancement."})}),(0,vt.jsxs)("div",{className:"header-2",children:[(0,vt.jsx)("h2",{children:"Our Brand"}),(0,vt.jsx)("p",{children:"Our journey began with a shared passion for technology and design among a group of ambitious individuals, including you, Abhishek Goswami. As second-year B.Tech CS students specializing in Blockchain and Cryptocurrency, we recognized the need for a tool that could empower individuals in a competitive job market. Driven by a collective vision to bridge the gap between skills and opportunities, we set out to create a revolutionary Resume Maker. Our technical prowess and creative instincts came together to form a brand that stands for innovation, usability, and career advancement."})]}),(0,vt.jsx)("div",{children:(0,vt.jsx)("img",{className:"img-2",src:bN,alt:"Team Member 2"})}),(0,vt.jsxs)("div",{className:"header-3",children:[(0,vt.jsx)("h2",{children:"Brand Values"}),(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Innovation:"})," We are committed to pushing the boundaries of technology to create cutting-edge solutions."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"User-Centric Design:"})," At the core of our values is a commitment to user experience."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Integrity:"})," We uphold the highest standards of integrity and authenticity."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Continuous Improvement:"})," The job market is dynamic, and so are we."]})]})]}),(0,vt.jsxs)("div",{className:"header-4",children:[(0,vt.jsx)("h2",{children:"Brand Mission"}),(0,vt.jsx)("p",{children:"Our mission is to empower job seekers, like yourself, with the tools they need to present their skills and experiences in the best possible light. We understand the challenges individuals face in a competitive job market, and we aim to level the playing field by providing a Resume Maker that goes beyond the basics."})]}),(0,vt.jsxs)("div",{className:"header-5",children:[(0,vt.jsx)("h2",{children:"How We Help Job Seekers Enhance Their Careers"}),(0,vt.jsxs)("ol",{children:[(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Professionalism:"})," Our Resume Maker offers a range of professionally designed templates."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Customization:"})," We believe that every individual is unique, and so should be their resume."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Guidance:"})," We provide valuable guidance throughout the resume creation process."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Technological Edge:"})," Leveraging your expertise in full-stack development and design."]}),(0,vt.jsxs)("li",{children:[(0,vt.jsx)("strong",{children:"Blockchain Security:"})," For an added layer of security and authenticity, our tool leverages blockchain ."]})]})]}),(0,vt.jsx)("div",{children:(0,vt.jsx)("p",{children:"In essence, our brand is not just about creating resumes; it's about empowering individuals to take control of their careers and confidently pursue their professional aspirations. We are here to be a catalyst for your success in the ever-evolving landscape of the job market."})})]}),(0,vt.jsxs)("section",{className:"why-choose-us-section",children:[(0,vt.jsx)("h2",{children:"Why Choose Us"}),(0,vt.jsxs)("ui",{children:[(0,vt.jsx)("li",{children:"Easy-to-use templates"}),(0,vt.jsx)("li",{children:"Professional results"}),(0,vt.jsx)("li",{children:"Customize your resume"}),(0,vt.jsx)("li",{children:"Batter design"})]}),(0,vt.jsxs)("div",{className:"user-testimonials",children:[(0,vt.jsx)("blockquote",{children:"Display quotes from satisfied users to build trust."}),(0,vt.jsx)("blockquote",{children:"Display quotes from satisfied users to build trust."}),(0,vt.jsx)("blockquote",{children:"Display quotes from satisfied users to build trust."})]})]}),(0,vt.jsx)("section",{className:"meet-the-team-section",children:(0,vt.jsxs)("div",{className:"team-member",children:[(0,vt.jsx)("h2",{children:(0,vt.jsx)("u",{children:"Meet the Team"})}),(0,vt.jsx)("img",{src:yN,alt:"Team Member 1"}),(0,vt.jsx)("h3",{children:"Abhishek Goswami"}),(0,vt.jsx)("h4",{children:" Full Stack Developer and Designer | B.Tech CS (Blockchain & Cryptocurrency) Student"}),(0,vt.jsx)("p",{children:"Bio: Hello! I'm Abhishek Goswami, a passionate second-year B.Tech CS student specializing in Blockchain and Cryptocurrency at GLA UNIVERSITY. I am not just limited to coding; I am a versatile professional, combining my skills as a Full Stack Developer and Designer. In my spare time, I am engrossed in a project close to my heart - the development of a Resume Maker. Leveraging my skills in both design and development, I aim to create a tool that not only showcases technical prowess but also reflects a keen eye for aesthetics. This project exemplifies my belief in the marriage of form and function in the digital landscape. "}),(0,vt.jsx)("img",{src:gN,alt:"Team Member 3"}),(0,vt.jsx)("h3",{children:"Aditya Agarwal"}),(0,vt.jsx)("h4",{children:" Frontend Developer | B.Tech CS (Blockchain & Cryptocurrency) Student"}),(0,vt.jsx)("p",{children:"Bio: Hello! I'm Aditya Agarwal, a passionate second-year B.Tech CS student specializing in Blockchain and Cryptocurrency at GLA UNIVERSITY. I aim to create a tool that not only showcases technical prowess but also reflects a keen eye for aesthetics."}),(0,vt.jsx)("img",{src:kN,alt:"Team Member 1"}),(0,vt.jsx)("h3",{children:"Anuj Awasthi"}),(0,vt.jsx)("h4",{children:"Role:DataBase Developer"}),(0,vt.jsx)("p",{children:"Bio: I'm Anuj Awasthi, a passionate second-year B.Tech CS student specializing in Blockchain and Cryptocurrency at GLA UNIVERSITY. I aim to create a tool that not only showcases technical prowess but also reflects a keen eye for aesthetics."})]})}),(0,vt.jsxs)("section",{className:"our-process-section",children:[(0,vt.jsx)("h2",{children:"Our Process"}),(0,vt.jsxs)("ui",{children:[(0,vt.jsx)("li",{children:"Step 1: Fill Your Details"}),(0,vt.jsx)("li",{children:"Step 2: Choose a Template"}),(0,vt.jsx)("li",{children:"Step 3: Customize Your Resume"}),(0,vt.jsx)("li",{children:"Step 4: Download Your Resume"})]}),(0,vt.jsx)("button",{className:"button1",children:(0,vt.jsx)("a",{href:"./Templates",children:"Build Your Resume"})})]}),(0,vt.jsxs)("section",{className:"partnerships-section",children:[(0,vt.jsx)("h2",{children:"Our Partners"}),(0,vt.jsxs)("ul",{children:[(0,vt.jsx)("img",{className:"img3",src:It,alt:"Team Member 2"}),(0,vt.jsx)("img",{className:"img3",src:It,alt:"Team Member 2"}),(0,vt.jsx)("img",{className:"img3",src:It,alt:"Team Member 2"})]})]}),(0,vt.jsx)("section",{className:"faq section-bg",children:(0,vt.jsxs)("div",{className:"faq-container","data-aos":"fade-up",children:[(0,vt.jsxs)("div",{className:"section-title",children:[(0,vt.jsx)("h2",{children:"Frequently Asked Questions"}),(0,vt.jsx)("p",{children:"Remember that these are general guidelines, and specific details may vary based on your industry and personal circumstances. Always tailor your resume to suit your individual needs and the requirements of the job you're applying for."})]}),(0,vt.jsx)("div",{className:"accordion-list",children:(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{"data-aos":"fade-up","data-aos-delay":"100",children:[(0,vt.jsx)(fN,{className:"icon-help"}),(0,vt.jsxs)("a",{"data-bs-toggle":"collapse","data-bs-target":"#accordion-list-2",className:"collapsed",children:["What is the purpose of a resume? ",(0,vt.jsx)(dN,{className:"icon-show"}),(0,vt.jsx)(pN,{className:"icon-close"})]}),(0,vt.jsx)("div",{id:"accordion-list-2",className:"collapse","data-bs-parent":".accordion-list",children:(0,vt.jsx)("p",{children:"The primary purpose of a resume is to secure a job interview. It serves as a marketing tool for job seekers to present their qualifications and experiences to potential employers in a clear and compelling manner."})})]}),(0,vt.jsxs)("li",{"data-aos":"fade-up","data-aos-delay":"100",children:[(0,vt.jsx)(fN,{className:"icon-help"}),(0,vt.jsxs)("a",{"data-bs-toggle":"collapse","data-bs-target":"#accordion-list-2",className:"collapsed",children:[" What should be included in a resume?",(0,vt.jsx)(dN,{className:"icon-show"}),(0,vt.jsx)(pN,{className:"icon-close"})]}),(0,vt.jsx)("div",{id:"accordion-list-2",className:"collapse","data-bs-parent":".accordion-list",children:(0,vt.jsx)("p",{children:"A resume typically includes the following sections: Contact Information Resume Summary or Objective Work Experience Education Skills Certifications (if applicable) Projects or Achievements (if applicable) Additional Sections (such as volunteer work, languages, or hobbies)"})})]}),(0,vt.jsxs)("li",{"data-aos":"fade-up","data-aos-delay":"200",children:[(0,vt.jsx)(fN,{className:"icon-help"})," ",(0,vt.jsxs)("a",{"data-bs-toggle":"collapse","data-bs-target":"#accordion-list-3",className:"collapsed",children:[" How long should a resume be? ",(0,vt.jsx)(dN,{className:"icon-show"}),(0,vt.jsx)(pN,{className:"icon-close"})]}),(0,vt.jsx)("div",{id:"accordion-list-3",className:"collapse","data-bs-parent":".accordion-list",children:(0,vt.jsx)("p",{children:"In most cases, a resume should be one to two pages in length. It should be concise and focused on highlighting relevant qualifications and experiences."})})]}),(0,vt.jsxs)("li",{"data-aos":"fade-up","data-aos-delay":"300",children:[(0,vt.jsx)(fN,{className:"icon-help"})," ",(0,vt.jsxs)("a",{"data-bs-toggle":"collapse","data-bs-target":"#accordion-list-4",className:"collapsed",children:["What is the difference between a resume and a CV? ",(0,vt.jsx)(dN,{className:"icon-show"}),(0,vt.jsx)(pN,{className:"icon-close"})]}),(0,vt.jsx)("div",{id:"accordion-list-4",className:"collapse","data-bs-parent":".accordion-list",children:(0,vt.jsx)("p",{children:"A resume is a brief summary of a person's work experience, skills, and education, typically limited to one or two pages. On the other hand, a Curriculum Vitae (CV) is a more comprehensive document that provides a detailed overview of academic and professional achievements, publications, presentations, and more. CVs are often longer than resumes."})})]}),(0,vt.jsxs)("li",{"data-aos":"fade-up","data-aos-delay":"400",children:[(0,vt.jsx)(fN,{className:"icon-help"})," ",(0,vt.jsxs)("a",{"data-bs-toggle":"collapse","data-bs-target":"#accordion-list-5",className:"collapsed",children:["How often should I update my resume? ",(0,vt.jsx)(dN,{className:"icon-show"}),(0,vt.jsx)(pN,{className:"icon-close"})]}),(0,vt.jsx)("div",{id:"accordion-list-5",className:"collapse","data-bs-parent":".accordion-list",children:(0,vt.jsx)("p",{children:"Regularly update your resume, especially when you gain new skills, complete educational programs, or achieve significant milestones in your career. Keeping your resume up-to-date ensures that you can quickly apply for new opportunities when they arise."})})]})]})})]})}),(0,vt.jsx)("section",{id:"contact",className:"contact",children:(0,vt.jsxs)("div",{className:"about-box","data-aos":"fade-up",children:[(0,vt.jsxs)("div",{className:"section-title",children:[(0,vt.jsx)("h2",{children:"Contact"}),(0,vt.jsx)("p",{children:"hi"})]}),(0,vt.jsxs)("div",{className:"row",children:[(0,vt.jsx)("div",{className:"col-lg-6",children:(0,vt.jsxs)("div",{className:"row",children:[(0,vt.jsxs)("div",{className:"col-lg-6 info",children:[(0,vt.jsx)(vN,{className:"i"}),(0,vt.jsx)("h4",{children:"Address"}),(0,vt.jsxs)("p",{children:["gla university",(0,vt.jsx)("br",{}),"mathura, up 281406"]})]}),(0,vt.jsxs)("div",{className:"col-lg-6 info",children:[(0,vt.jsx)(mN,{className:"i"}),(0,vt.jsx)("h4",{children:"Call Us"}),(0,vt.jsxs)("p",{children:["+916387XXXXXX",(0,vt.jsx)("br",{}),"+912490XXXXX"]})]}),(0,vt.jsxs)("div",{className:"col-lg-6 info",children:[(0,vt.jsx)(hN,{className:"i"}),(0,vt.jsx)("h4",{children:"Email Us"}),(0,vt.jsxs)("p",{children:["abhishekcs2022@gmail.com",(0,vt.jsx)("br",{}),"info@example.com"]})]}),(0,vt.jsxs)("div",{className:"col-lg-6 info",children:[(0,vt.jsx)(it,{className:"i"}),(0,vt.jsx)("h4",{children:"Working Hours"}),(0,vt.jsxs)("p",{children:["Mon - Fri: 10AM to 6PM",(0,vt.jsx)("br",{}),"sunday: 10AM to 1PM"]})]})]})}),(0,vt.jsx)("div",{className:"col-lg-6",children:(0,vt.jsxs)("form",{action:"./contact.php",method:"post",role:"form",class:"php-email-form","data-aos":"fade-up",children:[(0,vt.jsx)("div",{className:"form-group",children:(0,vt.jsx)("input",{placeholder:"Your Name",type:"text",name:"name",class:"form-control",id:"name",required:!0})}),(0,vt.jsx)("div",{className:"form-group mt-3",children:(0,vt.jsx)("input",{placeholder:"Your Email",type:"email",class:"form-control",name:"email",id:"email",required:!0})}),(0,vt.jsx)("div",{className:"form-group mt-3",children:(0,vt.jsx)("input",{placeholder:"Subject",type:"text",class:"form-control",name:"subject",id:"subject",required:!0})}),(0,vt.jsx)("div",{className:"form-group mt-3",children:(0,vt.jsx)("textarea",{placeholder:"Message",class:"form-control",name:"message",rows:"5",required:!0})}),(0,vt.jsxs)("div",{className:"my-3",children:[(0,vt.jsx)("div",{className:"loading",children:"Loading"}),(0,vt.jsx)("div",{className:"error-message"}),(0,vt.jsx)("div",{className:"sent-message",children:"Your message has been sent. Thank you!"})]}),(0,vt.jsx)("div",{className:"text-center",children:(0,vt.jsx)("button",{type:"submit",children:"Send Message"})})]})})]})]})}),(0,vt.jsx)("footer",{children:(0,vt.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Resume Builder. All rights reserved. Created  ",(0,vt.jsx)("i",{className:"fa fa-heart"})," by",(0,vt.jsx)("a",{target:"_blank",href:"/",children:"Resume Maker"}),"."]})})]})},xN=n.p+"static/media/logo.6c118ce2c54451b979b0.png";var _N=function(){return(0,vt.jsx)("header",{id:"header",class:"fixed-top  header-transparent ",children:(0,vt.jsxs)("nav",{className:"navbar",children:[(0,vt.jsxs)("div",{className:"logo-text-container",children:[(0,vt.jsx)("img",{className:"logo",src:xN,alt:"logo"}),(0,vt.jsx)("h1",{className:"text",children:(0,vt.jsx)("span",{children:"RESUME MAKER"})})]}),(0,vt.jsxs)("ul",{children:[(0,vt.jsx)("li",{children:(0,vt.jsx)("a",{class:"nav-link scrollto active",href:"/",children:"Home"})}),(0,vt.jsx)("li",{children:(0,vt.jsx)("a",{class:"nav-link scrollto",href:"/templates",children:"Templates"})}),(0,vt.jsx)("li",{children:(0,vt.jsx)("a",{class:"nav-link scrollto",href:"/about",children:"About"})}),(0,vt.jsx)("li",{children:(0,vt.jsx)("a",{class:"nav-link scrollto",href:"/login",children:"Login"})}),(0,vt.jsx)("li",{children:(0,vt.jsx)("a",{class:"getstarted scrollto",href:"/login",children:"Get Started"})})]})]})})},IN=n(735),EN=n.n(IN),SN=n(188),TN=n.n(SN);function CN(){return CN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}function NN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AN=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=NN(e,["color","size"]);return r.createElement("svg",CN({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.createElement("polyline",{points:"19 12 12 19 5 12"}))}));AN.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},AN.displayName="ArrowDown";var DN=AN;function ON(){return ON=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(this,arguments)}function jN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var PN=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=jN(e,["color","size"]);return r.createElement("svg",ON({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));PN.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},PN.displayName="X";var RN=PN;function LN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var MN="InputControl_container__WVeSE",FN=["label"];var UN=function(e){var t=e.label,n=LN(e,FN);return(0,vt.jsxs)("div",{className:MN,children:[t&&(0,vt.jsx)("label",{children:t}),(0,vt.jsx)("input",yn({type:"text",maxLength:50},n))]})},VN="Editor_container__OyopE",zN="Editor_header__gbYJX",BN="Editor_section__HSvMq",qN="Editor_active__8v9NG",WN="Editor_body__JoO9P",GN="Editor_detail__6AXVi",HN="Editor_row__tAh4H",KN="Editor_column__-DFon",QN="Editor_chip__C30FD",YN="Editor_new__0i+f6";var JN=function(e){var t,n,i,a,o,s,u,c,f,d,p=e.sections,v=e.information,m=l((0,r.useState)(Object.keys(p)[0]),2),y=m[0],g=m[1],k=l((0,r.useState)(v[p[Object.keys(p)[0]]]),2),b=k[0],w=k[1],x=l((0,r.useState)(0),2),_=x[0],I=x[1],E=l((0,r.useState)(p[Object.keys(p)[0]]),2),S=E[0],T=E[1],C=l((0,r.useState)({name:(null===b||void 0===b||null===(t=b.detail)||void 0===t?void 0:t.name)||"",title:(null===b||void 0===b||null===(n=b.detail)||void 0===n?void 0:n.title)||"",linkedin:(null===b||void 0===b||null===(i=b.detail)||void 0===i?void 0:i.linkedin)||"",address:(null===b||void 0===b||null===(a=b.detail)||void 0===a?void 0:a.address)||"",github:(null===b||void 0===b||null===(o=b.detail)||void 0===o?void 0:o.github)||"",phone:(null===b||void 0===b||null===(s=b.detail)||void 0===s?void 0:s.phone)||"",email:(null===b||void 0===b||null===(u=b.detail)||void 0===u?void 0:u.email)||"",image:null}),2),N=C[0],A=C[1],D=function(e,t){var n=yn({},N);Array.isArray(n.points)||(n.points=[]),n.points[t]=e,A(n)},O=(0,vt.jsxs)("div",{className:GN,children:[(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:" Job Title",placeholder:"Enter job title eg. Frontend developer",value:N.title,onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Company Name",placeholder:"Enter company name eg. amazon",value:N.companyName,onChange:function(e){return A((function(t){return yn(yn({},t),{},{companyName:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Certificate Link",placeholder:"Enter certificate link",value:N.certificationLink,onChange:function(e){return A((function(t){return yn(yn({},t),{},{certificationLink:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Location",placeholder:"Enter location eg. Remote",value:N.location,onChange:function(e){return A((function(t){return yn(yn({},t),{},{location:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Start Date",type:"date",placeholder:"Enter start date of work",value:N.startDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{startDate:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"End Date",type:"date",placeholder:"Enter end date of work",value:N.endDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{endDate:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:KN,children:[(0,vt.jsx)("label",{children:"Enter work description"}),(0,vt.jsx)(UN,{value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}})]})]}),j=(0,vt.jsxs)("div",{className:GN,children:[(0,vt.jsx)("div",{className:HN,children:(0,vt.jsx)(UN,{label:"Project Name",value:N.title,placeholder:"Enter project name eg. Chat app",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})}),(0,vt.jsx)(UN,{label:"Overview",value:N.overview,placeholder:"Enter basic overview of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{overview:e.target.value})}))}}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Deployed Link",value:N.link,placeholder:"Enter deployed link of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{link:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Github Link",value:N.github,placeholder:"Enter github link of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{github:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:KN,children:[(0,vt.jsx)("label",{children:"Enter project description"}),(0,vt.jsx)(UN,{value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}})]})]}),P=(0,vt.jsxs)("div",{className:GN,children:[(0,vt.jsx)("div",{className:HN,children:(0,vt.jsx)(UN,{label:"Degree",value:N.title,placeholder:"Enter degree eg. B-tech",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})}),(0,vt.jsx)(UN,{label:"College/School Name",value:N.college,placeholder:"Enter name of your college/school",onChange:function(e){return A((function(t){return yn(yn({},t),{},{college:e.target.value})}))}}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Start Date",type:"date",placeholder:"Enter start date of this education",value:N.startDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{startDate:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"End Date",type:"date",placeholder:"Enter end date of this education",value:N.endDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{endDate:e.target.value})}))}})]})]}),R=(0,vt.jsxs)("div",{className:GN,children:[(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Name",placeholder:"Enter your full name eg. Aashu",value:N.name,onChange:function(e){return A((function(t){return yn(yn({},t),{},{name:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Job Title",value:N.title,placeholder:"Enter your job title eg. Frontend developer",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Your Image",name:"image",type:"file",class:"form-control image",id:"",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){A((function(t){return yn(yn({},t),{},{image:e.target.result})}))},n.readAsDataURL(t)}}}),(0,vt.jsx)(UN,{label:"Address",value:N.address,placeholder:"Enter your address",onChange:function(e){return A((function(t){return yn(yn({},t),{},{address:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Linkedin Link",value:N.linkedin,placeholder:"Enter your linkedin profile link",onChange:function(e){return A((function(t){return yn(yn({},t),{},{linkedin:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Github Link",value:N.github,placeholder:"Enter your github profile link",onChange:function(e){return A((function(t){return yn(yn({},t),{},{github:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:HN,children:[(0,vt.jsx)(UN,{label:"Email",value:N.email,placeholder:"Enter your email",onChange:function(e){return A((function(t){return yn(yn({},t),{},{email:e.target.value})}))}}),(0,vt.jsx)(UN,{label:"Enter phone",value:N.phone,placeholder:"Enter your phone number",onChange:function(e){return A((function(t){return yn(yn({},t),{},{phone:e.target.value})}))}})]})]}),L=(0,vt.jsx)("div",{className:GN,children:(0,vt.jsxs)("div",{className:KN,children:[(0,vt.jsx)("label",{children:"List your achievements"}),(0,vt.jsx)(UN,{placeholder:"Line 1",value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}}),(0,vt.jsx)(UN,{placeholder:"Line 2",value:N.points?N.points[1]:"",onChange:function(e){return D(e.target.value,1)}}),(0,vt.jsx)(UN,{placeholder:"Line 3",value:N.points?N.points[2]:"",onChange:function(e){return D(e.target.value,2)}}),(0,vt.jsx)(UN,{placeholder:"Line 4",value:N.points?N.points[3]:"",onChange:function(e){return D(e.target.value,3)}})]})}),M=(0,vt.jsx)("div",{className:GN,children:(0,vt.jsxs)("div",{className:KN,children:[(0,vt.jsx)("label",{children:"List your Skills"}),(0,vt.jsx)(UN,{placeholder:"Line 1",value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}}),(0,vt.jsx)(UN,{placeholder:"Line 2",value:N.points?N.points[1]:"",onChange:function(e){return D(e.target.value,1)}}),(0,vt.jsx)(UN,{placeholder:"Line 3",value:N.points?N.points[2]:"",onChange:function(e){return D(e.target.value,2)}}),(0,vt.jsx)(UN,{placeholder:"Line 4",value:N.points?N.points[3]:"",onChange:function(e){return D(e.target.value,3)}})]})}),F=(0,vt.jsx)("div",{className:GN,children:(0,vt.jsx)(UN,{label:"Summary",value:N.summary,placeholder:"Enter your objective/summary",onChange:function(e){return A((function(t){return yn(yn({},t),{},{summary:e.target.value})}))}})});return(0,r.useEffect)((function(){var e,t,n,r,i,a,o,s,u,c,l,f,d,m,g,k,b,x,_,E=v[p[y]];w(E),T(p[y]),I(0),A({name:(null===E||void 0===E||null===(e=E.detail)||void 0===e?void 0:e.name)||"",overview:null!==E&&void 0!==E&&E.details&&(null===(t=E.details[0])||void 0===t?void 0:t.overview)||"",link:null!==E&&void 0!==E&&E.details&&(null===(n=E.details[0])||void 0===n?void 0:n.link)||"",certificationLink:null!==E&&void 0!==E&&E.details&&(null===(r=E.details[0])||void 0===r?void 0:r.certificationLink)||"",companyName:null!==E&&void 0!==E&&E.details&&(null===(i=E.details[0])||void 0===i?void 0:i.companyName)||"",college:null!==E&&void 0!==E&&E.details&&(null===(a=E.details[0])||void 0===a?void 0:a.college)||"",location:null!==E&&void 0!==E&&E.details&&(null===(o=E.details[0])||void 0===o?void 0:o.location)||"",startDate:null!==E&&void 0!==E&&E.details&&(null===(s=E.details[0])||void 0===s?void 0:s.startDate)||"",endDate:null!==E&&void 0!==E&&E.details&&(null===(u=E.details[0])||void 0===u?void 0:u.endDate)||"",points:null!==E&&void 0!==E&&E.details?null!==(c=E.details[0])&&void 0!==c&&c.points?h(null===(l=E.details[0])||void 0===l?void 0:l.points):"":null!==E&&void 0!==E&&E.points?h(E.points):"",title:null!==E&&void 0!==E&&E.details?(null===(f=E.details[0])||void 0===f?void 0:f.title)||"":(null===E||void 0===E||null===(d=E.detail)||void 0===d?void 0:d.title)||"",linkedin:(null===E||void 0===E||null===(m=E.detail)||void 0===m?void 0:m.linkedin)||"",address:(null===E||void 0===E||null===(g=E.detail)||void 0===g?void 0:g.address)||"",github:null!==E&&void 0!==E&&E.details?(null===(k=E.details[0])||void 0===k?void 0:k.github)||"":(null===E||void 0===E||null===(b=E.detail)||void 0===b?void 0:b.github)||"",phone:(null===E||void 0===E||null===(x=E.detail)||void 0===x?void 0:x.phone)||"",email:(null===E||void 0===E||null===(_=E.detail)||void 0===_?void 0:_.email)||"",skills:"object"!==typeof(null===E||void 0===E?void 0:E.detail)?E.detail:"",summary:"object"!==typeof(null===E||void 0===E?void 0:E.detail)?E.detail:""})}),[y]),(0,r.useEffect)((function(){w(v[p[y]])}),[v]),(0,r.useEffect)((function(){var e,t,n,r,i,a,o,s,u,c,l,f;if(null===b||void 0===b?void 0:b.details){var h=v[p[y]];A({overview:(null===(e=h.details[_])||void 0===e?void 0:e.overview)||"",link:(null===(t=h.details[_])||void 0===t?void 0:t.link)||"",certificationLink:(null===(n=h.details[_])||void 0===n?void 0:n.certificationLink)||"",companyName:(null===(r=h.details[_])||void 0===r?void 0:r.companyName)||"",location:(null===(i=h.details[_])||void 0===i?void 0:i.location)||"",startDate:(null===(a=h.details[_])||void 0===a?void 0:a.startDate)||"",endDate:(null===(o=h.details[_])||void 0===o?void 0:o.endDate)||"",points:(null===(s=h.details[_])||void 0===s?void 0:s.points)||"",title:(null===(u=h.details[_])||void 0===u?void 0:u.title)||"",linkedin:(null===(c=h.details[_])||void 0===c?void 0:c.linkedin)||"",github:(null===(l=h.details[_])||void 0===l?void 0:l.github)||"",college:(null===(f=h.details[_])||void 0===f?void 0:f.college)||""})}}),[_]),(0,vt.jsxs)("div",{className:VN,children:[(0,vt.jsx)("div",{className:zN,children:null===(c=Object.keys(p))||void 0===c?void 0:c.map((function(e){return(0,vt.jsx)("div",{className:"".concat(BN," ").concat(y===e?qN:""),onClick:function(){return g(e)},children:p[e]},e)}))}),(0,vt.jsxs)("div",{className:WN,children:[function(){switch(p[y]){case p.basicInfo:return R;case p.workExp:return O;case p.project:return j;case p.education:return P;case p.achievement:return L;case p.skills:return M;case p.summary:return F;default:return null}}(),(0,vt.jsx)("button",{onClick:function(){switch(p[y]){case p.basicInfo:var t={name:N.name,title:N.title,address:N.address,linkedin:N.linkedin,github:N.github,email:N.email,phone:N.phone,image:N.image};e.setInformation((function(e){return yn(yn({},e),{},Et({},p.basicInfo,yn(yn({},e[p.basicInfo]),{},{detail:t,sectionTitle:S})))}));break;case p.workExp:var n,r={certificationLink:N.certificationLink,title:N.title,startDate:N.startDate,endDate:N.endDate,companyName:N.companyName,location:N.location,points:N.points},i=h(null===(n=v[p.workExp])||void 0===n?void 0:n.details);i[_]=r,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.workExp,yn(yn({},e[p.workExp]),{},{details:i,sectionTitle:S})))}));break;case p.project:var a,o={link:N.link,title:N.title,overview:N.overview,github:N.github,points:N.points},s=h(null===(a=v[p.project])||void 0===a?void 0:a.details);s[_]=o,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.project,yn(yn({},e[p.project]),{},{details:s,sectionTitle:S})))}));break;case p.education:var u,c={title:N.title,college:N.college,startDate:N.startDate,endDate:N.endDate},l=h(null===(u=v[p.education])||void 0===u?void 0:u.details);l[_]=c,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.education,yn(yn({},e[p.education]),{},{details:l,sectionTitle:S})))}));break;case p.achievement:var f=N.points;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.achievement,yn(yn({},e[p.achievement]),{},{points:f,sectionTitle:S})))}));break;case p.summary:var d=N.summary;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.summary,yn(yn({},e[p.summary]),{},{detail:d,sectionTitle:S})))}));break;case p.skills:var m=N.points;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.skills,yn(yn({},e[p.skills]),{},{points:m,sectionTitle:S})))}))}},children:"Save"}),null!==b&&void 0!==b&&b.details?null===b||void 0===b||null===(f=b.details)||void 0===f?void 0:f.map((function(t,n){return(0,vt.jsxs)("div",{className:"".concat(QN," ").concat(_===n?qN:""),onClick:function(){return I(n)},children:[(0,vt.jsxs)("p",{children:[p[y]," ",n+1]}),(0,vt.jsx)(RN,{onClick:function(t){t.stopPropagation(),function(t){var n=null!==b&&void 0!==b&&b.details?h(null===b||void 0===b?void 0:b.details):"";n&&(n.splice(t,1),e.setInformation((function(e){return yn(yn({},e),{},Et({},p[y],yn(yn({},v[p[y]]),{},{details:n})))})),I((function(e){return e===t?0:e-1})))}(n)}})]},t.title+n)})):"",null!==b&&void 0!==b&&b.details&&(null===b||void 0===b||null===(d=b.details)||void 0===d?void 0:d.length)>0?(0,vt.jsx)("div",{className:YN,onClick:function(){var t=null===b||void 0===b?void 0:b.details;if(t){var n=t.slice(-6)[0];Object.keys(n).length&&(null===t||void 0===t||t.push({}),e.setInformation((function(e){return yn(yn({},e),{},Et({},p[y],yn(yn({},v[p[y]]),{},{details:t})))})),I((null===t||void 0===t?void 0:t.length)-1))}},children:(0,vt.jsx)("button",{children:(0,vt.jsx)("b",{children:"ADD"})})}):""]})]})};function XN(){return XN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XN.apply(this,arguments)}function $N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ZN=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=$N(e,["color","size"]);return r.createElement("svg",XN({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}))}));ZN.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},ZN.displayName="Paperclip";var eA=ZN;function tA(){return tA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tA.apply(this,arguments)}function nA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rA=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=nA(e,["color","size"]);return r.createElement("svg",tA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))}));rA.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},rA.displayName="Calendar";var iA=rA;function aA(){return aA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(this,arguments)}function oA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sA=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=oA(e,["color","size"]);return r.createElement("svg",aA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.createElement("circle",{cx:"12",cy:"10",r:"3"}))}));sA.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},sA.displayName="MapPin";var uA=sA;function cA(){return cA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cA.apply(this,arguments)}function lA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fA=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=lA(e,["color","size"]);return r.createElement("svg",cA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));fA.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},fA.displayName="GitHub";var hA=fA;function dA(){return dA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dA.apply(this,arguments)}function pA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vA=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=pA(e,["color","size"]);return r.createElement("svg",dA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("circle",{cx:"12",cy:"12",r:"4"}),r.createElement("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}))}));vA.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},vA.displayName="AtSign";var mA=vA;function yA(){return yA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yA.apply(this,arguments)}function gA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kA=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=gA(e,["color","size"]);return r.createElement("svg",yA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));kA.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},kA.displayName="Phone";var bA=kA;function wA(){return wA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wA.apply(this,arguments)}function xA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _A=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,o=void 0===a?24:a,s=xA(e,["color","size"]);return r.createElement("svg",wA({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),r.createElement("rect",{x:"2",y:"9",width:"4",height:"12"}),r.createElement("circle",{cx:"4",cy:"4",r:"2"}))}));_A.propTypes={color:TN().string,size:TN().oneOfType([TN().string,TN().number])},_A.displayName="Linkedin";var IA=_A,EA={container:"Resume_container__vEpGe",header:"Resume_header__kZOr8",Image:"Resume_Image__KSgko",profileImage:"Resume_profileImage__LiC0C",p:"Resume_p__uvYwo",heading:"Resume_heading__lNKsh",subHeading:"Resume_subHeading__SY3SX",links:"Resume_links__URB7G",link:"Resume_link__ZGH7g",main:"Resume_main__N5e5V",col1:"Resume_col1__WpNRb",col2:"Resume_col2__C-Ecn",section:"Resume_section__sTULr",sectionTitle:"Resume_sectionTitle__M+iAG",content:"Resume_content__kA6lg",item:"Resume_item__jaleN",title:"Resume_title__bW0hP",subTitle:"Resume_subTitle__RI+5k",overview:"Resume_overview__3Itu8",date:"Resume_date__-tTwu",points:"Resume_points__SCyey",numbered:"Resume_numbered__KQ-6D",bulletList:"Resume_bulletList__elYml",bulletPoint:"Resume_bulletPoint__kl1fU",hidden:"Resume_hidden__inKWu"},SA=(0,r.forwardRef)((function(e,t){var n,i,a,o,s,u,c,f,d,p,v,m,y,g,k,b,w,x,_,I,E,S,T,C,N,A,D,O,j,P,R,L,M,F,U,V,z,B,q,W,G,H,K,Q,Y,J,X,$,Z,ee,te,ne,re,ie,ae=e.information,oe=e.sections,se=(0,r.useRef)(),ue=l((0,r.useState)([[],[]]),2),ce=ue[0],le=ue[1],fe=l((0,r.useState)(""),2),he=fe[0],de=fe[1],pe=l((0,r.useState)(""),2),ve=pe[0],me=pe[1],ye={workExp:ae[oe.workExp],project:ae[oe.project],achievement:ae[oe.achievement],education:ae[oe.education],basicInfo:ae[oe.basicInfo],skills:ae[oe.skills],summary:ae[oe.summary]},ge=function(e){if(!e)return"";var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},ke=(Et(A={},oe.workExp,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.workExp)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.workExp)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(n=ye.workExp)&&void 0!==n&&n.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:ye.workExp.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:null===(i=ye.workExp)||void 0===i||null===(a=i.details)||void 0===a?void 0:a.map((function(e){var t,n;return(0,vt.jsxs)("div",{className:EA.item,children:[e.title?(0,vt.jsx)("p",{className:EA.title,children:e.title}):(0,vt.jsx)("span",{}),e.companyName?(0,vt.jsx)("p",{className:EA.subTitle,children:e.companyName}):(0,vt.jsx)("span",{}),e.certificationLink?(0,vt.jsxs)("a",{className:EA.link,href:e.certificationLink,children:[(0,vt.jsx)(eA,{}),e.certificationLink]}):(0,vt.jsx)("span",{}),e.startDate&&e.endDate?(0,vt.jsxs)("div",{className:EA.date,children:[(0,vt.jsx)(iA,{})," ",ge(e.startDate),"-",ge(e.endDate)]}):(0,vt.jsx)("div",{}),e.location?(0,vt.jsxs)("p",{className:EA.date,children:[(0,vt.jsx)(uA,{})," Remote"]}):(0,vt.jsx)("span",{}),(null===(t=e.points)||void 0===t?void 0:t.length)>0?(0,vt.jsx)("ul",{className:EA.points,children:null===(n=e.points)||void 0===n?void 0:n.map((function(e,t){return(0,vt.jsx)("li",{className:EA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})]},e.title)}))})]},"workexp")),Et(A,oe.project,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.project)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.project)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(o=ye.project)&&void 0!==o&&o.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:ye.project.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:null===(s=ye.project)||void 0===s||null===(u=s.details)||void 0===u?void 0:u.map((function(e){var t,n;return(0,vt.jsxs)("div",{className:EA.item,children:[e.title?(0,vt.jsx)("p",{className:EA.title,children:e.title}):(0,vt.jsx)("span",{}),e.link?(0,vt.jsxs)("a",{className:EA.link,href:e.link,children:[(0,vt.jsx)(eA,{}),e.link]}):(0,vt.jsx)("span",{}),e.github?(0,vt.jsxs)("a",{className:EA.link,href:e.github,children:[(0,vt.jsx)(hA,{}),e.github]}):(0,vt.jsx)("span",{}),e.overview?(0,vt.jsxs)("p",{className:EA.overview,children:[e.overview," "]}):(0,vt.jsx)("span",{}),(null===(t=e.points)||void 0===t?void 0:t.length)>0?(0,vt.jsx)("ul",{className:EA.points,children:null===(n=e.points)||void 0===n?void 0:n.map((function(e,t){return(0,vt.jsx)("li",{className:EA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})]})}))})]},"project")),Et(A,oe.education,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.education)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.education)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(c=ye.education)&&void 0!==c&&c.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:null===(f=ye.education)||void 0===f?void 0:f.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:null===(d=ye.education)||void 0===d||null===(p=d.details)||void 0===p?void 0:p.map((function(e){return(0,vt.jsxs)("div",{className:EA.item,children:[e.title?(0,vt.jsx)("p",{className:EA.title,children:e.title}):(0,vt.jsx)("span",{}),e.college?(0,vt.jsx)("p",{className:EA.subTitle,children:e.college}):(0,vt.jsx)("span",{}),e.startDate&&e.endDate?(0,vt.jsxs)("div",{className:EA.date,children:[(0,vt.jsx)(iA,{})," ",ge(e.startDate)," -",ge(e.endDate)]}):""]})}))})]},"education")),Et(A,oe.achievement,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.achievement)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.achievement)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(v=ye.achievement)&&void 0!==v&&v.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:null===(m=ye.achievement)||void 0===m?void 0:m.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:(null===(y=ye.achievement)||void 0===y||null===(g=y.points)||void 0===g?void 0:g.length)>0?(0,vt.jsx)("ul",{className:EA.numbered,children:null===(k=ye.achievement)||void 0===k||null===(b=k.points)||void 0===b?void 0:b.map((function(e,t){return(0,vt.jsx)("li",{className:EA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})})]},"achievement")),Et(A,oe.skills,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.skills)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.skills)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(w=ye.skills)&&void 0!==w&&w.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:null===(x=ye.skills)||void 0===x?void 0:x.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:(null===(_=ye.skills)||void 0===_||null===(I=_.points)||void 0===I?void 0:I.length)>0?(0,vt.jsx)("ul",{className:EA.bulletList,children:null===(E=ye.skills)||void 0===E||null===(S=E.points)||void 0===S?void 0:S.map((function(e,t){return(0,vt.jsx)("li",{className:EA.bulletPoint,children:e},e+t)}))}):(0,vt.jsx)("span",{})})]},"skills")),Et(A,oe.summary,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.summary)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.summary)||void 0===e?void 0:e.id)},className:"".concat(EA.section," ").concat(null!==(T=ye.summary)&&void 0!==T&&T.sectionTitle?"":EA.hidden),children:[(0,vt.jsx)("div",{className:EA.sectionTitle,children:null===(C=ye.summary)||void 0===C?void 0:C.sectionTitle}),(0,vt.jsx)("div",{className:EA.content,children:(0,vt.jsx)("p",{className:EA.overview,children:null===(N=ye.summary)||void 0===N?void 0:N.detail})})]},"summary")),A);return(0,r.useEffect)((function(){le([[oe.workExp,oe.achievement,oe.skills],[oe.project,oe.education,oe.summary]])}),[]),(0,r.useEffect)((function(){!function(e,t){if(e&&t){var n=[h(ce[0]),h(ce[1])],r=n[0].findIndex((function(t){return t===e})),i=0;r<0&&(i=1,r=n[1].findIndex((function(t){return t===e})));var a=n[0].findIndex((function(e){return e===t})),o=0;a<0&&(o=1,a=n[1].findIndex((function(e){return e===t})));var s=n[i][r];n[i][r]=n[o][a],n[o][a]=s,le(n)}}(he,ve)}),[he]),(0,r.useEffect)((function(){var t=se.current;e.activeColor&&t&&t.style.setProperty("--color",e.activeColor)}),[e.activeColor]),(0,vt.jsx)("div",{ref:t,children:(0,vt.jsxs)("div",{ref:se,className:EA.container,children:[(0,vt.jsxs)("div",{className:EA.header,children:[(0,vt.jsx)("div",{className:EA.Image,children:(null===(D=ye.basicInfo)||void 0===D||null===(O=D.detail)||void 0===O?void 0:O.image)&&(0,vt.jsx)("img",{src:null===(j=ye.basicInfo)||void 0===j||null===(P=j.detail)||void 0===P?void 0:P.image,alt:"User's Image",className:EA.profileImage})}),(0,vt.jsxs)("div",{className:EA.p,children:[(0,vt.jsx)("p",{className:EA.heading,children:null===(R=ye.basicInfo)||void 0===R||null===(L=R.detail)||void 0===L?void 0:L.name}),(0,vt.jsx)("p",{className:EA.subHeading,children:null===(M=ye.basicInfo)||void 0===M||null===(F=M.detail)||void 0===F?void 0:F.title})]}),(0,vt.jsxs)("div",{className:EA.links,children:[null!==(U=ye.basicInfo)&&void 0!==U&&null!==(V=U.detail)&&void 0!==V&&V.email?(0,vt.jsxs)("a",{className:EA.link,type:"email",children:[(0,vt.jsx)(mA,{})," ",null===(z=ye.basicInfo)||void 0===z||null===(B=z.detail)||void 0===B?void 0:B.email]}):(0,vt.jsx)("span",{}),null!==(q=ye.basicInfo)&&void 0!==q&&null!==(W=q.detail)&&void 0!==W&&W.phone?(0,vt.jsxs)("a",{className:EA.link,children:[(0,vt.jsx)(bA,{})," ",null===(G=ye.basicInfo)||void 0===G||null===(H=G.detail)||void 0===H?void 0:H.phone]}):(0,vt.jsx)("span",{}),null!==(K=ye.basicInfo)&&void 0!==K&&null!==(Q=K.detail)&&void 0!==Q&&Q.linkedin?(0,vt.jsxs)("a",{className:EA.link,children:[(0,vt.jsx)(IA,{})," ",null===(Y=ye.basicInfo)||void 0===Y||null===(J=Y.detail)||void 0===J?void 0:J.linkedin]}):(0,vt.jsx)("span",{}),null!==(X=ye.basicInfo)&&void 0!==X&&null!==($=X.detail)&&void 0!==$&&$.github?(0,vt.jsxs)("a",{className:EA.link,children:[(0,vt.jsx)(hA,{})," ",null===(Z=ye.basicInfo)||void 0===Z||null===(ee=Z.detail)||void 0===ee?void 0:ee.github]}):(0,vt.jsx)("span",{}),null!==(te=ye.basicInfo)&&void 0!==te&&null!==(ne=te.detail)&&void 0!==ne&&ne.address?(0,vt.jsxs)("a",{className:EA.link,children:[(0,vt.jsx)(uA,{})," ",null===(re=ye.basicInfo)||void 0===re||null===(ie=re.detail)||void 0===ie?void 0:ie.address]}):(0,vt.jsx)("span",{})]})]}),(0,vt.jsxs)("div",{className:EA.main,children:[(0,vt.jsx)("div",{className:EA.col1,children:ce[0].map((function(e){return ke[e]}))}),(0,vt.jsx)("div",{className:EA.col2,children:ce[1].map((function(e){return ke[e]}))})]})]})})})),TA="Body_container__Rs+m9",CA="Body_heading__xQv6c",NA="Body_toolbar__jECKj",AA="Body_main__dqx11";var DA=function(){var e,t={basicInfo:"Basic Info",workExp:"Work Experience",project:"Projects",education:"Education",achievement:"Achievements",skills:"Skills",summary:"Summary"},n=(0,r.useRef)(),i=l((0,r.useState)("#239ce2"),1)[0],a=l((0,r.useState)((Et(e={},t.basicInfo,{id:t.basicInfo,sectionTitle:t.basicInfo,detail:{}}),Et(e,t.workExp,{id:t.workExp,sectionTitle:t.workExp,details:[]}),Et(e,t.project,{id:t.project,sectionTitle:t.project,details:[]}),Et(e,t.education,{id:t.education,sectionTitle:t.education,details:[]}),Et(e,t.achievement,{id:t.achievement,sectionTitle:t.achievement,points:[]}),Et(e,t.skills,{id:t.skills,sectionTitle:t.skills,detail:""}),Et(e,t.summary,{id:t.summary,sectionTitle:t.summary,detail:""}),e)),2),o=a[0],s=a[1];return(0,vt.jsxs)("div",{className:TA,children:[(0,vt.jsx)("p",{className:CA,children:"Resume Builder"}),(0,vt.jsxs)("div",{className:AA,children:[(0,vt.jsx)(JN,{sections:t,information:o,setInformation:s})," ",(0,vt.jsx)("div",{className:NA,children:(0,vt.jsx)(EN(),{trigger:function(){return(0,vt.jsxs)("button",{children:["Download ",(0,vt.jsx)(DN,{})]})},content:function(){return n.current}})}),(0,vt.jsx)(SA,{ref:n,sections:t,information:o,activeColor:i})]})]})};var OA=function(){return(0,vt.jsx)("div",{children:(0,vt.jsx)(DA,{})})},jA="InputControl_container__7uRrc",PA="InputControl_input1__3mx0v",RA=["label"];var LA=function(e){var t=e.label,n=LN(e,RA);return(0,vt.jsxs)("div",{className:jA,children:[t&&(0,vt.jsx)("label",{children:t}),(0,vt.jsx)("input",yn({type:"text",maxLength:100,className:PA},n))]})},MA="Editor_container__aZGAF",FA="Editor_header__aDgfT",UA="Editor_section__HqqKy",VA="Editor_active__7b6rz",zA="Editor_body__Kb6oe",BA="Editor_detail__KzE12",qA="Editor_row__P7W2Q",WA="Editor_column__z2Ah1",GA="Editor_chip__NPyzZ",HA="Editor_new__6MC+F";var KA=function(e){var t,n,i,a,o,s,u,c,f,d,p=e.sections,v=e.information,m=l((0,r.useState)(Object.keys(p)[0]),2),y=m[0],g=m[1],k=l((0,r.useState)(v[p[Object.keys(p)[0]]]),2),b=k[0],w=k[1],x=l((0,r.useState)(0),2),_=x[0],I=x[1],E=l((0,r.useState)(p[Object.keys(p)[0]]),2),S=E[0],T=E[1],C=l((0,r.useState)({name:(null===b||void 0===b||null===(t=b.detail)||void 0===t?void 0:t.name)||"",title:(null===b||void 0===b||null===(n=b.detail)||void 0===n?void 0:n.title)||"",linkedin:(null===b||void 0===b||null===(i=b.detail)||void 0===i?void 0:i.linkedin)||"",address:(null===b||void 0===b||null===(a=b.detail)||void 0===a?void 0:a.address)||"",github:(null===b||void 0===b||null===(o=b.detail)||void 0===o?void 0:o.github)||"",phone:(null===b||void 0===b||null===(s=b.detail)||void 0===s?void 0:s.phone)||"",email:(null===b||void 0===b||null===(u=b.detail)||void 0===u?void 0:u.email)||"",image:null}),2),N=C[0],A=C[1],D=function(e,t){var n=yn({},N);Array.isArray(n.points)||(n.points=[]),n.points[t]=e,A(n)},O=(0,vt.jsxs)("div",{className:BA,children:[(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:" Job Title",placeholder:"Enter job title eg. Frontend developer",value:N.title,onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Company Name",placeholder:"Enter company name eg. amazon",value:N.companyName,onChange:function(e){return A((function(t){return yn(yn({},t),{},{companyName:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Certificate Link",placeholder:"Enter certificate link",value:N.certificationLink,onChange:function(e){return A((function(t){return yn(yn({},t),{},{certificationLink:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Location",placeholder:"Enter location eg. Remote",value:N.location,onChange:function(e){return A((function(t){return yn(yn({},t),{},{location:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Start Date",type:"date",placeholder:"Enter start date of work",value:N.startDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{startDate:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"End Date",type:"date",placeholder:"Enter end date of work",value:N.endDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{endDate:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:WA,children:[(0,vt.jsx)("label",{children:"Enter work description"}),(0,vt.jsx)(LA,{value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}})]})]}),j=(0,vt.jsxs)("div",{className:BA,children:[(0,vt.jsx)("div",{className:qA,children:(0,vt.jsx)(LA,{label:"Project Name",value:N.title,placeholder:"Enter project name eg. Chat app",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})}),(0,vt.jsx)(LA,{label:"Overview",value:N.overview,placeholder:"Enter basic overview of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{overview:e.target.value})}))}}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Deployed Link",value:N.link,placeholder:"Enter deployed link of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{link:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Github Link",value:N.github,placeholder:"Enter github link of project",onChange:function(e){return A((function(t){return yn(yn({},t),{},{github:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:WA,children:[(0,vt.jsx)("label",{children:"Enter project description"}),(0,vt.jsx)(LA,{value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}})]})]}),P=(0,vt.jsxs)("div",{className:BA,children:[(0,vt.jsx)("div",{className:qA,children:(0,vt.jsx)(LA,{label:"Degree",value:N.title,placeholder:"Enter degree eg. B-tech",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})}),(0,vt.jsx)(LA,{label:"College/School Name",value:N.college,placeholder:"Enter name of your college/school",onChange:function(e){return A((function(t){return yn(yn({},t),{},{college:e.target.value})}))}}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Start Date",type:"date",placeholder:"Enter start date of this education",value:N.startDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{startDate:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"End Date",type:"date",placeholder:"Enter end date of this education",value:N.endDate,onChange:function(e){return A((function(t){return yn(yn({},t),{},{endDate:e.target.value})}))}})]})]}),R=(0,vt.jsxs)("div",{className:BA,children:[(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Name",placeholder:"Enter your full name eg. Aashu",value:N.name,onChange:function(e){return A((function(t){return yn(yn({},t),{},{name:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Job Title",value:N.title,placeholder:"Enter your job title eg. Frontend developer",onChange:function(e){return A((function(t){return yn(yn({},t),{},{title:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Your Image",name:"image",type:"file",class:"form-control image",id:"",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){A((function(t){return yn(yn({},t),{},{image:e.target.result})}))},n.readAsDataURL(t)}}}),(0,vt.jsx)(LA,{label:"Address",value:N.address,placeholder:"Enter your address",onChange:function(e){return A((function(t){return yn(yn({},t),{},{address:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Linkedin Link",value:N.linkedin,placeholder:"Enter your linkedin profile link",onChange:function(e){return A((function(t){return yn(yn({},t),{},{linkedin:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Github Link",value:N.github,placeholder:"Enter your github profile link",onChange:function(e){return A((function(t){return yn(yn({},t),{},{github:e.target.value})}))}})]}),(0,vt.jsxs)("div",{className:qA,children:[(0,vt.jsx)(LA,{label:"Email",value:N.email,placeholder:"Enter your email",onChange:function(e){return A((function(t){return yn(yn({},t),{},{email:e.target.value})}))}}),(0,vt.jsx)(LA,{label:"Enter phone",value:N.phone,placeholder:"Enter your phone number",onChange:function(e){return A((function(t){return yn(yn({},t),{},{phone:e.target.value})}))}})]})]}),L=(0,vt.jsx)("div",{className:BA,children:(0,vt.jsxs)("div",{className:WA,children:[(0,vt.jsx)("label",{children:"List your achievements"}),(0,vt.jsx)(LA,{placeholder:"Line 1",value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}}),(0,vt.jsx)(LA,{placeholder:"Line 2",value:N.points?N.points[1]:"",onChange:function(e){return D(e.target.value,1)}}),(0,vt.jsx)(LA,{placeholder:"Line 3",value:N.points?N.points[2]:"",onChange:function(e){return D(e.target.value,2)}}),(0,vt.jsx)(LA,{placeholder:"Line 4",value:N.points?N.points[3]:"",onChange:function(e){return D(e.target.value,3)}})]})}),M=(0,vt.jsx)("div",{className:BA,children:(0,vt.jsxs)("div",{className:WA,children:[(0,vt.jsx)("label",{children:"List your Skills"}),(0,vt.jsx)(LA,{placeholder:"Line 1",value:N.points?N.points[0]:"",onChange:function(e){return D(e.target.value,0)}}),(0,vt.jsx)(LA,{placeholder:"Line 2",value:N.points?N.points[1]:"",onChange:function(e){return D(e.target.value,1)}}),(0,vt.jsx)(LA,{placeholder:"Line 3",value:N.points?N.points[2]:"",onChange:function(e){return D(e.target.value,2)}}),(0,vt.jsx)(LA,{placeholder:"Line 4",value:N.points?N.points[3]:"",onChange:function(e){return D(e.target.value,3)}})]})}),F=(0,vt.jsx)("div",{className:BA,children:(0,vt.jsx)(LA,{label:"Summary",value:N.summary,placeholder:"Enter your objective/summary",onChange:function(e){return A((function(t){return yn(yn({},t),{},{summary:e.target.value})}))}})});return(0,r.useEffect)((function(){var e,t,n,r,i,a,o,s,u,c,l,f,d,m,g,k,b,x,_,E=v[p[y]];w(E),T(p[y]),I(0),A({name:(null===E||void 0===E||null===(e=E.detail)||void 0===e?void 0:e.name)||"",overview:null!==E&&void 0!==E&&E.details&&(null===(t=E.details[0])||void 0===t?void 0:t.overview)||"",link:null!==E&&void 0!==E&&E.details&&(null===(n=E.details[0])||void 0===n?void 0:n.link)||"",certificationLink:null!==E&&void 0!==E&&E.details&&(null===(r=E.details[0])||void 0===r?void 0:r.certificationLink)||"",companyName:null!==E&&void 0!==E&&E.details&&(null===(i=E.details[0])||void 0===i?void 0:i.companyName)||"",college:null!==E&&void 0!==E&&E.details&&(null===(a=E.details[0])||void 0===a?void 0:a.college)||"",location:null!==E&&void 0!==E&&E.details&&(null===(o=E.details[0])||void 0===o?void 0:o.location)||"",startDate:null!==E&&void 0!==E&&E.details&&(null===(s=E.details[0])||void 0===s?void 0:s.startDate)||"",endDate:null!==E&&void 0!==E&&E.details&&(null===(u=E.details[0])||void 0===u?void 0:u.endDate)||"",points:null!==E&&void 0!==E&&E.details?null!==(c=E.details[0])&&void 0!==c&&c.points?h(null===(l=E.details[0])||void 0===l?void 0:l.points):"":null!==E&&void 0!==E&&E.points?h(E.points):"",title:null!==E&&void 0!==E&&E.details?(null===(f=E.details[0])||void 0===f?void 0:f.title)||"":(null===E||void 0===E||null===(d=E.detail)||void 0===d?void 0:d.title)||"",linkedin:(null===E||void 0===E||null===(m=E.detail)||void 0===m?void 0:m.linkedin)||"",address:(null===E||void 0===E||null===(g=E.detail)||void 0===g?void 0:g.address)||"",github:null!==E&&void 0!==E&&E.details?(null===(k=E.details[0])||void 0===k?void 0:k.github)||"":(null===E||void 0===E||null===(b=E.detail)||void 0===b?void 0:b.github)||"",phone:(null===E||void 0===E||null===(x=E.detail)||void 0===x?void 0:x.phone)||"",email:(null===E||void 0===E||null===(_=E.detail)||void 0===_?void 0:_.email)||"",skills:"object"!==typeof(null===E||void 0===E?void 0:E.detail)?E.detail:"",summary:"object"!==typeof(null===E||void 0===E?void 0:E.detail)?E.detail:""})}),[y]),(0,r.useEffect)((function(){w(v[p[y]])}),[v]),(0,r.useEffect)((function(){var e,t,n,r,i,a,o,s,u,c,l,f;if(null===b||void 0===b?void 0:b.details){var h=v[p[y]];A({overview:(null===(e=h.details[_])||void 0===e?void 0:e.overview)||"",link:(null===(t=h.details[_])||void 0===t?void 0:t.link)||"",certificationLink:(null===(n=h.details[_])||void 0===n?void 0:n.certificationLink)||"",companyName:(null===(r=h.details[_])||void 0===r?void 0:r.companyName)||"",location:(null===(i=h.details[_])||void 0===i?void 0:i.location)||"",startDate:(null===(a=h.details[_])||void 0===a?void 0:a.startDate)||"",endDate:(null===(o=h.details[_])||void 0===o?void 0:o.endDate)||"",points:(null===(s=h.details[_])||void 0===s?void 0:s.points)||"",title:(null===(u=h.details[_])||void 0===u?void 0:u.title)||"",linkedin:(null===(c=h.details[_])||void 0===c?void 0:c.linkedin)||"",github:(null===(l=h.details[_])||void 0===l?void 0:l.github)||"",college:(null===(f=h.details[_])||void 0===f?void 0:f.college)||""})}}),[_]),(0,vt.jsxs)("div",{className:MA,children:[(0,vt.jsx)("div",{className:FA,children:null===(c=Object.keys(p))||void 0===c?void 0:c.map((function(e){return(0,vt.jsx)("div",{className:"".concat(UA," ").concat(y===e?VA:""),onClick:function(){return g(e)},children:p[e]},e)}))}),(0,vt.jsxs)("div",{className:zA,children:[function(){switch(p[y]){case p.basicInfo:return R;case p.workExp:return O;case p.project:return j;case p.education:return P;case p.achievement:return L;case p.skills:return M;case p.summary:return F;default:return null}}(),(0,vt.jsx)("button",{onClick:function(){switch(p[y]){case p.basicInfo:var t={name:N.name,title:N.title,address:N.address,linkedin:N.linkedin,github:N.github,email:N.email,phone:N.phone,image:N.image};e.setInformation((function(e){return yn(yn({},e),{},Et({},p.basicInfo,yn(yn({},e[p.basicInfo]),{},{detail:t,sectionTitle:S})))}));break;case p.workExp:var n,r={certificationLink:N.certificationLink,title:N.title,startDate:N.startDate,endDate:N.endDate,companyName:N.companyName,location:N.location,points:N.points},i=h(null===(n=v[p.workExp])||void 0===n?void 0:n.details);i[_]=r,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.workExp,yn(yn({},e[p.workExp]),{},{details:i,sectionTitle:S})))}));break;case p.project:var a,o={link:N.link,title:N.title,overview:N.overview,github:N.github,points:N.points},s=h(null===(a=v[p.project])||void 0===a?void 0:a.details);s[_]=o,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.project,yn(yn({},e[p.project]),{},{details:s,sectionTitle:S})))}));break;case p.education:var u,c={title:N.title,college:N.college,startDate:N.startDate,endDate:N.endDate},l=h(null===(u=v[p.education])||void 0===u?void 0:u.details);l[_]=c,e.setInformation((function(e){return yn(yn({},e),{},Et({},p.education,yn(yn({},e[p.education]),{},{details:l,sectionTitle:S})))}));break;case p.achievement:var f=N.points;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.achievement,yn(yn({},e[p.achievement]),{},{points:f,sectionTitle:S})))}));break;case p.summary:var d=N.summary;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.summary,yn(yn({},e[p.summary]),{},{detail:d,sectionTitle:S})))}));break;case p.skills:var m=N.points;e.setInformation((function(e){return yn(yn({},e),{},Et({},p.skills,yn(yn({},e[p.skills]),{},{points:m,sectionTitle:S})))}))}},children:"Save"}),null!==b&&void 0!==b&&b.details?null===b||void 0===b||null===(f=b.details)||void 0===f?void 0:f.map((function(t,n){return(0,vt.jsxs)("div",{className:"".concat(GA," ").concat(_===n?VA:""),onClick:function(){return I(n)},children:[(0,vt.jsxs)("p",{children:[p[y]," ",n+1]}),(0,vt.jsx)(RN,{onClick:function(t){t.stopPropagation(),function(t){var n=null!==b&&void 0!==b&&b.details?h(null===b||void 0===b?void 0:b.details):"";n&&(n.splice(t,1),e.setInformation((function(e){return yn(yn({},e),{},Et({},p[y],yn(yn({},v[p[y]]),{},{details:n})))})),I((function(e){return e===t?0:e-1})))}(n)}})]},t.title+n)})):"",null!==b&&void 0!==b&&b.details&&(null===b||void 0===b||null===(d=b.details)||void 0===d?void 0:d.length)>0?(0,vt.jsx)("div",{className:HA,onClick:function(){var t=null===b||void 0===b?void 0:b.details;if(t){var n=t.slice(-6)[0];Object.keys(n).length&&(null===t||void 0===t||t.push({}),e.setInformation((function(e){return yn(yn({},e),{},Et({},p[y],yn(yn({},v[p[y]]),{},{details:t})))})),I((null===t||void 0===t?void 0:t.length)-1))}},children:(0,vt.jsx)("button",{children:(0,vt.jsx)("b",{children:"ADD"})})}):""]})]})},QA={container:"Resume_container__cw+A6",header:"Resume_header__vdTSX",heading:"Resume_heading__AfcoJ",subHeading:"Resume_subHeading__qBIUU",Image:"Resume_Image__92DzZ",profileImage:"Resume_profileImage__3VfET",links:"Resume_links__PHTFe",link:"Resume_link__AyBNz",main:"Resume_main__ojLS5",col1:"Resume_col1__45gPm",col2:"Resume_col2__JsTSJ",section:"Resume_section__81CeQ",sectionTitle:"Resume_sectionTitle__kGb72",content:"Resume_content__eoX1j",item:"Resume_item__CWvXs",title:"Resume_title__DW7g7",subTitle:"Resume_subTitle__q4sgz",date:"Resume_date__oV2bQ",points:"Resume_points__GWTpX",point:"Resume_point__J8ZPB",overview:"Resume_overview__5ONq-",numbered:"Resume_numbered__6s7n7",bulletList:"Resume_bulletList__v566b",bulletPoint:"Resume_bulletPoint__s4-Io"},YA=(0,r.forwardRef)((function(e,t){var n,i,a,o,s,u,c,f,d,p,v,m,y,g,k,b,w,x,_,I,E,S,T,C,N,A,D,O,j,P,R,L,M,F,U,V,z,B,q,W,G,H,K,Q,Y,J,X,$,Z,ee,te,ne,re,ie,ae=e.information,oe=e.sections,se=(0,r.useRef)(),ue=l((0,r.useState)([[],[]]),2),ce=ue[0],le=ue[1],fe=l((0,r.useState)(""),2),he=fe[0],de=fe[1],pe=l((0,r.useState)(""),2),ve=pe[0],me=pe[1],ye={workExp:ae[oe.workExp],project:ae[oe.project],achievement:ae[oe.achievement],education:ae[oe.education],basicInfo:ae[oe.basicInfo],skills:ae[oe.skills],summary:ae[oe.summary]},ge=function(e){if(!e)return"";var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},ke=(Et(A={},oe.workExp,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.workExp)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.workExp)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(n=ye.workExp)&&void 0!==n&&n.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:ye.workExp.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:null===(i=ye.workExp)||void 0===i||null===(a=i.details)||void 0===a?void 0:a.map((function(e){var t,n;return(0,vt.jsxs)("div",{className:QA.item,children:[e.title?(0,vt.jsx)("p",{className:QA.title,children:e.title}):(0,vt.jsx)("span",{}),e.companyName?(0,vt.jsx)("p",{className:QA.subTitle,children:e.companyName}):(0,vt.jsx)("span",{}),e.certificationLink?(0,vt.jsxs)("a",{className:QA.link,href:e.certificationLink,children:[(0,vt.jsx)(eA,{}),e.certificationLink]}):(0,vt.jsx)("span",{}),e.startDate&&e.endDate?(0,vt.jsxs)("div",{className:QA.date,children:[(0,vt.jsx)(iA,{})," ",ge(e.startDate),"-",ge(e.endDate)]}):(0,vt.jsx)("div",{}),e.location?(0,vt.jsxs)("p",{className:QA.date,children:[(0,vt.jsx)(uA,{})," Remote"]}):(0,vt.jsx)("span",{}),(null===(t=e.points)||void 0===t?void 0:t.length)>0?(0,vt.jsx)("ul",{className:QA.points,children:null===(n=e.points)||void 0===n?void 0:n.map((function(e,t){return(0,vt.jsx)("li",{className:QA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})]},e.title)}))})]},"workexp")),Et(A,oe.project,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.project)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.project)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(o=ye.project)&&void 0!==o&&o.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:ye.project.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:null===(s=ye.project)||void 0===s||null===(u=s.details)||void 0===u?void 0:u.map((function(e){var t,n;return(0,vt.jsxs)("div",{className:QA.item,children:[e.title?(0,vt.jsx)("p",{className:QA.title,children:e.title}):(0,vt.jsx)("span",{}),e.link?(0,vt.jsxs)("a",{className:QA.link,href:e.link,children:[(0,vt.jsx)(eA,{}),e.link]}):(0,vt.jsx)("span",{}),e.github?(0,vt.jsxs)("a",{className:QA.link,href:e.github,children:[(0,vt.jsx)(hA,{}),e.github]}):(0,vt.jsx)("span",{}),e.overview?(0,vt.jsxs)("p",{className:QA.overview,children:[e.overview," "]}):(0,vt.jsx)("span",{}),(null===(t=e.points)||void 0===t?void 0:t.length)>0?(0,vt.jsx)("ul",{className:QA.points,children:null===(n=e.points)||void 0===n?void 0:n.map((function(e,t){return(0,vt.jsx)("li",{className:QA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})]})}))})]},"project")),Et(A,oe.education,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.education)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.education)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(c=ye.education)&&void 0!==c&&c.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:null===(f=ye.education)||void 0===f?void 0:f.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:null===(d=ye.education)||void 0===d||null===(p=d.details)||void 0===p?void 0:p.map((function(e){return(0,vt.jsxs)("div",{className:QA.item,children:[e.title?(0,vt.jsx)("p",{className:QA.title,children:e.title}):(0,vt.jsx)("span",{}),e.college?(0,vt.jsx)("p",{className:QA.subTitle,children:e.college}):(0,vt.jsx)("span",{}),e.startDate&&e.endDate?(0,vt.jsxs)("div",{className:QA.date,children:[(0,vt.jsx)(iA,{})," ",ge(e.startDate)," -",ge(e.endDate)]}):""]})}))})]},"education")),Et(A,oe.achievement,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.achievement)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.achievement)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(v=ye.achievement)&&void 0!==v&&v.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:null===(m=ye.achievement)||void 0===m?void 0:m.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:(null===(y=ye.achievement)||void 0===y||null===(g=y.points)||void 0===g?void 0:g.length)>0?(0,vt.jsx)("ul",{className:QA.numbered,children:null===(k=ye.achievement)||void 0===k||null===(b=k.points)||void 0===b?void 0:b.map((function(e,t){return(0,vt.jsx)("li",{className:QA.point,children:e},e+t)}))}):(0,vt.jsx)("span",{})})]},"achievement")),Et(A,oe.skills,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.skills)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.skills)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(w=ye.skills)&&void 0!==w&&w.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:null===(x=ye.skills)||void 0===x?void 0:x.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:(null===(_=ye.skills)||void 0===_||null===(I=_.points)||void 0===I?void 0:I.length)>0?(0,vt.jsx)("ul",{className:QA.bulletList,children:null===(E=ye.skills)||void 0===E||null===(S=E.points)||void 0===S?void 0:S.map((function(e,t){return(0,vt.jsx)("li",{className:QA.bulletPoint,children:e},e+t)}))}):(0,vt.jsx)("span",{})})]},"skills")),Et(A,oe.summary,(0,vt.jsxs)("div",{draggable:!0,onDragOver:function(){var e;return me(null===(e=ye.summary)||void 0===e?void 0:e.id)},onDragEnd:function(){var e;return de(null===(e=ye.summary)||void 0===e?void 0:e.id)},className:"".concat(QA.section," ").concat(null!==(T=ye.summary)&&void 0!==T&&T.sectionTitle?"":QA.hidden),children:[(0,vt.jsx)("div",{className:QA.sectionTitle,children:null===(C=ye.summary)||void 0===C?void 0:C.sectionTitle}),(0,vt.jsx)("div",{className:QA.content,children:(0,vt.jsx)("p",{className:QA.overview,children:null===(N=ye.summary)||void 0===N?void 0:N.detail})})]},"summary")),A);return(0,r.useEffect)((function(){le([[oe.workExp,oe.achievement,oe.skills],[oe.project,oe.education,oe.summary]])}),[]),(0,r.useEffect)((function(){!function(e,t){if(e&&t){var n=[h(ce[0]),h(ce[1])],r=n[0].findIndex((function(t){return t===e})),i=0;r<0&&(i=1,r=n[1].findIndex((function(t){return t===e})));var a=n[0].findIndex((function(e){return e===t})),o=0;a<0&&(o=1,a=n[1].findIndex((function(e){return e===t})));var s=n[i][r];n[i][r]=n[o][a],n[o][a]=s,le(n)}}(he,ve)}),[he]),(0,r.useEffect)((function(){var t=se.current;e.activeColor&&t&&t.style.setProperty("--color",e.activeColor)}),[e.activeColor]),(0,vt.jsx)("div",{ref:t,children:(0,vt.jsxs)("div",{ref:se,className:QA.container,children:[(0,vt.jsxs)("div",{className:QA.header,children:[(0,vt.jsx)("div",{className:QA.Image,children:(null===(D=ye.basicInfo)||void 0===D||null===(O=D.detail)||void 0===O?void 0:O.image)&&(0,vt.jsx)("img",{src:null===(j=ye.basicInfo)||void 0===j||null===(P=j.detail)||void 0===P?void 0:P.image,alt:"User's Image",className:QA.profileImage})}),(0,vt.jsxs)("div",{classN:"side-bar",children:[(0,vt.jsx)("div",{className:QA.heading,children:null===(R=ye.basicInfo)||void 0===R||null===(L=R.detail)||void 0===L?void 0:L.name})," ",(0,vt.jsx)("p",{className:QA.subHeading,children:null===(M=ye.basicInfo)||void 0===M||null===(F=M.detail)||void 0===F?void 0:F.title})]}),(0,vt.jsxs)("div",{className:QA.links,children:[null!==(U=ye.basicInfo)&&void 0!==U&&null!==(V=U.detail)&&void 0!==V&&V.email?(0,vt.jsxs)("a",{className:QA.link,type:"email",children:[(0,vt.jsx)(mA,{})," ",null===(z=ye.basicInfo)||void 0===z||null===(B=z.detail)||void 0===B?void 0:B.email]}):(0,vt.jsx)("span",{}),null!==(q=ye.basicInfo)&&void 0!==q&&null!==(W=q.detail)&&void 0!==W&&W.phone?(0,vt.jsxs)("a",{className:QA.link,children:[(0,vt.jsx)(bA,{})," ",null===(G=ye.basicInfo)||void 0===G||null===(H=G.detail)||void 0===H?void 0:H.phone]}):(0,vt.jsx)("span",{}),null!==(K=ye.basicInfo)&&void 0!==K&&null!==(Q=K.detail)&&void 0!==Q&&Q.linkedin?(0,vt.jsxs)("a",{className:QA.link,children:[(0,vt.jsx)(IA,{})," ",null===(Y=ye.basicInfo)||void 0===Y||null===(J=Y.detail)||void 0===J?void 0:J.linkedin]}):(0,vt.jsx)("span",{}),null!==(X=ye.basicInfo)&&void 0!==X&&null!==($=X.detail)&&void 0!==$&&$.github?(0,vt.jsxs)("a",{className:QA.link,children:[(0,vt.jsx)(hA,{})," ",null===(Z=ye.basicInfo)||void 0===Z||null===(ee=Z.detail)||void 0===ee?void 0:ee.github]}):(0,vt.jsx)("span",{}),null!==(te=ye.basicInfo)&&void 0!==te&&null!==(ne=te.detail)&&void 0!==ne&&ne.address?(0,vt.jsxs)("a",{className:QA.link,children:[(0,vt.jsx)(uA,{})," ",null===(re=ye.basicInfo)||void 0===re||null===(ie=re.detail)||void 0===ie?void 0:ie.address]}):(0,vt.jsx)("span",{})]})]}),(0,vt.jsxs)("div",{className:QA.main,children:[(0,vt.jsx)("div",{className:QA.col1,children:ce[0].map((function(e){return ke[e]}))}),(0,vt.jsx)("div",{className:QA.col2,children:ce[1].map((function(e){return ke[e]}))})]})]})})})),JA="Body_container__Me0k7",XA="Body_heading__F1QX9",$A="Body_toolbar__fwD62",ZA="Body_main__S5mkq";var eD=function(){var e,t={basicInfo:"Basic Info",workExp:"Work Experience",project:"Projects",education:"Education",achievement:"Achievements",skills:"Skills",summary:"Summary"},n=(0,r.useRef)(),i=l((0,r.useState)("#239ce2"),1)[0],a=l((0,r.useState)((Et(e={},t.basicInfo,{id:t.basicInfo,sectionTitle:t.basicInfo,detail:{}}),Et(e,t.workExp,{id:t.workExp,sectionTitle:t.workExp,details:[]}),Et(e,t.project,{id:t.project,sectionTitle:t.project,details:[]}),Et(e,t.education,{id:t.education,sectionTitle:t.education,details:[]}),Et(e,t.achievement,{id:t.achievement,sectionTitle:t.achievement,points:[]}),Et(e,t.skills,{id:t.skills,sectionTitle:t.skills,points:[]}),Et(e,t.summary,{id:t.summary,sectionTitle:t.summary,detail:""}),e)),2),o=a[0],s=a[1];return(0,vt.jsxs)("div",{className:JA,children:[(0,vt.jsx)("p",{className:XA}),(0,vt.jsxs)("div",{className:ZA,children:[(0,vt.jsx)(KA,{sections:t,information:o,setInformation:s})," ",(0,vt.jsx)("div",{className:$A,children:(0,vt.jsx)(EN(),{trigger:function(){return(0,vt.jsxs)("button",{children:["Download ",(0,vt.jsx)(DN,{})]})},content:function(){return n.current}})}),(0,vt.jsx)(YA,{ref:n,sections:t,information:o,activeColor:i})]})]})};var tD=function(){return(0,vt.jsx)("div",{children:(0,vt.jsx)(eD,{})})};var nD=function(){return(0,vt.jsx)(Ve,{children:(0,vt.jsxs)("div",{className:"App",children:[(0,vt.jsx)(_N,{}),(0,vt.jsxs)(Re,{children:[" ",(0,vt.jsx)(je,{path:"/",element:(0,vt.jsx)(mt,{})}),(0,vt.jsx)(je,{path:"/template1",element:(0,vt.jsx)(OA,{})}),(0,vt.jsx)(je,{path:"/template2",element:(0,vt.jsx)(tD,{})}),(0,vt.jsx)(je,{path:"/templates",element:(0,vt.jsx)(bt,{})}),(0,vt.jsx)(je,{path:"/about",element:(0,vt.jsx)(wN,{})}),(0,vt.jsx)(je,{path:"/login",element:(0,vt.jsx)(lN,{})})]})]})})};a.render((0,vt.jsx)(r.StrictMode,{children:(0,vt.jsx)(nD,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.806e67fc.js.map